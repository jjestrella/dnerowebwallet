/*! For license information please see main.9bf51b73.chunk.js.LICENSE.txt */
(this["webpackJsonpdnero-webwallet"]=this["webpackJsonpdnero-webwallet"]||[]).push([[0],{137:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(11),a=n(54);function o(){o=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(j){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),i=new x(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return S()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=k(i,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(j){return{type:"throw",arg:j}}}e.wrap=u;var d={};function h(){}function p(){}function f(){}var m={};s(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(_([])));y&&y!==t&&n.call(y,a)&&(m=y);var g=f.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,c){var s=l(e[a],e,o);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function _(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,s(g,"constructor",f),s(f,"constructor",p),p.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,i,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(u(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),s(g,c,"Generator"),s(g,a,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=i.onSuccess,s=i.onError;return function(){var i=Object(r.a)(o().mark((function r(i,u){var l,d;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i({type:"".concat(e,"/START"),metadata:n}),r.prev=1,r.next=4,t();case 4:if(!(l=r.sent)){r.next=10;break}return r.next=8,l.json();case 8:d=r.sent,l={status:l.status,body:d};case 10:Object(a.b)(l)?(i({type:"".concat(e,"/SUCCESS"),response:l,metadata:n}),c&&c(i,l)):(i({type:"".concat(e,"/FAILURE"),response:null,metadata:n}),s&&s(i,l)),r.next=17;break;case 13:r.prev=13,r.t0=r.catch(1),i({type:"".concat(e,"/FAILURE"),response:null,metadata:n}),s&&s(i,null);case 17:return r.prev=17,i({type:"".concat(e,"/END"),metadata:n}),r.finish(17);case 20:case"end":return r.stop()}}),r,null,[[1,13,17,20]])})));return function(e,t){return i.apply(this,arguments)}}()}},138:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(11),a=n(2),o=n(3),i=n(135),c=n.n(i),s=n(72);function u(){u=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(j){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),i=new x(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return S()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=k(i,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(j){return{type:"throw",arg:j}}}e.wrap=s;var d={};function h(){}function p(){}function f(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(_([])));y&&y!==t&&n.call(y,a)&&(m=y);var g=f.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,c){var s=l(e[a],e,o);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function _(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,c(g,"constructor",f),c(f,"constructor",p),p.displayName=c(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var l=new c.a("https://mainnet.infura.io/v3/40980e2189924c8abfc5f60dd2e5dc4b"),d=new l.eth.Contract([{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function",signature:"0x06fdde03"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x095ea7b3"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x18160ddd"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_amount",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x23b872dd"},{constant:!0,inputs:[],name:"getController",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function",signature:"0x3018205f"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function",signature:"0x313ce567"},{constant:!1,inputs:[{name:"_newController",type:"address"}],name:"changeController",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x3cebb823"},{constant:!1,inputs:[{name:"_owner",type:"address"},{name:"_amount",type:"uint256"}],name:"mint",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x40c10f19"},{constant:!1,inputs:[{name:"_unlockTime",type:"uint256"}],name:"changeUnlockTime",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x48f1cfdb"},{constant:!0,inputs:[],name:"getUnlockTime",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x602bc62b"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0x70a08231"},{constant:!1,inputs:[{name:"_addr",type:"address"}],name:"allowPrecirculation",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x8ef16d02"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function",signature:"0x95d89b41"},{constant:!0,inputs:[{name:"_addr",type:"address"}],name:"isPrecirculationAllowed",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function",signature:"0x99d84045"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_amount",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0xa9059cbb"},{constant:!1,inputs:[{name:"_addr",type:"address"}],name:"disallowPrecirculation",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0xcc481912"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function",signature:"0xdd62ed3e"},{constant:!0,inputs:[],name:"controller",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function",signature:"0xf77c4791"},{inputs:[{name:"_unlockTime",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event",signature:"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_spender",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Approval",type:"event",signature:"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925"}],"0x3883f5e181fccaF8410FA61e12b59BAd963fb645"),h=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,null,[{key:"getWeb3",value:function(){return l}},{key:"getTransactionFee",value:function(e,t){try{var n=l.utils.toWei(e.toString(),"Gwei"),r=t.toString();return l.utils.fromWei((parseInt(n)*parseInt(r)).toString())}catch(a){return null}}},{key:"unsignedTransaction",value:function(e){var t=e.tokenType,n=e.from,r=e.to,a=e.amount,o=e.gas,i=e.gasPrice,c=l.utils.toWei(a),u=l.utils.toWei(i.toString(),"Gwei");return t===s.a.ERC20_DNERO?{from:n,to:"0x3883f5e181fccaF8410FA61e12b59BAd963fb645",data:d.methods.transfer(r,c).encodeABI(),gas:o,gasPrice:u}:t===s.a.ETHEREUM?{from:n,to:r,value:c,gas:o,gasPrice:u}:void 0}},{key:"estimateGas",value:function(){var t=Object(r.a)(u().mark((function t(n){var r,a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=e.unsignedTransaction(n),t.next=4,l.eth.estimateGas(r);case 4:return a=t.sent,t.abrupt("return",a);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},{key:"getGasPrice",value:function(){var e=Object(r.a)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.eth.getGasPrice();case 3:if(!(t=e.sent)){e.next=8;break}return e.abrupt("return",parseInt(l.utils.fromWei(t,"Gwei"))+1);case 8:return e.abrupt("return",null);case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"isAddress",value:function(e){try{return l.utils.isAddress(e)}catch(t){return!1}}},{key:"signTransaction",value:function(){var t=Object(r.a)(u().mark((function t(n,r){var a,o;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.unsignedTransaction(n),t.next=3,l.eth.accounts.signTransaction(a,r);case 3:if(!(o=t.sent)){t.next=8;break}return t.abrupt("return",o.rawTransaction);case 8:throw new Error("Failed to sign transaction.");case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}()},15:function(e,t,n){"use strict";n.d(t,"s",(function(){return v})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return g})),n.d(t,"k",(function(){return b})),n.d(t,"r",(function(){return w})),n.d(t,"j",(function(){return k})),n.d(t,"g",(function(){return E})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return x})),n.d(t,"m",(function(){return j})),n.d(t,"n",(function(){return N})),n.d(t,"i",(function(){return T})),n.d(t,"f",(function(){return C})),n.d(t,"c",(function(){return L})),n.d(t,"p",(function(){return A})),n.d(t,"o",(function(){return P})),n.d(t,"h",(function(){return I})),n.d(t,"q",(function(){return R})),n.d(t,"l",(function(){return D}));var r=n(11),a=n(17),o=n(32),i=n(8),c=n.n(i),s=(n(49),n(14)),u=n.n(s),l=n(197),d=n(39),h=n(9),p=n(64),f=n(28);function m(){m=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(j){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return S()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=k(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(j){return{type:"throw",arg:j}}}e.wrap=s;var l={};function d(){}function h(){}function p(){}var f={};c(f,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(_([])));y&&y!==t&&n.call(y,a)&&(f=y);var g=p.prototype=d.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,c){var s=u(e[a],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function _(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=p,c(g,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function v(e,t){return Object.assign.apply(Object,[{}].concat(Object(o.a)(e.map((function(e,n){return Object(a.a)({},e,t[n])})))))}function y(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}function g(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);var n=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);t.select(),document.execCommand("copy"),document.body.removeChild(t),n&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n))}function b(){var e=!0;try{e=window.navigator.onLine}catch(t){e=!0}return e}var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return e.slice(0,t+2)+"..."+e.slice(-1*t)};function k(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}function E(e){var t=e||document.location.search;return c.a.isNil(t)||0===t.length?{}:t.replace(/(^\?)/,"").split("&").map(function(e){return this[(e=e.split("="))[0]]=e[1],this}.bind({}))[0]}var O=function(e,t){var n=new u.a(e),r=new u.a(10).pow(t);return k(n.dividedBy(r).toString(10))},x=function(e){return k(new u.a(e).dividedBy(l.a).toString(10))},_=function(e,t){var n=new u.a(e),r=new u.a(10).pow(t);return n.multipliedBy(r)},S=function(e){return new u.a(e).multipliedBy(l.a)},j=function(e,t){var n=new u.a(e),r=new u.a(10).pow(t);return n.dividedBy(r)},N=function(e){return new u.a(e).dividedBy(l.a)},T=function(e,t,n){var r=null,a=null;return!!c.a.isNil(t)||("Dnero"===t.name?(r=S(""+n),a=new u.a(e.balances.dnerowei)):"Dnero Token"===t.name?(r=S(""+n),a=new u.a(e.balances.dtokenwei)):(r=_(""+n,t.decimals),a=new u.a(e.balances[t.contractAddress])),r.lte(a))},C=function(e,t){if("Dnero"===t.name)return x(e.balances.dnerowei);if("Dnero Token"===t.name)return x(e.balances.dtokenwei);var n=e.balances[t.contractAddress]||"0";return O(n,t.decimals)},L=function(){var e=Object(r.a)(m().mark((function e(t,n,r){var a,o,i,s,l,v,y,g,b,w,k,E,O,x,S,j,N,T,C,L,A,P,I,R,D,F,W,M,B,U,G,K,H,q,V,Y,z,J,X,Z,Q,$,ee,te,ne,re;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.accounts,o=r.selectedAddress,i=a[o],s=r.tokens,l=r.network.chainId,v=Object(d.d)(l,s),"send"!==t){e.next=19;break}if(y=n.to,g=n.assetId,b=n.amount,!(w=c.a.find(v,(function(e){return e.id===g}))).contractAddress){e.next=17;break}return k=new h.Contract(w.contractAddress,p.b,null),E=_(b,w.decimals),e.next=14,k.populateTransaction.transfer(y,E.toString());case 14:return e.abrupt("return",e.sent);case 17:return O={from:o,outputs:[{address:y,dneroWei:"dnero"===g?h.utils.toWei(b):"0",dtokenWei:"dtoken"===g?h.utils.toWei(b):"0"}]},e.abrupt("return",new h.transactions.SendTransaction(O));case 19:if("withdraw-stake"!==t){e.next=38;break}if(x=n.holder,S=n.purpose,j=n.amount,parseInt(S)!==f.d){e.next=36;break}return N=f.b[l],T=new h.Contract(N,p.a,null),C=parseFloat(j)/100,L=c.a.get(i,["dnc20Stakes"],{}),A=c.a.get(L,"ddrop.balance","0"),P=new u.a(A),I=P.multipliedBy(C).integerValue(),e.next=32,T.populateTransaction.unstake(I.toString());case 32:return R=e.sent,e.abrupt("return",R);case 36:return D={holder:x,purpose:S},e.abrupt("return",new h.transactions.WithdrawStakeTransaction(D));case 38:if("deposit-stake"!==t){e.next=75;break}if(F=n.holder,W=n.holderSummary,M=n.purpose,B=n.amount,(U=parseInt(M))!==h.constants.StakePurpose.StakeForValidator){e.next=46;break}return G={holder:F,purpose:U,amount:h.utils.toWei(B)},e.abrupt("return",new h.transactions.DepositStakeTransaction(G));case 46:if(U!==h.constants.StakePurpose.StakeForSentry){e.next=51;break}return K={holderSummary:W,purpose:U,amount:h.utils.toWei(B)},e.abrupt("return",new h.transactions.DepositStakeV2Transaction(K));case 51:if(U!==h.constants.StakePurpose.StakeForEliteEdge){e.next=56;break}return H={holderSummary:W,purpose:U,amount:h.utils.toWei(B)},e.abrupt("return",new h.transactions.DepositStakeV2Transaction(H));case 56:if(U!==f.d){e.next=73;break}return q=f.a[l],V=f.b[l],Y=new h.Contract(q,p.b,null),z=new h.Contract(V,p.a,null),J=c.a.keyBy(v,"id"),X=J[q],Z=_(B,X.decimals),e.next=66,Y.populateTransaction.approve(V,Z.toString());case 66:return Q=e.sent,e.next=69,z.populateTransaction.stake(Z.toString());case 69:return($=e.sent).gasLimit=15e4,$.dependencies=[Q],e.abrupt("return",$);case 73:e.next=83;break;case 75:if("delegate-ddrop-vote"!==t){e.next=83;break}return ee=n.address,te=f.b[l],ne=new h.Contract(te,p.a,null),e.next=81,ne.populateTransaction.delegate(ee);case 81:return re=e.sent,e.abrupt("return",re);case 83:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),A=function(e){if(c.a.isNil(e))return null;switch(e){case h.constants.TxType.Send:return"Send";case h.constants.TxType.SmartContract:return"Call Contract";case h.constants.TxType.DepositStake:case h.constants.TxType.DepositStakeV2:return"Deposit Stake";case h.constants.TxType.WithdrawStake:return"Withdraw Stake";default:return"Unknown type"}},P=function(e){var t=c.a.get(e,"txType"),n=c.a.get(e,"txData");try{if(t===h.constants.TxType.SmartContract&&c.a.isNil(c.a.get(n,"to")))return"Deploy Contract";var r=c.a.get(n,"data");new h.Contract(null,p.b,null).interface.decodeFunctionData("transfer(address,uint256)",r);return"Transfer Token"}catch(a){}return A(t)},I=function(e){if(e){var t=458;return e.startsWith("0x")&&(t+=2),e.length===t}return!1};function R(e,t){var n=e.split("."),r="",a=!1;return c.a.map(n[1],(function(e,n){a||n+1>t||("0"!==e&&(a=!0),r+=e)})),n[1]=r,n.join(".")}var D=function(e){return new Promise((function(t){return setTimeout(t,e)}))}},159:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),a=n(3),o=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"getWalletData",value:function(){return this._walletData}},{key:"setWalletData",value:function(e){this._walletData=e}}]),e}();o._walletData=null},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return ae})),n.d(t,"c",(function(){return oe})),n.d(t,"b",(function(){return ie})),n.d(t,"d",(function(){return ce})),n.d(t,"e",(function(){return se}));var r=n(11),a=n(2),o=n(3),i=n(9),c=n(69),s=n(8),u=n.n(s),l=n(138),d=n(29),h=n(54),p=n(136),f=n.n(p),m=n(188),v=n(189),y=n(102),g=n.n(y),b=n(100),w=n(101),k=n.n(w),E=n(32),O=n(190),x=n(25),_=n(12),S=n(6),j=n(7),N=function(e){Object(S.a)(n,e);var t=Object(j.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a.a)(this,n),(e=t.call(this))._state=r,e}return Object(o.a)(n,[{key:"getState",value:function(){return this._getState()}},{key:"putState",value:function(e){this._putState(e),this.emit("update",e)}},{key:"updateState",value:function(e){if(e&&"object"===typeof e){var t=this.getState(),n=Object.assign({},t,e);this.putState(n)}else this.putState(e)}},{key:"subscribe",value:function(e){this.on("update",e)}},{key:"unsubscribe",value:function(e){this.removeListener("update",e)}},{key:"_getState",value:function(){return this._state}},{key:"_putState",value:function(e){this._state=e}}]),n}(n(41).EventEmitter),T=n(41).EventEmitter,C="SimpleKeyring",L=function(e){Object(S.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this)).type=C,r.wallets=[],r.deserialize(e),r}return Object(o.a)(n,[{key:"serialize",value:function(){return Promise.resolve(this.wallets.map((function(e){return e.privateKey})))}},{key:"deserialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(n,r){try{e.wallets=t.map((function(e){return new i.Wallet(e)}))}catch(a){r(a)}n()}))}},{key:"addAccounts",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=[],n=0;n<e;n++){var r=i.Wallet.createRandom(null);t.push(r)}this.wallets=this.wallets.concat(t);var a=t.map((function(e){return e.getAddress()}));return Promise.resolve(a)}},{key:"getAccounts",value:function(){return Promise.resolve(this.wallets.map((function(e){return e.getAddress()})))}},{key:"signTransaction",value:function(e,t,n){var r=this._getWalletForAccount(e),a=(r=r.connect(n)).signTransaction(t);return Promise.resolve(a)}},{key:"signAndSendTransaction",value:function(e,t,n){var r=this._getWalletForAccount(e);r=r.connect(n),t.setFrom(e);var a=r.sendTransaction(t);return Promise.resolve(a)}},{key:"exportAccount",value:function(e){var t=this._getWalletForAccount(e);return Promise.resolve(t.privateKey())}},{key:"removeAccount",value:function(e){var t=e.toLowerCase();if(!this.wallets.map((function(e){return e.getAddress().toLowerCase()})).includes(t))throw new Error("Address ".concat(e," not found in this keyring"));this.wallets=this.wallets.filter((function(e){return e.getAddress().toLowerCase()!==t}))}},{key:"getPrivateKeyFor",value:function(e){if(!e)throw new Error("Must specify address.");return this._getWalletForAccount(e).privateKey()}},{key:"_getWalletForAccount",value:function(e){var t=this.wallets.find((function(t){return t.getAddress()===e}));if(!t)throw new Error("Simple Keyring - Unable to find matching address.");return t}}]),n}(T);L.type=C;var A=L;function P(){P=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new O(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return _()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function d(){}function h(){}function p(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&n.call(v,a)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,c){var s=u(e[a],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var I=n(41).EventEmitter,R=[A],D=function(e){Object(S.a)(n,e);var t=Object(j.a)(n);function n(e){var r;Object(a.a)(this,n),r=t.call(this);var o=e.initState||{};return r.store=new N(o),r.keyringTypes=e.keyringTypes?R.concat(e.keyringTypes):R,r.memStore=new N({isUnlocked:!1,keyringTypes:r.keyringTypes.map((function(e){return e.type})),keyrings:[]}),r.keyrings=[],r}return Object(o.a)(n,[{key:"fullUpdate",value:function(){return this.emit("update",this.memStore.getState()),this.memStore.getState()}},{key:"_updateMemStoreKeyrings",value:function(){var e=Object(r.a)(P().mark((function e(){var t;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.keyrings.map(this._dataForKeyring));case 2:return t=e.sent,e.abrupt("return",this.memStore.updateState({keyrings:t}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addNewKeyring",value:function(e,t){var n=this,r=new(this._getKeyringClassForType(e))(t);return r.getAccounts().then((function(){n.keyrings.push(r)})).then((function(){return n._updateMemStoreKeyrings()})).then((function(){return n.fullUpdate()})).then((function(){return r}))}},{key:"getAccounts",value:function(){var e=Object(r.a)(P().mark((function e(){var t,n;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.keyrings||[],e.next=3,Promise.all(t.map((function(e){return e.getAccounts()}))).then((function(e){return e.reduce((function(e,t){return e.concat(t)}),[])}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addNewAccount",value:function(){var e=Object(r.a)(P().mark((function e(t){var n=this;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.addAccounts(1);case 2:return e.sent.forEach((function(e){n.emit("newAccount",e)})),e.next=6,this._updateMemStoreKeyrings();case 6:return e.next=8,this.fullUpdate();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getKeyringsByType",value:function(e){return this.keyrings.filter((function(t){return t.type===e}))}},{key:"getPrimaryKeyring",value:function(){return this.keyrings[0]}},{key:"signTransaction",value:function(e,t){return this._getKeyringForAccount(e).then((function(n){return n.signTransaction(e,t)}))}},{key:"signAndSendTransaction",value:function(e,t,n){return this._getKeyringForAccount(e).then((function(r){return r.signAndSendTransaction(e,t,n)}))}},{key:"_getKeyringClassForType",value:function(e){return this.keyringTypes.find((function(t){return t.type===e}))}},{key:"_getKeyringForAccount",value:function(e){return Promise.all(this.keyrings.map((function(e){return Promise.all([e,e.getAccounts()])}))).then((function(t){var n=t.filter((function(t){return t[1].includes(e)}));if(n&&n.length>0)return n[0][0];throw new Error("No keyring found for the requested account.")}))}},{key:"_dataForKeyring",value:function(){var e=Object(r.a)(P().mark((function e(t){var n;return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAccounts();case 2:return n=e.sent,e.abrupt("return",{type:t.type,accounts:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"_clearKeyrings",value:function(){var e=Object(r.a)(P().mark((function e(){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.keyrings=[],this.memStore.updateState({keyrings:[]});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(I),F=n(17),W=function(e){Object(S.a)(n,e);var t=Object(j.a)(n);function n(e,r){var o;return Object(a.a)(this,n),(o=t.call(this,e)).updateStructure(r),o}return Object(o.a)(n,[{key:"updateStructure",value:function(e){var t=this;this.config=e,this.removeAllListeners();var n=function(n){Object.prototype.hasOwnProperty.call(e,n)&&e[n].subscribe((function(e){t.updateState(Object(F.a)({},n,e))}))};for(var r in e)n(r)}},{key:"getFlatState",value:function(){var e={};for(var t in this.config)if(Object.prototype.hasOwnProperty.call(this.config,t)){var n=this.config[t],r=n.getState?n.getState():n.state;e=Object(x.a)(Object(x.a)({},e),r)}return e}}]),n}(N),M=n(73);function B(){B=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new O(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return _()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function d(){}function h(){}function p(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&n.call(v,a)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,c){var s=u(e[a],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var U=function(e){Object(S.a)(n,e);var t=Object(j.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(a.a)(this,n),e=t.call(this);var o=Object(x.a)({accountTokens:{},assetImages:{},tokens:[],identities:{},lostIdentities:{},preferences:{autoLockTimeLimit:void 0},completedOnboarding:!1,selectedAddress:null,network:{chainId:i.networks.ChainIds.Mainnet},delegatedSentryNodes:[]},r.initState);return e.store=new N(o),e.updateDelegatedSentryNodes(),e}return Object(o.a)(n,[{key:"getAssetImages",value:function(){return this.store.getState().assetImages}},{key:"syncAddresses",value:function(e){if(!Array.isArray(e)||0===e.length)throw new Error("Expected non-empty array of addresses.");var t=this.store.getState(),n=t.identities,r=t.lostIdentities,a={};Object.keys(n).forEach((function(t){e.includes(t)||(a[t]=n[t],delete n[t])})),Object.keys(a).length>0&&Object.keys(a).forEach((function(e){r[e]=a[e]})),this.store.updateState({identities:n,lostIdentities:r}),this.addAddresses(e);var o=this.getSelectedAddress();return e.includes(o)||(o=e[0],this.setSelectedAddress(o)),o}},{key:"setAddresses",value:function(e){var t=this.store.getState().identities,n=this.store.getState().accountTokens,r=e.reduce((function(e,n,r){var a=t[n]||{};return e[n]=Object(x.a)({name:"Account ".concat(r+1),address:n},a),e}),{}),a=e.reduce((function(e,t){var r=n[t]||{};return e[t]=r,e}),{});this.store.updateState({identities:r,accountTokens:a})}},{key:"removeAddress",value:function(e){var t=this.store.getState().identities,n=this.store.getState().accountTokens;if(!t[e])throw new Error("".concat(e," can't be deleted cause it was not found"));if(delete t[e],delete n[e],this.store.updateState({identities:t,accountTokens:n}),e===this.getSelectedAddress()){var r=Object.keys(t)[0];this.setSelectedAddress(r)}return e}},{key:"addAddresses",value:function(e){var t=this.store.getState(),n=t.identities,r=t.accountTokens;e.forEach((function(e){if(!n[e]){var t=Object.keys(n).length;u.a.isNil(r[e])&&(r[e]={}),n[e]={name:"Account ".concat(t+1),address:e}}})),this.store.updateState({identities:n,accountTokens:r})}},{key:"setSelectedAddress",value:function(e){var t=e;this._updateTokens(t);var n=this.store.getState(),r=n.identities,a=n.tokens,o=r[t];if(!o)throw new Error("Identity for '".concat(t," not found"));return o.lastSelected=Date.now(),this.store.updateState({identities:r,selectedAddress:t}),Promise.resolve(a)}},{key:"getSelectedAddress",value:function(){return this.store.getState().selectedAddress}},{key:"_getTokenRelatedStates",value:function(e){var t=this.store.getState(),n=t.network,r=t.accountTokens,a=n.chainId;return e||(e=this.store.getState().selectedAddress),e in r||(r[e]={}),a in r[e]||(r[e][a]=[]),{tokens:r[e][a],accountTokens:r,network:n,selectedAddress:e}}},{key:"_updateTokens",value:function(e){var t=this._getTokenRelatedStates(e).tokens;this.store.updateState({tokens:t})}},{key:"_updateAccountTokens",value:function(e,t){var n=this._getTokenRelatedStates(),r=n.accountTokens,a=n.network;r[n.selectedAddress][a.chainId]=e,this.store.updateState({accountTokens:r,tokens:e,assetImages:t}),this.emit("accountTokensUpdated")}},{key:"addToken",value:function(){var e=Object(r.a)(B().mark((function e(t,n,r,a){var o,i,c,s,u,l,d;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={address:o=t,symbol:n,decimals:r},c=this.store.getState(),s=c.tokens,u=this.getAssetImages(),l=s.find((function(e){return e.address===o})),d=s.indexOf(l),l?s[d]=i:s.push(i),u[o]=a,this._updateAccountTokens(s,u),e.abrupt("return",Promise.resolve(s));case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"removeToken",value:function(e){var t=this.store.getState().tokens,n=this.getAssetImages(),r=t.filter((function(t){return t.address!==e}));return delete n[e],this._updateAccountTokens(r,n),Promise.resolve(r)}},{key:"getTokens",value:function(){return this.store.getState().tokens}},{key:"setAccountName",value:function(e,t){if(!e)throw new Error("setAccountLabel requires a valid address, got ".concat(String(e)));var n=e,r=this.store.getState().identities;return r[n]=r[n]||{},r[n].name=t,this.store.updateState({identities:r}),Promise.resolve(t)}},{key:"setPreference",value:function(e,t){var n=this.getPreferences(),r=Object(x.a)(Object(x.a)({},n),{},Object(F.a)({},e,t));return this.store.updateState({preferences:r}),Promise.resolve(r)}},{key:"getPreferences",value:function(){return this.store.getState().preferences}},{key:"completeOnboarding",value:function(){return this.store.updateState({completedOnboarding:!0}),Promise.resolve(!0)}},{key:"setNetwork",value:function(e){if(void 0===e.chainId||null===e.chainId)throw new Error("PreferencesController :: setNetwork - network is invalid");return this.store.updateState({network:e}),this._updateTokens(this.getSelectedAddress()),this.emit("networkChanged",e),Promise.resolve(!0)}},{key:"getNetwork",value:function(){return this.store.getState().network}},{key:"updateDelegatedSentryNodes",value:function(){var e=Object(r.a)(B().mark((function e(){var t,n,r;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,"http://143.198.132.249:7554/api/v1/sentry/delegated-nodes",e.next=5,fetch("http://143.198.132.249:7554/api/v1/sentry/delegated-nodes");case 5:return n=e.sent,e.next=8,n.json();case 8:r=e.sent,t=r,t=u.a.map(t,(function(e){var t=e.address.split(" fee - "),n=Object(M.a)(t,2),r=n[0],a=n[1];return Object(x.a)(Object(x.a)({},e),{},{fee:r,address:a})})),e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",[]);case 16:return this.store.updateState({delegatedSentryNodes:t}),e.abrupt("return",t);case 18:case"end":return e.stop()}}),e,this,[[1,13]])})));return function(){return e.apply(this,arguments)}}()}]),n}(n(41).EventEmitter),G=n(14),K=n.n(G),H=n(28),q=n(64);function V(){V=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new O(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return _()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function d(){}function h(){}function p(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&n.call(v,a)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,c){var s=u(e[a],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var Y=n(340).tokensByChainId,z=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(a.a)(this,e);var n={accounts:{}};this.store=new N(n),this._getProvider=t.getProvider,this._getNetwork=t.getNetwork,this._getTokens=t.getTokens,this._preferencesController=t.preferencesController,this._updateIntervalId=null}return Object(o.a)(e,[{key:"start",value:function(){var e=this;this.updateAccounts(),this._updateIntervalId||(this._updateIntervalId=setInterval((function(){e.updateAccounts()}),6e4)),this.detectNewTokens()}},{key:"stop",value:function(){this._updateIntervalId&&clearInterval(this._updateIntervalId)}},{key:"syncAddresses",value:function(e){var t=this.store.getState().accounts,n=Object.keys(t),r=[];e.forEach((function(e){n.includes(e)||r.push(e)}));var a=[];n.forEach((function(t){e.includes(t)||a.push(t)})),this.addAccounts(r),this.removeAccounts(a)}},{key:"addAccounts",value:function(e){var t=this.store.getState().accounts;e.forEach((function(e){t[e]={}})),this.store.updateState({accounts:t}),e.length&&this.updateAccounts()}},{key:"removeAccounts",value:function(e){var t=this.store.getState().accounts;e.forEach((function(e){delete t[e]})),this.store.updateState({accounts:t})}},{key:"clearAccounts",value:function(){this.store.updateState({accounts:{}})}},{key:"updateAccounts",value:function(){var e=Object(r.a)(V().mark((function e(){var t,n,r,a=this;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.store.getState(),n=t.accounts,0!==(r=Object.keys(n)).length){e.next=4;break}return e.abrupt("return",!0);case 4:return r.map((function(e){a._updateAccount(e)})),e.next=7,this._updateAccountTokensViaBalanceChecker(r);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_updateAccount",value:function(){var e=Object(r.a)(V().mark((function e(t){var n,r,a,o,i,c;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,r=this._getProvider(),e.next=5,r.getAccount(t);case 5:n=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n={coins:{dnerowei:0,dtokenwei:0}};case 11:a={address:t,balances:n.coins},o=this.store.getState(),i=o.accounts,c=i[t.toLowerCase()]||i[t]||{},i[t]=Object(x.a)(Object(x.a)(Object(x.a)({},c),a),{},{balances:Object(x.a)(Object(x.a)({},c.balances),a.balances)}),this.store.updateState({accounts:i});case 16:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateAccountTokensViaBalanceChecker",value:function(){var e=Object(r.a)(V().mark((function e(t){var n,r,a,o,c,s,l,d,h,p,f=this;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.store.getState(),r=n.accounts,a=this._getProvider(),o=this._getNetwork().chainId,c=this._getTokens(),s=u.a.map(c,"address"),s=u.a.map(s,u.a.trim),l=H.c[o],!u.a.isNil(l)){e.next=9;break}return e.abrupt("return");case 9:if(0!==s.length){e.next=11;break}return e.abrupt("return");case 11:if(0!==t.length){e.next=13;break}return e.abrupt("return");case 13:return e.prev=13,d=new i.Contract(l,q.c,a),e.next=17,d.balances(t,s);case 17:h=e.sent,p=u.a.chunk(h,s.length),t.forEach((function(e,t){var n=p[t],a=u.a.reduce(n,(function(e,t,n){var r=s[n];return Object.assign(e,Object(F.a)({},r,t.toString()))}),{}),o=f.store.getState().accounts[e].balances,i=r[e.toLowerCase()]||r[e];r[e]=Object(x.a)(Object(x.a)({},i),{},{address:e,balances:Object(x.a)(Object(x.a)({},o),a)})})),this.store.updateState({accounts:r}),e.next=25;break;case 23:e.prev=23,e.t0=e.catch(13);case 25:case"end":return e.stop()}}),e,this,[[13,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateAccountDDropStake",value:function(){var e=Object(r.a)(V().mark((function e(t){var n,r,a,o,c,s,l,d,h,p,f,m,v,y;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new K.a(0),r=new K.a(0),a=new K.a(0),o=null,e.prev=4,c=this._getProvider(),s=this._getNetwork(),l=s.chainId,d=H.b[l],!u.a.isNil(d)){e.next=11;break}return e.abrupt("return",null);case 11:return h=new i.Contract(d,q.a,c),e.next=14,h.balanceOf(t);case 14:if((n=e.sent).isZero()){e.next=25;break}return e.next=18,h.estimatedDDropOwnedBy(t);case 18:return a=e.sent,e.next=21,h.totalShares();case 21:return r=e.sent,e.next=24,h.delegates(t);case 24:o=e.sent;case 25:e.next=30;break;case 27:return e.prev=27,e.t0=e.catch(4),e.abrupt("return",null);case 30:if(p=this.store.getState(),f=p.accounts,m=f[t.toLowerCase()]||f[t]){e.next=34;break}return e.abrupt("return",null);case 34:return v=new K.a(n.toString()).dividedBy(new K.a(r.toString())).multipliedBy(100),y={balance:n.toString(),totalShares:r.toString(),estimatedTokenOwnedWithRewards:a.toString(),votingPower:n.isZero()?"0":v.toString(),votingDelegate:o},f[t]=Object(x.a)(Object(x.a)({},m),{},{dnc20Stakes:{ddrop:y}}),this.store.updateState({accounts:f}),e.abrupt("return",y);case 39:case"end":return e.stop()}}),e,this,[[4,27]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateAccountStakes",value:function(){var e=Object(r.a)(V().mark((function e(t){var n,r,a,o,c,s,l,d,h,p,f;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,r=this._getNetwork(),a=r.chainId,o=i.networks.getExplorerUrlForChainId(a),c="".concat(o,":8443/api"),s="".concat(c,"/stake/").concat(t,"?hasBalance=true&types[]=vcp&types[]=gcp&types[]=eenp"),e.next=9,fetch(s);case 9:return l=e.sent,e.next=12,l.json();case 12:d=e.sent,n=u.a.get(d,["body","sourceRecords"],[]),e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(1),e.abrupt("return",[]);case 19:if(h=this.store.getState(),p=h.accounts,f=p[t.toLowerCase()]||p[t]){e.next=23;break}return e.abrupt("return",[]);case 23:return p[t]=Object(x.a)(Object(x.a)({},f),{},{stakes:n}),this.store.updateState({accounts:p}),e.next=27,this.updateAccountDDropStake(t);case 27:return e.abrupt("return",n);case 28:case"end":return e.stop()}}),e,this,[[1,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"detectNewTokens",value:function(){var e=Object(r.a)(V().mark((function e(){var t,n,r,a,o,c,s,l,d,h,p,f,m,v,y,g,b=this;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(h in t=this._preferencesController.getSelectedAddress(),n=this._getProvider(),r=this._getNetwork(),a=r.chainId,o=Y[a],c=this._getTokens(),s=u.a.map(c,"address"),l=new Set(u.a.map(s,u.a.trim)),d=[],o)l.has(h)||d.push(h);if(0!==d.length){e.next=12;break}return e.abrupt("return");case 12:p=[d.slice(0,1e3),d.slice(1e3,d.length-1)],f=new i.Contract(H.c[a],q.c,n),m=V().mark((function e(){var n,r,a;return V().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=y[v],r=void 0,e.prev=2,e.next=5,f.balances([t],n);case 5:r=e.sent,e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",{v:void 0});case 11:return a=n.filter((function(e,t){var n=r[t];return n&&!n.isZero()})),e.next=14,Promise.all(a.map((function(e){return b._preferencesController.addToken(e,o[e].symbol,o[e].decimals)})));case 14:case"end":return e.stop()}}),e,null,[[2,8]])})),v=0,y=p;case 16:if(!(v<y.length)){e.next=24;break}return e.delegateYield(m(),"t0",18);case 18:if("object"!==typeof(g=e.t0)){e.next=21;break}return e.abrupt("return",g.v);case 21:v++,e.next=16;break;case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),J=n(431);function X(){X=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new O(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return _()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function d(){}function h(){}function p(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&n.call(v,a)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,c){var s=u(e[a],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var Z=function(e){Object(S.a)(n,e);var t=Object(j.a)(n);function n(e){var r;Object(a.a)(this,n),r=t.call(this);var o=Object(x.a)({},e.initState);return r.store=new N(o),r.memStore=new N({transactionRequests:[],transactions:{}}),r.preferencesController=e.preferencesController,r.signAndSendTransaction=e.signAndSendTransaction,r._getProvider=e.getProvider,r._updateAccounts=e.updateAccounts,r.pendingTransactionRequests=new Map,r}return Object(o.a)(n,[{key:"_getTransactionRequests",value:function(){return this.memStore.getState().transactionRequests||[]}},{key:"_setTransactionRequests",value:function(e){this.memStore.updateState({transactionRequests:e})}},{key:"_addTransactionRequest",value:function(e,t,n){var r=this._getTransactionRequests();return r.push(e),this._setTransactionRequests(r),this.pendingTransactionRequests.set(e.id,{request:e,resolve:t,reject:n}),!0}},{key:"_removeTransactionRequest",value:function(e){var t=this._getTransactionRequests();return t=t.filter((function(t){return t.id!==e})),this._setTransactionRequests(t),delete this.pendingTransactionRequests[e],!0}},{key:"_getTransactionRequest",value:function(e){return this._getTransactionRequests().find((function(t){return t.id===e}))}},{key:"addTransactionRequest",value:function(){var e=Object(r.a)(X().mark((function e(t){var n,r,a,o,c,s,l=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.preferencesController.getSelectedAddress(),(r=i.transactions.transactionFromJson(t)).setFrom(n),e.next=5,this.getEstimatedGasData(r);case 5:if(a=e.sent,!(o=(t.dependencies||[])[0])){e.next=15;break}return(c=i.transactions.transactionFromJson(o)).setFrom(n),e.next=12,this.getEstimatedGasData(c);case 12:s=e.sent,o=Object(x.a)(Object(x.a)({},o),{},{txData:Object(x.a)(Object(x.a)({},o.txData),u.a.pick(s,["gasPrice","gasLimit"])),gasFeeData:s}),t.dependencies=[o];case 15:return e.abrupt("return",new Promise((function(e,n){l._addTransactionRequest(Object.assign({},t,{id:Object(J.a)(),txData:Object(x.a)(Object(x.a)({},t.txData),u.a.pick(a,["gasPrice","gasLimit"])),gasFeeData:a}),e,n)})));case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"approveTransactionRequest",value:function(){var e=Object(r.a)(X().mark((function e(t,n){var r,a,o,c,s,u,l,d,h;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this._getProvider(),a=this.pendingTransactionRequests.get(t),o=a.request,c=this.preferencesController.getSelectedAddress(),!(s=(o.dependencies||[])[0])){e.next=10;break}return u=i.transactions.transactionFromJson(s),e.next=9,this.signAndSendTransaction(c,u,r);case 9:n&&n();case 10:return l=i.transactions.transactionFromJson(o),e.next=13,this.signAndSendTransaction(c,l,r);case 13:if(!(d=e.sent)){e.next=20;break}return h=this.pendingTransactionRequests.get(t),this._removeTransactionRequest(t),this._updateAccounts(),h.resolve(d),e.abrupt("return",d);case 20:return e.abrupt("return",!0);case 21:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"rejectTransactionRequest",value:function(){var e=Object(r.a)(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._removeTransactionRequest(t),this.pendingTransactionRequests.get(t),e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_transformTransaction",value:function(e,t){if(e.type===i.constants.TxType.Send){var n={};if(n.type=e.type,n.number=e.number,n.status=e.status,n.hash=e.hash.toLowerCase(),n.timestamp=e.timestamp,n.fee={dnero:e.data.fee.dnerowei,dtoken:e.data.fee.dtokenwei},n.inputs=u.a.map(e.data.inputs,(function(e){return u.a.pick(e,["address","coins"])})),n.outputs=u.a.map(e.data.outputs,(function(e){return u.a.pick(e,["address","coins"])})),t){var r=t.toLowerCase();n.outputs=u.a.sortBy(n.outputs,(function(e){return r===e.address.toLowerCase()?-100:0}))}return n}return null}},{key:"updateAccountTransactions",value:function(){var e=Object(r.a)(X().mark((function e(t){var n,r,a,o,c,s,l,d,h,p,f=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,!u.a.isEmpty(t)){e.next=3;break}return e.abrupt("return",[]);case 3:return e.prev=3,r=this.preferencesController.getNetwork(),a=r.chainId,o=i.networks.getExplorerUrlForChainId(a),c="".concat(o,":8443/api"),s="".concat(c,"/accounttx/").concat(t),e.next=11,fetch(s);case 11:return l=e.sent,e.next=14,l.json();case 14:d=e.sent,n=u.a.get(d,["body"],[]),n=u.a.map(n,(function(e){return f._transformTransaction(e,t)})),n=u.a.filter(n,(function(e){return!u.a.isNil(e)})),e.next=23;break;case 20:return e.prev=20,e.t0=e.catch(3),e.abrupt("return",[]);case 23:return h=this.memStore.getState(),(p=h.transactions)[t]=n,this.memStore.updateState({transactions:p}),e.abrupt("return",n);case 27:case"end":return e.stop()}}),e,this,[[3,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getEstimatedGasData",value:function(){var e=Object(r.a)(X().mark((function e(t){var n,r,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.getType()!==i.constants.TxType.SmartContract){e.next=12;break}if(t.gasLimit===i.constants.gasLimitDefault){e.next=3;break}return e.abrupt("return",{gasPrice:t.gasPrice.toString(),gasLimit:t.gasLimit,totalGasFee:t.gasPrice.multipliedBy(t.gasLimit).toString()});case 3:return n=this._getProvider(),e.next=6,n.callSmartContract(t);case 6:return r=e.sent,a=new K.a(r.gas_used).multipliedBy(1.5),o=Math.ceil(a.toNumber()),e.abrupt("return",{gasPrice:i.constants.gasPriceSmartContractDefault.toString(),gasLimit:o,totalGasFee:i.constants.gasPriceSmartContractDefault.multipliedBy(o).toString()});case 12:return e.abrupt("return",{gasPrice:i.constants.gasPriceDefault.toString(),totalGasFee:i.constants.gasPriceDefault.toString()});case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(n(41).EventEmitter),Q=n(262),$=n(263);n(46);function ee(){ee=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new O(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return _()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function d(){}function h(){}function p(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&n.call(v,a)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,c){var s=u(e[a],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var te=function(e){Object(S.a)(n,e);var t=Object(j.a)(n);function n(e){var r;Object(a.a)(this,n),(r=t.call(this)).getProvider=function(){return r.provider},r.setProvider=function(e){r.provider=e},r.sendUpdate=r._sendUpdate.bind(Object(_.a)(r)),r.opts=e;var o=e.initState||{};r.store=new W(o),r.memStore=new W,r.preferencesController=new U({initState:o.preferencesController}),r.preferencesController.on("networkChanged",(function(e){var t=r.preferencesController.getSelectedAddress(),n=new i.providers.HttpProvider(e.chainId);r.setProvider(n),t&&(r.accountManager.updateAccounts(),r.accountManager.updateAccountStakes(t),r.accountManager.detectNewTokens(),r.transactionsController.updateAccountTransactions(t))})),r.preferencesController.on("accountTokensUpdated",(function(){r.accountManager.updateAccounts()}));var c=r.preferencesController.getNetwork();r.provider=new i.providers.HttpProvider(c.chainId);var s=[Q.a,$.a];r.keyringController=new D({initState:o.keyringController,keyringTypes:s}),r.keyringController.memStore.subscribe((function(e){return r._onKeyringVaultUpdate(e)})),r.accountManager=new z({getProvider:r.getProvider,getNetwork:r.preferencesController.getNetwork.bind(r.preferencesController),getTokens:r.preferencesController.getTokens.bind(r.preferencesController),preferencesController:r.preferencesController}),r.transactionsController=new Z({initState:o.transactionsController,getProvider:r.getProvider,preferencesController:r.preferencesController,signAndSendTransaction:r.keyringController.signAndSendTransaction.bind(r.keyringController),updateAccounts:r.accountManager.updateAccounts.bind(r.accountManager)}),r.store.updateStructure({keyringController:r.keyringController.store,preferencesController:r.preferencesController.store}),r.preferencesController.store.subscribe((function(e){try{localStorage&&localStorage.setItem("preferencesController",JSON.stringify(u.a.pick(e,"accountTokens")))}catch(t){}})),r.memStore.updateStructure({keyringController:r.keyringController.memStore,preferencesController:r.preferencesController.store,transactionsController:r.transactionsController.memStore,accountManager:r.accountManager.store}),r.memStore.subscribe((function(e){r.sendUpdate()}));return r.on("update",(function(e){})),r.RPCApi=r._setupRPCApi(),r}return Object(o.a)(n,[{key:"getState",value:function(){var e=this.keyringController.store.getState().vault,t=Boolean(e);return Object(x.a)(Object(x.a)({},{isInitialized:t}),this.memStore.getFlatState())}},{key:"_sendUpdate",value:function(){this.emit("update",this.getState())}},{key:"_onKeyringVaultUpdate",value:function(){var e=Object(r.a)(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.keyrings,(r=n.reduce((function(e,t){var n=t.accounts;return e.concat(n)}),[])).length){e.next=4;break}return e.abrupt("return");case 4:this.preferencesController.syncAddresses(r),this.accountManager.syncAddresses(r);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"selectFirstIdentity",value:function(){var e=Object(r.a)(ee().mark((function e(){var t,n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.preferencesController.store.getState(),n=t.identities,r=Object.keys(n)[0],e.next=4,this.preferencesController.setSelectedAddress(r);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_setupRPCApi",value:function(){return{getState:this._getState.bind(this),addTransactionRequest:this._addTransactionRequest.bind(this),approveTransactionRequest:this._approveTransactionRequest.bind(this),rejectTransactionRequest:this._rejectTransactionRequest.bind(this),addToken:this._addToken.bind(this),removeToken:this._removeToken.bind(this),setSelectedAddress:this._setSelectedAddress.bind(this),setSelectedNetwork:this._setSelectedNetwork.bind(this),importAccount:this._importAccount.bind(this),sendTransaction:this._sendTransaction.bind(this),updateAccountStakes:this._updateAccountStakes.bind(this),updateAccountBalances:this._updateAccountBalances.bind(this),updateAccountTransactions:this._updateAccountTransactions.bind(this),connectHardware:this.connectHardware.bind(this),forgetDevice:this.forgetDevice.bind(this),checkHardwareStatus:this.checkHardwareStatus.bind(this),unlockHardwareWalletAccount:this.unlockHardwareWalletAccount.bind(this)}}},{key:"_sendTransaction",value:function(){var e=Object(r.a)(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.transactionRequest,this.getState().isInitialized){e.next=3;break}throw Error("Your Dnero Wallet has not be initialized.");case 3:return e.next=5,this.transactionsController.addTransactionRequest(n);case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getState",value:function(){var e=Object(r.a)(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getState();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addTransactionRequest",value:function(){var e=Object(r.a)(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.transactionRequest,e.next=3,this.transactionsController.addTransactionRequest(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_approveTransactionRequest",value:function(){var e=Object(r.a)(ee().mark((function e(t){var n,r,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.transactionRequestId,r=t.onDependencySent,e.next=3,this.transactionsController.approveTransactionRequest(n,r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_rejectTransactionRequest",value:function(){var e=Object(r.a)(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.transactionRequestId,e.next=3,this.transactionsController.rejectTransactionRequest(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addToken",value:function(){var e=Object(r.a)(ee().mark((function e(t){var n,r,a,o,i,c;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,r=n.address,a=n.symbol,o=n.decimals,i=n.image,e.next=4,this.preferencesController.addToken(r,a,o,i);case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_removeToken",value:function(){var e=Object(r.a)(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.address,e.next=3,this.preferencesController.removeToken(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_setSelectedAddress",value:function(){var e=Object(r.a)(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.address,e.next=3,this.preferencesController.setSelectedAddress(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_setSelectedNetwork",value:function(){var e=Object(r.a)(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.network,e.next=3,this.preferencesController.setNetwork(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_importAccount",value:function(){var e=Object(r.a)(ee().mark((function e(t){var n,r,a,o,c,s,u,l,d,h;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.importType,n=t.privateKey,r=t.encryptedJson,a=t.encryptedJsonPassword,o=t.name,c=null,!n){e.next=6;break}c=n,e.next=12;break;case 6:if(!r||!a){e.next=11;break}s=i.Wallet.fromEncryptedJson(r,a,null),c=s.privateKey,e.next=12;break;case 11:throw new Error("Invalid account.");case 12:return e.next=14,this.keyringController.addNewKeyring(A.type,[c]);case 14:return u=e.sent,e.next=17,u.getAccounts();case 17:return l=e.sent,e.next=20,this.keyringController.getAccounts();case 20:if(d=e.sent,this.preferencesController.setAddresses(d),!(h=l[0])||!o){e.next=26;break}return e.next=26,this.preferencesController.setAccountName(h,o);case 26:return e.next=28,this.preferencesController.setSelectedAddress(h);case 28:return this.accountManager.start(),e.abrupt("return",!0);case 30:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateAccountStakes",value:function(){var e=Object(r.a)(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.address,e.abrupt("return",this.accountManager.updateAccountStakes(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateAccountBalances",value:function(){var e=Object(r.a)(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(O.a)(t),e.abrupt("return",this.accountManager.updateAccounts());case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateAccountTransactions",value:function(){var e=Object(r.a)(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.address,e.abrupt("return",this.transactionsController.updateAccountTransactions(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getKeyringForDevice",value:function(){var e=Object(r.a)(ee().mark((function e(t){var n,r,a,o=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=o.length>1&&void 0!==o[1]?o[1]:null,r=null,e.t0=t,e.next="trezor"===e.t0?5:"ledger"===e.t0?7:9;break;case 5:return r=Q.a.type,e.abrupt("break",10);case 7:return r=$.a.type,e.abrupt("break",10);case 9:throw new Error("DneroWalletController:getKeyringForDevice - Unknown device");case 10:return e.next=12,this.keyringController.getKeyringsByType(r)[0];case 12:if(a=e.sent){e.next=17;break}return e.next=16,this.keyringController.addNewKeyring(r);case 16:a=e.sent;case 17:return n&&a.setHdPath&&(n===ae?n=ae:n===oe?n=oe:n===ie&&(n="m/44'/60'/0'/0/0"),a.setHdPath(n)),e.abrupt("return",a);case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"connectHardware",value:function(){var e=Object(r.a)(ee().mark((function e(t,n,r){var a,o,i,c;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getKeyringForDevice(t,r);case 2:a=e.sent,o=[],e.t0=n,e.next=-1===e.t0?7:1===e.t0?11:15;break;case 7:return e.next=9,a.getPreviousPage();case 9:return o=e.sent,e.abrupt("break",18);case 11:return e.next=13,a.getNextPage();case 13:return o=e.sent,e.abrupt("break",18);case 15:return e.next=17,a.getFirstPage();case 17:o=e.sent;case 18:return e.next=20,this.keyringController.getAccounts();case 20:return i=e.sent,c=Object(E.a)(new Set(i.concat(o.map((function(e){return e.address.toLowerCase()}))))),this.accountManager.syncAddresses(c),e.abrupt("return",o);case 24:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"checkHardwareStatus",value:function(){var e=Object(r.a)(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getKeyringForDevice(t,n);case 2:return r=e.sent,e.abrupt("return",r.isUnlocked());case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"forgetDevice",value:function(){var e=Object(r.a)(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getKeyringForDevice(t);case 2:return e.sent.forgetDevice(),e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unlockHardwareWalletAccount",value:function(){var e=Object(r.a)(ee().mark((function e(t,n,r){var a,o,i,c,s,u,l=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getKeyringForDevice(n,r);case 2:return(a=e.sent).setAccountToUnlock(t),e.next=6,this.keyringController.getAccounts();case 6:return o=e.sent,e.next=9,this.keyringController.addNewAccount(a);case 9:return i=e.sent,e.next=12,this.keyringController.getAccounts();case 12:return c=e.sent,this.preferencesController.setAddresses(c),c.forEach((function(e){o.includes(e)||l.preferencesController.setSelectedAddress(e)})),this.accountManager.start(),s=this.preferencesController.store.getState(),u=s.identities,e.abrupt("return",Object(x.a)(Object(x.a)({},i),{},{identities:u}));case 18:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),n}(n(41).EventEmitter);function ne(){ne=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new O(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return _()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function d(){}function h(){}function p(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&n.call(v,a)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,c){var s=u(e[a],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var re=n(248),ae="m/44'/60'/0'/0/",oe="m/44'/60'/0'/",ie="m/44'/60'/",ce={KEYSTORE_FILE:"keystore-file",MNEMONIC_PHRASE:"mnemonic-phrase",COLD_WALLET:"cold-wallet",PRIVATE_KEY:"private-key"},se=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,null,[{key:"setWallet",value:function(t){this._wallet=t,null===t&&e.setKeystore(null)}},{key:"getWallet",value:function(){return this._wallet}},{key:"setKeystore",value:function(e){this._keystore=e}},{key:"getKeystore",value:function(){return this._keystore}},{key:"getWalletAddress",value:function(){return u.a.get(this._wallet,["address"],null)}},{key:"getWalletPath",value:function(){return u.a.get(this._wallet,["path"],null)}},{key:"getWalletHardware",value:function(){return u.a.get(this._wallet,["hardware"],null)}},{key:"unlocked",value:function(){return null!==this._wallet}},{key:"encryptToKeystore",value:function(e,t){return l.a.getWeb3().eth.accounts.encrypt(e,t)}},{key:"decryptFromKeystore",value:function(e,t){return l.a.getWeb3().eth.accounts.decrypt(e,t)}},{key:"walletFromMnemonic",value:function(e){return c.a.Wallet.fromMnemonic(e,"m/44'/500'/0'/0/0")}},{key:"walletFromPrivateKey",value:function(e){return l.a.getWeb3().eth.accounts.privateKeyToAccount(e)}},{key:"walletFromTrezor",value:function(){var e=Object(r.a)(ne().mark((function e(t){var n,r,a;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(f.a.manifest({email:"support@dnerochain.org",appUrl:"https://wallet.dnerochain.org",keepSession:!0}),n=[],r=0;r<50;r++)n.push({path:"m/44'/60'/0'/0/"+(5*t+r),showOnTrezor:!1});return e.next=5,f.a.ethereumGetAddress({bundle:n,keepSession:!0});case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"walletFromLedger",value:function(){var e=Object(r.a)(ne().mark((function e(t,n){var r,a,o,i,c,s;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(navigator.userAgent.toLowerCase().indexOf("firefox")>-1)){e.next=6;break}return e.next=3,k.a.create();case 3:r=e.sent,e.next=9;break;case 6:return e.next=8,b.a.create();case 8:r=e.sent;case 9:a=new g.a(r),o=[],i={},c=0;case 12:if(!(c<5)){e.next=22;break}return s="","m/44'/500'/"===n?s="m/44'/500'/"+(5*t+c)+"'/0/0":n===ae?s=ae+(5*t+c):n===oe?s=oe+(5*t+c):n===ie&&(s=ie+(5*t+c)+"'/0/0"),e.next=17,a.getAddress(s,!1,!1);case 17:i=e.sent,o.push({address:i.address,serializedPath:s});case 19:c++,e.next=12;break;case 22:return e.abrupt("return",o);case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createWallet",value:function(e){var t=i.Wallet.createRandom().mnemonic.phrase,n=this.walletFromMnemonic(t);return{wallet:n,keystore:this.encryptToKeystore(n.privateKey,e)}}},{key:"unlockWallet",value:function(){var t=Object(r.a)(ne().mark((function t(n,r,a){var o,i,c,s,l,d,h,p,f;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=null,i=a.keystore,c=a.mnemonic,s=a.privateKey,l=a.hardware,d=a.address,h=a.path,t.prev=2,n!==ce.KEYSTORE_FILE){t.next=10;break}return("string"===typeof i||i instanceof String)&&(i=JSON.parse(i)),o=e.decryptFromKeystore(i,r),t.next=8,this.controller.RPCApi.importAccount({privateKey:o.privateKey});case 8:t.next=30;break;case 10:if(n!==ce.MNEMONIC_PHRASE){t.next=18;break}return c=c.toString(),c=u.a.trim(c),o=e.walletFromMnemonic(c.toString()),t.next=16,this.controller.RPCApi.importAccount({privateKey:o.privateKey});case 16:t.next=30;break;case 18:if(n!==ce.PRIVATE_KEY){t.next=29;break}if(!1===(s=u.a.trim(s)).startsWith("0x")&&(s="0x"+s),p=re.toBuffer(s),re.isValidPrivate(p)){t.next=24;break}throw new Error("Private key does not satisfy the curve requirements (ie. it is invalid)");case 24:return o=e.walletFromPrivateKey(s),t.next=27,this.controller.RPCApi.importAccount({privateKey:s});case 27:t.next=30;break;case 29:n===ce.COLD_WALLET&&((o={}).address=d);case 30:return o&&(e.setWallet({address:o.address,path:h,hardware:l}),n===ce.COLD_WALLET||null!==i&&void 0!==i||(i=e.encryptToKeystore(o.privateKey,r)),e.setKeystore(i)),t.abrupt("return",o);case 34:throw t.prev=34,t.t0=t.catch(2),f=null,n===ce.KEYSTORE_FILE?f="Wrong password OR invalid keystore.":n===ce.MNEMONIC_PHRASE?f="No wallet found for this mnemonic phrase.":n===ce.PRIVATE_KEY&&(f="No wallet found for this private key."),new Error(f);case 39:case"end":return t.stop()}}),t,this,[[2,34]])})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"getDneroTxSequence",value:function(){var e=Object(r.a)(ne().mark((function e(t,n){var r,a,o;return ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.fetchSequence(t,{network:n});case 2:return r=e.sent,e.next=5,r.json();case 5:return a=e.sent,o=parseInt(a.sequence)+1,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"verifyPassword",value:function(t){try{var n=e.getWalletHardware();if("trezor"===n)return!0;if("ledger"===n)return!0;var r=e.getKeystore();return!!e.decryptFromKeystore(r,t)}catch(a){return!1}}},{key:"signTransaction",value:function(){var t=Object(r.a)(ne().mark((function t(n,r,a){var o,i,c;return ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("trezor"!==(o=e.getWalletHardware())){t.next=5;break}return t.abrupt("return",m.a.signTransaction(r));case 5:if("ledger"!==o){t.next=9;break}return t.abrupt("return",v.a.signTransaction(r));case 9:if(i=e.getKeystore(),!(c=e.decryptFromKeystore(i,a))){t.next=15;break}return t.abrupt("return",d.a.signTransaction(r,c.privateKey));case 15:throw new Error("Wrong password. Your transaction could not be signed.");case 16:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"exportKeystore",value:function(t,n){var r=e.getKeystore(),a=e.decryptFromKeystore(r,t);if(a)return e.encryptToKeystore(a.privateKey,n);throw new Error("Wrong password.  Your keystore could not be exported.")}}]),e}();se._wallet=null,se._keystore=null,se.controller=new te({initState:function(){try{var e=localStorage.getItem("preferencesController");return{preferencesController:u.a.isEmpty(e)?{}:JSON.parse(e)}}catch(t){return{}}}()})},18:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return s}));var r=n(74);function a(e){return{type:r.e,modal:e}}function o(){return{type:r.b}}function i(){return{type:r.c}}function c(e){return{type:r.d,message:e}}function s(){return{type:r.a}}},188:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(11),a=n(2),o=n(3),i=n(35),c=n(136),s=n.n(c),u=n(135),l=n.n(u),d=n(16),h=n(29);function p(){p=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(j){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return S()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=k(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(j){return{type:"throw",arg:j}}}e.wrap=s;var l={};function d(){}function h(){}function f(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(_([])));y&&y!==t&&n.call(y,a)&&(m=y);var g=f.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,c){var s=u(e[a],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function _(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=f,c(g,"constructor",f),c(f,"constructor",h),h.displayName=c(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var f=new l.a("https://mainnet.infura.io/v3/40980e2189924c8abfc5f60dd2e5dc4b"),m=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,null,[{key:"signTransaction",value:function(){var e=Object(r.a)(p().mark((function e(t){var n,r,a,o,c,u;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.a.prepareTxPayload(t),r={path:d.e.getWalletPath(),transaction:{chainId:1,nonce:f.utils.toHex("0"),gasPrice:f.utils.toHex("0"),gasLimit:f.utils.toHex("0"),to:"0000000000000000000000000000000000000000",value:f.utils.toHex("0"),data:n}},e.next=4,s.a.ethereumSignTransaction(r);case 4:if(!(a=e.sent).payload.error){e.next=7;break}throw a.payload.error;case 7:if(o=a.payload.r+a.payload.s.slice(2)+(parseInt(a.payload.v,16)-37).toString().padStart(2,"0"),t.setSignature(o),c=i.a.TxSigner.serializeTx(t),!(u=c.toString("hex"))){e.next=15;break}return e.abrupt("return",u);case 15:throw new Error("Failed to sign transaction.");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()},189:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(11),a=n(2),o=n(3),i=n(35),c=n(100),s=n(101),u=n.n(s),l=n(102),d=n.n(l),h=n(16),p=n(29);function f(){f=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(j){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return S()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=k(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(j){return{type:"throw",arg:j}}}e.wrap=s;var l={};function d(){}function h(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(_([])));y&&y!==t&&n.call(y,a)&&(m=y);var g=p.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,c){var s=u(e[a],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function _(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=p,c(g,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var m=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,null,[{key:"signTransaction",value:function(){var e=Object(r.a)(f().mark((function e(t,n,r){var a,o,c,s,u,l;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.a.getChainID(),o=r.signBytes(a).slice(2),e.next=4,t.signTransaction(n,o);case 4:if(c=e.sent,s="0x"+c.r+c.s+(parseInt(c.v,16)-27).toString().padStart(2,"0"),r.setSignature(s),u=i.a.TxSigner.serializeTx(r),!(l=(l=u.toString("hex")).substring(2))){e.next=14;break}return e.abrupt("return",l);case 14:throw new Error("Failed to sign transaction.");case 15:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"signTransactionLegacy",value:function(){var e=Object(r.a)(f().mark((function e(t){var n,r,a,o,s,l,m,v;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=p.a.getChainID(),r=t.signBytes(n).slice(2),h.e.getWalletPath(),!(navigator.userAgent.toLowerCase().indexOf("firefox")>-1)){e.next=9;break}return e.next=6,u.a.create();case 6:a=e.sent,e.next=12;break;case 9:return e.next=11,c.a.create();case 11:a=e.sent;case 12:return o=new d.a(a),e.next=15,o.signTransaction(h.e.getWalletPath(),r);case 15:if(s=e.sent,l="0x"+s.r+s.s+(parseInt(s.v,16)-27).toString().padStart(2,"0"),t.setSignature(l),m=i.a.TxSigner.serializeTx(t),!(v=(v=m.toString("hex")).substring(2))){e.next=25;break}return e.abrupt("return",v);case 25:throw new Error("Failed to sign transaction.");case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()},262:function(e,t,n){"use strict";(function(e){var r=n(11),a=n(2),o=n(3),i=n(6),c=n(7),s=n(8),u=n.n(s),l=n(188);function d(){d=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(j){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),i=new x(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return S()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=k(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(j){return{type:"throw",arg:j}}}e.wrap=s;var l={};function h(){}function p(){}function f(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(_([])));y&&y!==t&&n.call(y,a)&&(m=y);var g=f.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,c){var s=u(e[a],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function _(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,c(g,"constructor",f),c(f,"constructor",p),p.displayName=c(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var h=n(41).EventEmitter,p=n(248),f=n(394),m=n(136).default,v={email:"support@dnerochain.org",appUrl:"https://wallet.dnerochain.org",keepSession:!0},y=function(t){Object(i.a)(s,t);var n=Object(c.a)(s);function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a.a)(this,s),(e=n.call(this)).type="Trezor Hardware",e.accounts=[],e.hdk=new f,e.page=0,e.perPage=5,e.unlockedAccount=0,e.paths={},e.deserialize(t),m.manifest(v),e}return Object(o.a)(s,[{key:"serialize",value:function(){return Promise.resolve({hdPath:this.hdPath,accounts:this.accounts,page:this.page,paths:this.paths,perPage:this.perPage,unlockedAccount:this.unlockedAccount})}},{key:"deserialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.hdPath=e.hdPath||"m/44'/60'/0'/0",this.accounts=e.accounts||[],this.page=e.page||0,this.perPage=e.perPage||5,Promise.resolve()}},{key:"isUnlocked",value:function(){return!(!this.hdk||!this.hdk.publicKey)}},{key:"unlock",value:function(){var t=this;return this.isUnlocked()?Promise.resolve("already unlocked"):new Promise((function(n,r){m.getPublicKey({path:t.hdPath,coin:"ETH"}).then((function(a){a.success?(t.hdk.publicKey=new e(a.payload.publicKey,"hex"),t.hdk.chainCode=new e(a.payload.chainCode,"hex"),n("just unlocked")):r(new Error(a.payload&&a.payload.error||"Unknown error"))})).catch((function(e){r(new Error(e&&e.toString()||"Unknown error"))}))}))}},{key:"setAccountToUnlock",value:function(e){this.unlockedAccount=parseInt(e,10)}},{key:"addAccounts",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(n,r){e.unlock().then((function(r){var a=e.unlockedAccount,o=a+t;e.accounts=[];for(var i=a;i<o;i++){var c=e._addressFromIndex("m",i);e.accounts.push(c),e.page=0}n(e.accounts)})).catch((function(e){r(e)}))}))}},{key:"getFirstPage",value:function(){return this.page=0,this._getPage(1)}},{key:"getNextPage",value:function(){return this._getPage(1)}},{key:"getPreviousPage",value:function(){return this._getPage(-1)}},{key:"_getPage",value:function(e){var t=this;return this.page+=e,this.page<=0&&(this.page=1),new Promise((function(e,n){t.unlock().then((function(n){for(var r=(t.page-1)*t.perPage,a=r+t.perPage,o=[],i=r;i<a;i++){var c=t._addressFromIndex("m",i);o.push({address:c,balance:null,index:i}),t.paths[p.toChecksumAddress(c)]=i}e(o)})).catch((function(e){n(e)}))}))}},{key:"getAccounts",value:function(){return Promise.resolve(this.accounts.slice())}},{key:"removeAccount",value:function(e){if(!this.accounts.map((function(e){return e.toLowerCase()})).includes(e.toLowerCase()))throw new Error("Address ".concat(e," not found in this keyring"));this.accounts=this.accounts.filter((function(t){return t.toLowerCase()!==e.toLowerCase()}))}},{key:"signAndSendTransaction",value:function(){var e=Object(r.a)(d().mark((function e(t,n,r){var a,o,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.unlock();case 2:if(e.sent,!u.a.isNil(n.getSequenceOverride())){e.next=9;break}return e.next=6,r.getTransactionCount(t);case 6:a=e.sent,a+=1,n.setSequence(a);case 9:return n.setFrom(p.toChecksumAddress(t)),e.next=12,l.a.signTransaction(n);case 12:return o=e.sent,i=r.sendTransaction(o),e.abrupt("return",Promise.resolve(i));case 15:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"signMessage",value:function(e,t){return Promise.reject(new Error("Not supported on this device"))}},{key:"signPersonalMessage",value:function(e,t){return Promise.reject(new Error("Not supported on this device"))}},{key:"signTypedData",value:function(e,t){return Promise.reject(new Error("Not supported on this device"))}},{key:"exportAccount",value:function(e){return Promise.reject(new Error("Not supported on this device"))}},{key:"forgetDevice",value:function(){this.accounts=[],this.hdk=new f,this.page=0,this.unlockedAccount=0,this.paths={}}},{key:"_normalize",value:function(e){return p.bufferToHex(e).toString()}},{key:"_addressFromIndex",value:function(e,t){var n=this.hdk.derive("".concat(e,"/").concat(t)),r=p.publicToAddress(n.publicKey,!0).toString("hex");return p.toChecksumAddress(r).toLowerCase()}},{key:"_pathFromAddress",value:function(e){var t=p.toChecksumAddress(e),n=this.paths[t];if("undefined"===typeof n)for(var r=0;r<1e3;r++)if(t===this._addressFromIndex("m",r)){n=r;break}if("undefined"===typeof n)throw new Error("Unknown address");return"".concat(this.hdPath,"/").concat(n)}}]),s}(h);y.type="Trezor Hardware",t.a=y}).call(this,n(10).Buffer)},263:function(e,t,n){"use strict";(function(e){var r=n(11),a=n(2),o=n(3),i=n(6),c=n(7),s=n(101),u=n.n(s),l=n(100),d=n(102),h=n.n(d),p=n(8),f=n.n(p),m=n(189);function v(){v=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(j){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return S()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=k(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(j){return{type:"throw",arg:j}}}e.wrap=s;var l={};function d(){}function h(){}function p(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(_([])));y&&y!==t&&n.call(y,a)&&(f=y);var g=p.prototype=d.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,c){var s=u(e[a],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function _(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=p,c(g,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var y=n(41).EventEmitter,g=n(394),b=n(248),w="Ledger Hardware",k=function(t){Object(i.a)(s,t);var n=Object(c.a)(s);function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a.a)(this,s),(e=n.call(this)).accountIndexes={},e.type=w,e.page=0,e.perPage=5,e.unlockedAccount=0,e.hdk=new g,e.paths={},e.deserialize(t),e}return Object(o.a)(s,[{key:"serialize",value:function(){return Promise.resolve({hdPath:this.hdPath,accounts:this.accounts,accountIndexes:this.accountIndexes})}},{key:"deserialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.hdPath=t.hdPath||"m/44'/60'/0'",this.accounts=t.accounts||[],this.accountIndexes=t.accountIndexes||{},this._isBIP44()&&(this.accounts=this.accounts.filter((function(t){return Object.keys(e.accountIndexes).includes(b.toChecksumAddress(t))}))),Promise.resolve()}},{key:"isUnlocked",value:function(){return!(!this.hdk||!this.hdk.publicKey)}},{key:"setAccountToUnlock",value:function(e){this.unlockedAccount=parseInt(e,10)}},{key:"setHdPath",value:function(e){this.hdPath!==e&&(this.hdk=new g),this.hdPath=e}},{key:"unlock",value:function(t){var n=this;if(this.isUnlocked()&&!t)return Promise.resolve("already unlocked");var a=t?this._toLedgerPath(t):this.hdPath;return new Promise(function(){var t=Object(r.a)(v().mark((function t(r,o){var i,c;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n._getETH();case 3:return i=t.sent,t.next=6,i.getAddress(a,!1,!0);case 6:c=t.sent,n.hdk.publicKey=new e(c.publicKey,"hex"),n.hdk.chainCode=new e(c.chainCode,"hex"),r(c.address.toLowerCase()),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),o(new Error(t.t0.message||"Unknown error"));case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"addAccounts",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(n,a){e.unlock().then(function(){var a=Object(r.a)(v().mark((function r(a){var o,i,c,s,u;return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o=e.unlockedAccount,i=o+t,e.accounts=[],c=o;case 4:if(!(c<i)){r.next=20;break}if(s=void 0,!e._isBIP44()){r.next=14;break}return u=e._getPathForIndex(c),r.next=10,e.unlock(u);case 10:s=r.sent,e.accountIndexes[b.toChecksumAddress(s)]=c,r.next=15;break;case 14:s=e._addressFromIndex("m",c);case 15:e.accounts.push(s),e.page=0;case 17:c++,r.next=4;break;case 20:n(e.accounts);case 21:case"end":return r.stop()}}),r)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){a(e)}))}))}},{key:"getFirstPage",value:function(){return this.page=0,this._getPage(1)}},{key:"getNextPage",value:function(){return this._getPage(1)}},{key:"getPreviousPage",value:function(){return this._getPage(-1)}},{key:"getAccounts",value:function(){return Promise.resolve(this.accounts.slice())}},{key:"removeAccount",value:function(e){if(!this.accounts.map((function(e){return e.toLowerCase()})).includes(e.toLowerCase()))throw new Error("Address ".concat(e," not found in this keyring"));this.accounts=this.accounts.filter((function(t){return t.toLowerCase()!==e.toLowerCase()})),delete this.accountIndexes[b.toChecksumAddress(e)]}},{key:"signAndSendTransaction",value:function(){var e=Object(r.a)(v().mark((function e(t,n,r){var a,o,i,c,s,u;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.unlock();case 2:if(e.sent,!this._isBIP44()){e.next=10;break}if(o=b.toChecksumAddress(t),Object.keys(this.accountIndexes).includes(o)){e.next=7;break}throw new Error("Ledger: Index for address '".concat(o,"' not found"));case 7:a=this._getPathForIndex(this.accountIndexes[o]),e.next=11;break;case 10:a=this._toLedgerPath(this._pathFromAddress(t));case 11:if(!f.a.isNil(n.getSequenceOverride())){e.next=17;break}return e.next=14,r.getTransactionCount(t);case 14:i=e.sent,i+=1,n.setSequence(i);case 17:return n.setFrom(b.toChecksumAddress(t)),e.next=20,this._getETH();case 20:return c=e.sent,e.next=23,m.a.signTransaction(c,a,n);case 23:return s=e.sent,u=r.sendTransaction(s),e.abrupt("return",Promise.resolve(u));case 26:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"signMessage",value:function(e,t){throw new Error("Not supported on this device")}},{key:"signPersonalMessage",value:function(e,t){throw new Error("Not supported on this device")}},{key:"signTypedData",value:function(e,t){throw new Error("Not supported on this device")}},{key:"exportAccount",value:function(e){throw new Error("Not supported on this device")}},{key:"forgetDevice",value:function(){this.accounts=[],this.page=0,this.unlockedAccount=0,this.paths={},this.hdk=new g}},{key:"_getPage",value:function(){var e=Object(r.a)(v().mark((function e(t){var n,r,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.page+=t,this.page<=0&&(this.page=1),n=(this.page-1)*this.perPage,r=n+this.perPage,e.next=6,this.unlock();case 6:if(!this._isBIP44()){e.next=12;break}return e.next=9,this._getAccountsBIP44(n,r);case 9:a=e.sent,e.next=13;break;case 12:a=this._getAccountsLegacy(n,r);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getAccountsBIP44",value:function(){var e=Object(r.a)(v().mark((function e(t,n){var r,a,o,i;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],a=t;case 2:if(!(a<n)){e.next=11;break}return o=this._getPathForIndex(a),e.next=6,this.unlock(o);case 6:i=e.sent,r.push({address:i.toLowerCase(),balance:null,index:a});case 8:a++,e.next=2;break;case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getAccountsLegacy",value:function(e,t){for(var n=[],r=e;r<t;r++){var a=this._addressFromIndex("m",r);n.push({address:a,balance:null,index:r}),this.paths[b.toChecksumAddress(a)]=r}return n}},{key:"_padLeftEven",value:function(e){return e.length%2!==0?"0".concat(e):e}},{key:"_normalize",value:function(e){return this._padLeftEven(b.bufferToHex(e).toLowerCase())}},{key:"_addressFromIndex",value:function(e,t){var n=this.hdk.derive("".concat(e,"/").concat(t)),r=b.publicToAddress(n.publicKey,!0).toString("hex");return b.toChecksumAddress(r).toLowerCase()}},{key:"_pathFromAddress",value:function(e){var t=b.toChecksumAddress(e),n=this.paths[t];if("undefined"===typeof n)for(var r=0;r<1e3;r++)if(t===this._addressFromIndex("m",r)){n=r;break}if("undefined"===typeof n)throw new Error("Unknown address");return this._getPathForIndex(n)}},{key:"_getPathForIndex",value:function(e){return this._isBIP44()?"m/44'/60'/".concat(e,"'/0/0"):"".concat(this.hdPath).concat(e)}},{key:"_isBIP44",value:function(){return"m/44'/60'/0'/0/0"===this.hdPath}},{key:"_toLedgerPath",value:function(e){return e.toString().replace("m/","")}},{key:"_getETH",value:function(){var e=Object(r.a)(v().mark((function e(){var t,n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(navigator.userAgent.toLowerCase().indexOf("firefox")>-1)){e.next=6;break}return e.next=3,u.a.create();case 3:t=e.sent,e.next=9;break;case 6:return e.next=8,l.a.create();case 8:t=e.sent;case 9:return n=new h.a(t),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),s}(y);k.type=w,t.a=k}).call(this,n(10).Buffer)},28:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"h",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return m}));var r,a,o,i=n(17),c=n(9),s=(n(35),r={},Object(i.a)(r,c.networks.ChainIds.Mainnet,"0xb6ecbc094abd0ff7cf030ec9e81f6ca8045b87f9"),Object(i.a)(r,c.networks.ChainIds.Testnet,"0xf0cfe34a7e053520f08bf0a982391810ece9c582"),Object(i.a)(r,c.networks.ChainIds.Privatenet,"0xedba30e32e11ae95ca9c000b8de97c7af087c7de"),r),u=(a={},Object(i.a)(a,c.networks.ChainIds.Mainnet,"0xA89c744Db76266ecA60e2b0F62Afcd1f8581b7ed"),Object(i.a)(a,c.networks.ChainIds.Testnet,"0xA8bfA60203E55f86Dc7013CBf3d8fF85bb1d3cC7"),a),l=(o={},Object(i.a)(o,c.networks.ChainIds.Mainnet,"0x1336739B05C7Ab8a526D40DCC0d04a826b5f8B03"),Object(i.a)(o,c.networks.ChainIds.Testnet,"0x08a0c0e8EFd07A98db11d79165063B6Bc2469ADF"),o),d=1e3,h={PreventingLostTokens:"https://docs.dnerochain.org/docs/preventing-lost-eth-erc20-tokens"};function p(e){return e===c.constants.StakePurpose.StakeForValidator?2e5:e===c.constants.StakePurpose.StakeForSentry?1e3:e===c.constants.StakePurpose.StakeForEliteEdge?1e4:0}function f(e){return e===c.constants.StakePurpose.StakeForEliteEdge?5e5:1e11}function m(e){return e===c.constants.StakePurpose.StakeForSentry?1e11:0}},29:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(11),a=n(2),o=n(3),i=n(14),c=n(138),s=n(35),u=n(72),l=n(99),d=n(36),h=n.n(d),p=n(21),f=n.n(p),m=n(49);function v(){v=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(j){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return S()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=k(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(j){return{type:"throw",arg:j}}}e.wrap=s;var l={};function d(){}function h(){}function p(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(_([])));y&&y!==t&&n.call(y,a)&&(f=y);var g=p.prototype=d.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,c){var s=u(e[a],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function _(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=p,c(g,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var y=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,null,[{key:"setChainID",value:function(e){this._chainId=e}},{key:"getChainID",value:function(){return this._chainId}},{key:"getTransactionExplorerUrl",value:function(e){var t=this.getChainID(),n=m.a[t];return"".concat(n,"/txs/").concat(e.hash)}},{key:"getAccountExplorerUrl",value:function(e){var t=this.getChainID(),n=m.a[t];return"".concat(n,"/account/").concat(e)}},{key:"getTransactionFee",value:function(){return.3}},{key:"getSmartContractGasPrice",value:function(){return 4e-6}},{key:"unsignedSendTx",value:function(e,t){var n=e.tokenType,r=e.from,a=e.to,o=e.amount,c=e.transactionFee,l=new i.BigNumber(10).pow(18),d=n===u.a.DNERO?new i.BigNumber(o).multipliedBy(l):new i.BigNumber(0),h=n===u.a.DNERO_TOKEN?new i.BigNumber(o).multipliedBy(l):new i.BigNumber(0),p=new i.BigNumber(c).multipliedBy(l),f=r,m=t,v=[{address:a,dneroWei:d,dtokenWei:h}];return new s.a.SendTx(f,v,p,m)}},{key:"unsignedDepositStakeTx",value:function(e,t){e.tokenType;var n=e.from,r=e.holder,a=e.amount,o=e.transactionFee,c=e.purpose,u=new i.BigNumber(10).pow(18),l=new i.BigNumber(a).multipliedBy(u),d=new i.BigNumber(o).multipliedBy(u),h=n,p=t,f=null;return c===s.a.StakePurposes.StakeForValidator?f=new s.a.DepositStakeTx(h,r,l,d,c,p):(c===s.a.StakePurposes.StakeForSentry||c===s.a.StakePurposes.StakeForEliteEdge)&&(f=new s.a.DepositStakeV2Tx(h,r,l,d,c,p)),f}},{key:"unsignedWithdrawStakeTx",value:function(e,t){e.tokenType;var n=e.from,r=e.holder,a=e.transactionFee,o=e.purpose,c=new i.BigNumber(10).pow(18),u=new i.BigNumber(a).multipliedBy(c),l=n,d=t;return new s.a.WithdrawStakeTx(l,r,u,o,d)}},{key:"unsignedSmartContractTx",value:function(e,t){var n=e.from,r=e.to,a=e.data,o=e.value,c=e.transactionFee,u=e.gasLimit,l=new i.BigNumber(10).pow(18),d=t,h=new i.BigNumber(c).multipliedBy(l);return new s.a.SmartContractTx(n,r,u,h,a,o,d)}},{key:"isAddress",value:function(e){return c.a.isAddress(e)}},{key:"isValidHolderSummary",value:function(e,t){return s.a.DepositStakeV2Tx.isValidHolderSummary(e,t)}},{key:"signTransaction",value:function(){var t=Object(r.a)(v().mark((function t(n,r){var a,o,i;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.getChainID(),o=s.a.TxSigner.signAndSerializeTx(a,n,r),!(i=(i=o.toString("hex")).substring(2))){t.next=8;break}return t.abrupt("return",i);case 8:throw new Error("Failed to sign transaction.");case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"prepareTxPayload",value:function(t){var n=e.getChainID(),r=h.a.encode(f.a.fromString(n)),a=h.a.encode(f.a.fromNumber(t.getType())),o=h.a.encode(t.rlpInput());return(r+a.slice(2)+o.slice(2)).toString("hex")}}]),e}();y._chainId=l.a.defaultDneroChainID},31:function(e,t,n){"use strict";t.a={RECEIVE:"receive",SEND:"send",SEND_CONFIRMATION:"send-confirmation",PRIVATE_KEY:"private-key",DEPOSIT_STAKE:"deposit-stake",DEPOSIT_STAKE_CONFIRMATION:"deposit-stake-confirmation",WITHDRAW_STAKE:"withdraw-stake",WITHDRAW_STAKE_CONFIRMATION:"withdraw-stake-confirmation",SMART_CONTRACT_CONFIRMATION:"smart-contract-confrimation",NETWORK_SELECTOR:"network-selector",SENTRY_NODE_DELEGATE_SELECTOR:"sentry-node-delegate-selector",CONFIRM_TRANSACTION:"confirm-transaction",CREATE_TRANSACTION:"create-transaction",DELEGATED_NODE_SELECTOR:"delegated-node-selector",TRACK_TOKEN:"track-token"}},35:function(e,t,n){"use strict";(function(e){var r=n(73),a=n(6),o=n(7),i=n(2),c=n(3),s=n(415),u=n.n(s),l=n(416),d=n.n(l),h=n(14),p=n.n(h),f=n(21),m=n.n(f),v=n(36),y=n.n(v),g=n(256),b=n.n(g),w=function(){function e(){Object(i.a)(this,e)}return Object(c.a)(e,[{key:"signBytes",value:function(e){}},{key:"getType",value:function(){}},{key:"rlpInput",value:function(){}}]),e}(),k=function(e){return(u()(e)||d()(e))&&/^(-)?0x[0-9a-f]*$/i.test(e)},E=function(e){if(e=e.toString(16),!k(e))throw new Error('Given value "'.concat(e,'" is not a valid hex string.'));e=(e=e.replace(/^0x/i,"")).length%2?"0"+e:e;for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t};p.a.prototype.pad=function(e){for(var t=String(this);t.length<(e||2);)t="0"+t;return t};var O,x=function(e){var t="0x"===e.slice(0,2)?16:10;return"0x"+new p.a(e,t).pad(2)},_=function(e){return null===e||void 0===e||e.isEqualTo(new p.a(0))?m.a.fromNat("0x0"):m.a.fromNumber(e)},S=function(){function e(t,n){Object(i.a)(this,e),this.dneroWei=t,this.dtokenWei=n}return Object(c.a)(e,[{key:"rlpInput",value:function(){var e=[_(this.dneroWei),_(this.dtokenWei)];return e}}]),e}(),j=function(){function e(t,n,r,a){Object(i.a)(this,e),this.address=t,this.sequence=a,this.signature="",this.coins=n||r?new S(n,r):new S(null,null)}return Object(c.a)(e,[{key:"setSignature",value:function(e){this.signature=e}},{key:"rlpInput",value:function(){return[this.address?this.address.toLowerCase():m.a.fromNat("0x0"),this.coins.rlpInput(),m.a.fromNumber(this.sequence),this.signature]}}]),e}(),N=function(){function e(t,n,r){Object(i.a)(this,e),this.address=t,this.coins=n||r?new S(n,r):new S(null,null)}return Object(c.a)(e,[{key:"rlpInput",value:function(){return[this.address?this.address.toLowerCase():"0x0000000000000000000000000000000000000000",this.coins.rlpInput()]}}]),e}(),T=2,C=7,L=8,A=9,P=10,I=function(){function e(t){Object(i.a)(this,e),this.nonce="0x0",this.gasPrice="0x0",this.gas="0x0",this.to="0x0000000000000000000000000000000000000000",this.value="0x0",this.input=t}return Object(c.a)(e,[{key:"rlpInput",value:function(){return[m.a.fromNat(this.nonce),m.a.fromNat(this.gasPrice),m.a.fromNat(this.gas),this.to.toLowerCase(),m.a.fromNat(this.value),this.input]}}]),e}(),R=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e,r,a,o){var c;Object(i.a)(this,n),c=t.call(this);for(var s=new p.a(0),u=new p.a(0),l=p.a.isBigNumber(a)?a:new p.a(a),d=0;d<r.length;d++){var h=r[d],f=h.dneroWei,m=h.dtokenWei,v=p.a.isBigNumber(f)?f:new p.a(f),y=p.a.isBigNumber(m)?m:new p.a(m);s=s.plus(v),u=u.plus(y)}c.fee=new S(new p.a(0),l);var g=new j(e,s,u.plus(l),o);c.inputs=[g],c.outputs=[];for(var b=0;b<r.length;b++){var w=r[b],k=w.address,E=w.dneroWei,O=w.dtokenWei,x=p.a.isBigNumber(E)?E:new p.a(E),_=p.a.isBigNumber(O)?O:new p.a(O),T=new N(k,x,_);c.outputs.push(T)}return c}return Object(c.a)(n,[{key:"setSignature",value:function(e){this.inputs[0].setSignature(e)}},{key:"signBytes",value:function(e){for(var t=[],n=0;n<this.inputs.length;n++){var r=this.inputs[n];t[n]=r.signature,r.signature=""}var a=y.a.encode(m.a.fromString(e)),o=y.a.encode(m.a.fromNumber(this.getType())),i=y.a.encode(this.rlpInput()),c=a+o.slice(2)+i.slice(2),s=new I(c),u=y.a.encode(s.rlpInput());console.log("SendTx :: signBytes :: txRawBytes = "+u);for(var l=0;l<this.inputs.length;l++){this.inputs[l].signature=t[l]}return u}},{key:"getType",value:function(){return T}},{key:"rlpInput",value:function(){for(var e=this.inputs.length,t=this.outputs.length,n=[],r=[],a=0;a<e;a++)n[a]=this.inputs[a].rlpInput();for(var o=0;o<t;o++)r[o]=this.outputs[o].rlpInput();var i=[this.fee.rlpInput(),n,r];return i}}]),n}(w),D={StakeForValidator:0,StakeForSentry:1,StakeForEliteEdge:2},F=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n)}(w),W=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e,r,a,o,c,s){var u;Object(i.a)(this,n),u=t.call(this);var l=p.a.isBigNumber(o)?o:new p.a(o);u.fee=new S(new p.a(0),l);var d=p.a.isBigNumber(a)?a:new p.a(a);return u.source=new j(e,d,null,s),u.purpose=c,r.startsWith("0x")||(r="0x"+r),42!==r.length&&console.log("Holder must be a valid address"),u.holder=new N(r,null,null),u}return Object(c.a)(n,[{key:"setSignature",value:function(e){this.source.setSignature(e)}},{key:"signBytes",value:function(e){var t=this.source.signature;this.source.signature="";var n=y.a.encode(m.a.fromString(e)),r=y.a.encode(m.a.fromNumber(this.getType())),a=y.a.encode(this.rlpInput()),o=n+r.slice(2)+a.slice(2),i=new I(o),c=y.a.encode(i.rlpInput());return this.source.signature=t,c}},{key:"getType",value:function(){return L}},{key:"rlpInput",value:function(){var e=[this.fee.rlpInput(),this.source.rlpInput(),this.holder.rlpInput(),0===this.purpose?m.a.fromNat("0x0"):m.a.fromNumber(this.purpose)];return e}}]),n}(F),M=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e,r,a,o,c,s){var u;Object(i.a)(this,n),u=t.call(this);var l=p.a.isBigNumber(o)?o:new p.a(o);u.fee=new S(new p.a(0),l);var d=p.a.isBigNumber(a)?a:new p.a(a);u.source=c===D.StakeForEliteEdge?new j(e,null,d,s):new j(e,d,null,s),u.purpose=c,r.startsWith("0x")||(r="0x"+r),n.isValidHolderSummary(c,r)||console.log("Holder must be a valid node summary");var h=m.a.toArray(r),f=h.slice(0,20);u.blsPubkeyBytes=h.slice(20,68),u.blsPopBytes=h.slice(68,164),u.holderSigBytes=h.slice(164,229);var v=m.a.fromArray(f);return u.holder=new N(v,null,null),u}return Object(c.a)(n,[{key:"setSignature",value:function(e){this.source.setSignature(e)}},{key:"signBytes",value:function(e){var t=this.source.signature;this.source.signature="";var n=y.a.encode(m.a.fromString(e)),r=y.a.encode(m.a.fromNumber(this.getType())),a=y.a.encode(this.rlpInput()),o=n+r.slice(2)+a.slice(2),i=new I(o),c=y.a.encode(i.rlpInput());return this.source.signature=t,c}},{key:"getType",value:function(){return P}},{key:"rlpInput",value:function(){var e=[this.fee.rlpInput(),this.source.rlpInput(),this.holder.rlpInput(),m.a.fromNumber(this.purpose),m.a.fromArray(this.blsPubkeyBytes),m.a.fromArray(this.blsPopBytes),m.a.fromArray(this.holderSigBytes)];return e}}],[{key:"isValidHolderSummary",value:function(e,t){if(t){var n=t;t.startsWith("0x")||(n="0x"+t);var r=460;return e===D.StakeForEliteEdge&&(r=524),n.length===r}return!1}}]),n}(F),B=function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e,r,a,o,c){var s;Object(i.a)(this,n),s=t.call(this);var u=p.a.isBigNumber(a)?a:new p.a(a);return s.fee=new S(new p.a(0),u),s.source=new j(e,null,null,c),s.holder=new N(r,null,null),s.purpose=o,s}return Object(c.a)(n,[{key:"setSignature",value:function(e){this.source.setSignature(e)}},{key:"signBytes",value:function(e){var t=this.source.signature;this.source.signature="";var n=y.a.encode(m.a.fromString(e)),r=y.a.encode(m.a.fromNumber(this.getType())),a=y.a.encode(this.rlpInput()),o=n+r.slice(2)+a.slice(2),i=new I(o),c=y.a.encode(i.rlpInput());return console.log("SendTx :: signBytes :: txRawBytes = "+c),this.source.signature=t,c}},{key:"getType",value:function(){return A}},{key:"rlpInput",value:function(){var e=[this.fee.rlpInput(),this.source.rlpInput(),this.holder.rlpInput(),0===this.purpose?m.a.fromNat("0x0"):m.a.fromNumber(this.purpose)];return e}}]),n}(F),U=new((window.elliptic||n(94)).ec)("secp256k1"),G=(O=0,function(t,n){var a=U.keyFromPrivate(new e(n.slice(2),"hex")).sign(new e(t.slice(2),"hex"),{canonical:!0});return function(e){var t=Object(r.a)(e,3),n=t[0],a=t[1],o=t[2];return m.a.flatten([a,o,n])}([x(m.a.fromNumber(O+a.recoveryParam)),m.a.pad(32,m.a.fromNat("0x"+a.r.toString(16))),m.a.pad(32,m.a.fromNat("0x"+a.s.toString(16)))])}),K=function(){function e(){Object(i.a)(this,e)}return Object(c.a)(e,null,[{key:"signAndSerializeTx",value:function(e,t,n){var r=this.signTx(e,t,n);return this.serializeTx(r)}},{key:"signTx",value:function(e,t,n){var r=function(e){k(e)&&/^0x/i.test(e.toString())&&(e=E(e));var t=b.a.keccak256(e);return"0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"===t?null:t}(t.signBytes(e)),a=G(r,n);return t.setSignature(a),t}},{key:"serializeTx",value:function(e){return y.a.encode(m.a.fromNumber(e.getType()))+y.a.encode(e.rlpInput()).slice(2)}}]),e}(),H=(n(58),{SendTx:R,DepositStakeTx:W,DepositStakeV2Tx:M,WithdrawStakeTx:B,SmartContractTx:function(e){Object(a.a)(n,e);var t=Object(o.a)(n);function n(e,r,a,o,c,s,u){var l;Object(i.a)(this,n),l=t.call(this);var d=p.a.isBigNumber(s)?s:new p.a(s);return l.from=new j(e,null,d,u),l.to=new N(r,null,null),l.gasLimit=a,l.gasPrice=o,!1===c.toLowerCase().startsWith("0x")&&(c="0x"+c),l.data=m.a.toArray(c),l}return Object(c.a)(n,[{key:"setSignature",value:function(e){this.from.setSignature(e)}},{key:"signBytes",value:function(e){var t=this.from.signature;this.from.signature="";var n=y.a.encode(m.a.fromString(e)),r=y.a.encode(m.a.fromNumber(this.getType())),a=y.a.encode(this.rlpInput()),o=n+r.slice(2)+a.slice(2),i=new I(o),c=y.a.encode(i.rlpInput());return this.from.signature=t,c}},{key:"getType",value:function(){return C}},{key:"rlpInput",value:function(){var e=[this.from.rlpInput(),this.to.rlpInput(),m.a.fromNumber(this.gasLimit),_(this.gasPrice),m.a.fromArray(this.data)];return e}}]),n}(w),TxSigner:K,StakePurposes:D,Utils:{hexToBytes:E,bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")}}});t.a=H}).call(this,n(10).Buffer)},39:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return p}));var r=n(8),a=n.n(r),o=n(9),i=n(28),c=n(340).tokensByChainId,s=function(e){return a.a.isEmpty(e)?null:"https://s3.us-east-2.amazonaws.com/assets.dnerochain.org/tokens/".concat(e)},u={id:"dnero",name:"Dnero",symbol:"DNERO",contractAddress:null,decimals:18,iconUrl:s("dnero.png"),balanceKey:"dnerowei"},l={id:"dtoken",name:"Dnero Token",symbol:"DTOKEN",contractAddress:null,decimals:18,iconUrl:s("dtoken.png"),balanceKey:"dtokenwei"},d=[u,l],h=function(e){var t=i.a[e],n=null;return t&&(n={id:t,name:"DDROP",symbol:"DDROP",contractAddress:t,address:t,decimals:18,iconUrl:s(a.a.get(c,[e,t,"logo"])),balanceKey:t}),n},p=function(e,t){var n=i.a[e],r=t.map(f),o=a.a.filter(r,(function(e){var t;return(null===(t=e.contractAddress)||void 0===t?void 0:t.toLowerCase())!==(null===n||void 0===n?void 0:n.toLowerCase())}));return a.a.concat(function(e){var t=i.a[e],n=[],r=h(e);return t&&n.push(r),a.a.concat(d,n)}(e),o)},f=function(e){var t=c[o.networks.ChainIds.Mainnet][e.address]||c[o.networks.ChainIds.Testnet][e.address];return{id:e.address,name:e.symbol,symbol:e.symbol,contractAddress:e.address,decimals:e.decimals,iconUrl:t?s(t.logo):null,balanceKey:e.address}}},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(2),a=n(3),o=n(0),i=n.n(o),c=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"getRef",value:function(){return this._reactAlertRef}},{key:"_show",value:function(t,n){(0,e.getRef().current[t])(n)}},{key:"showInfo",value:function(e){this._show("info",e)}},{key:"showSuccess",value:function(e){this._show("success",e)}},{key:"showError",value:function(e){this._show("error",e)}}]),e}();c._reactAlertRef=i.a.createRef()},434:function(e,t,n){e.exports=n(921)},439:function(e,t,n){},454:function(e,t){},455:function(e,t){},46:function(e,t,n){"use strict";n.d(t,"d",(function(){return y})),n.d(t,"f",(function(){return g})),n.d(t,"c",(function(){return b})),n.d(t,"g",(function(){return w})),n.d(t,"h",(function(){return k})),n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return O})),n.d(t,"e",(function(){return x}));var r=n(11),a=n(8),o=n.n(a),i=(n(54),n(137),n(57)),c=n(16),s=n(159),u=n(70),l=n(81),d=n(40),h=n(15),p=n(99),f=n(18),m=n(29);function v(){v=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(j){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new x(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return S()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=k(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(j){return{type:"throw",arg:j}}}e.wrap=s;var l={};function d(){}function h(){}function p(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(_([])));y&&y!==t&&n.call(y,a)&&(f=y);var g=p.prototype=d.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,c){var s=u(e[a],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function _(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=p,c(g,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new w(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),c(g,i,"Generator"),c(g,a,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function y(e){return m.a.setChainID(e),c.e.controller.preferencesController.setNetwork({chainId:e}),function(){var t=Object(r.a)(v().mark((function t(n,r){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:i.i,network:e});case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function g(e,t,n){return function(){var a=Object(r.a)(v().mark((function r(a,o){var s;return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=null,r.prev=1,r.next=4,c.e.unlockWallet(e,t,n);case 4:s=r.sent,r.next=10;break;case 7:r.prev=7,r.t0=r.catch(1),d.a.showError(r.t0.message);case 10:s&&(a((o=s.address,{type:i.j,address:o})),Object(h.k)()?l.a.push("/wallet"):l.a.push("/offline"));case 11:case"end":return r.stop()}var o}),r,null,[[1,7]])})));return function(e,t){return a.apply(this,arguments)}}()}function b(){return function(){var e=Object(r.a)(v().mark((function e(t,n){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.e.setWallet(null),m.a.setChainID(p.a.defaultDneroChainID),s.a.setWalletData(null),t({type:i.h}),t(Object(u.f)()),l.a.push("/unlock"),window.location.reload();case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}function w(e){return function(){var t=Object(r.a)(v().mark((function t(n,r){return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e&&n(Object(f.d)()),t.next=3,c.e.controller.RPCApi.updateAccountBalances({});case 3:t.sent,e&&n(Object(f.a)());case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function k(e,t){return function(){var n=Object(r.a)(v().mark((function n(r,a){return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t&&r(Object(f.d)()),n.next=3,c.e.controller.RPCApi.updateAccountStakes({address:e});case 3:n.sent,t&&r(Object(f.a)());case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}function E(e){return function(){var t=Object(r.a)(v().mark((function t(n){var r;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(Object(f.d)()),t.next=4,c.e.controller.RPCApi.addToken({token:e});case 4:return r=t.sent,n(Object(f.b)()),n(Object(f.a)()),t.abrupt("return",r);case 10:return t.prev=10,t.t0=t.catch(0),n(Object(f.a)()),t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}function O(e,t,n){return function(){var a=Object(r.a)(v().mark((function r(a){var i;return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(Object(f.d)("Looking for your ".concat(o.a.capitalize(e),"..."))),r.prev=1,r.next=4,c.e.controller.connectHardware(e,t,n);case 4:i=r.sent,r.next=12;break;case 7:throw r.prev=7,r.t0=r.catch(1),a(Object(f.a)()),d.a.showError(r.t0.message),r.t0;case 12:return a(Object(f.a)()),r.abrupt("return",i);case 14:case"end":return r.stop()}}),r,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}()}function x(e,t,n,a){return function(o){return o(Object(f.d)()),new Promise(function(){var i=Object(r.a)(v().mark((function r(i,s){return v().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.e.controller.unlockHardwareWalletAccount(e,n,a,(function(e){if(e)return d.a.showError(e.message),void s(e);o(Object(f.a)()),i()}));case 2:o(Object(f.a)()),o(g(c.d.COLD_WALLET,null,{hardware:n,path:a,address:t}));case 4:case"end":return r.stop()}}),r)})));return function(e,t){return i.apply(this,arguments)}}())}}},480:function(e,t){},482:function(e,t){},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return p}));var r=n(17),a=n(8),o=n.n(a),i=n(15),c={__deprecated__ETHEREUM:"ethereum",DNERO_TESTNET:"testnet",DNERO_TESTNET_AMBER:"testnet_amber",DNERO_TESTNET_SAPPHIRE:"testnet_sapphire",DNERO_MAINNET:"mainnet",DNERO_PRIVATENET:"privatenet"},s=[{id:c.DNERO_MAINNET,name:"Mainnet",description:"DNERO mainnet (Default)"},{id:c.DNERO_TESTNET,name:"Testnet",description:"DNERO testnet",faucetId:"testnet"},{id:c.DNERO_TESTNET_AMBER,name:"Testnet_Amber",description:"DNERO testnet for elite edge nodes (Apr 2021)"},{id:c.DNERO_TESTNET_SAPPHIRE,name:"Testnet (Sapphire)",description:"DNERO testnet for sentry nodes (Feb 2020)"},{id:c.DNERO_PRIVATENET,name:"Smart Contracts Sandbox",description:"DNERO testnet for Smart Contracts (ALPHA)",faucetId:"smart_contract"}],u=Object(i.s)(s.map((function(e){return e.id})),s),l=Object(r.a)({},c.DNERO_MAINNET,"http://164.92.81.239:5445");function d(e){return!0}function h(e){return o.a.get(u,[e,"name"])}function p(e){return o.a.get(u,[e,"faucetId"])}t.c=c},492:function(e,t){},494:function(e,t){},523:function(e,t){},525:function(e,t){},532:function(e,t){},533:function(e,t){},54:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return d}));var r=n(2),a=n(3),o={Accept:"application/json","Content-Type":"application/json"};function i(e){var t=e.status;return 200===t||201===t||202===t||204===t}function c(e){if(!e)return"";var t=Object.keys(e).map((function(t){if(e[t])return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&");return t.length>0?"?"+t:""}function s(e,t,n,r,a){var i=function(e,t){return e.startsWith("http://")||e.startsWith("https://")?e+c(t):"http://143.198.132.249:7554/api"+e+c(t)}(e,r),s={method:t,headers:function(e){return Object.assign(o,e)}(n)};return a&&(s.body=JSON.stringify(a)),fetch(i,s)}function u(e,t,n){return s(e,"GET",t,n)}function l(e,t,n,r){return s(e,"POST",t,n,r)}var d=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"fetchWallet",value:function(e,t){return u("/wallet/".concat(e),null,t)}},{key:"createTransaction",value:function(e,t){return l("/tx",null,t,e)}},{key:"fetchTransaction",value:function(e,t){return u("/tx/".concat(e),null,t)}},{key:"fetchTransactions",value:function(e,t){return u("/tx/".concat(e,"/list"),null,t)}},{key:"fetchSequence",value:function(e,t){return u("/sequence/".concat(e),null,t)}},{key:"fetchStakes",value:function(e,t){return u("/stake/".concat(e,"/list"),null,t)}},{key:"callSmartContract",value:function(e,t){return l("/smart-contract/call",null,t,e)}},{key:"executeSmartContract",value:function(e,t){return l("/tx",null,t,e)}},{key:"callFaucet",value:function(e,t){return s("https://public-faucet.dnerochain.org/dtoken_faucet","GET",null,{address:e.toLowerCase(),chain:t},null)}},{key:"fetchSentryNodeDelegates",value:function(){return s("http://143.198.132.249:7554/api/v1/sentry/delegated-nodes","GET",null,null)}}]),e}()},555:function(e,t){},557:function(e,t){},56:function(e,t,n){"use strict";t.a={DEPLOY:"deploy",INTERACT:"interact",EXECUTE:"execute",CALL:"call"}},567:function(e,t){},569:function(e,t){},57:function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"j",(function(){return h})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return f}));var r="WALLET",a="".concat(r,"/FETCH_WALLET_ETHEREUM_BALANCES"),o="".concat(a,"/START"),i="".concat(a,"/END"),c=("".concat(a,"/FAILURE"),"".concat(a,"/SUCCESS")),s="".concat(r,"/FETCH_WALLET_BALANCES"),u="".concat(s,"/START"),l="".concat(s,"/END"),d=("".concat(s,"/FAILURE"),"".concat(s,"/SUCCESS")),h="".concat(r,"/SET_WALLET_ADDRESS"),p=("".concat(r,"/UNLOCK"),"".concat(r,"/RESET")),f="".concat(r,"/SET_NETWORK")},586:function(e,t,n){},587:function(e,t,n){},619:function(e,t){},620:function(e,t){},64:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=[{constant:!0,inputs:[{name:"user",type:"address"},{name:"token",type:"address"}],name:"tokenBalance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"users",type:"address[]"},{name:"tokens",type:"address[]"}],name:"balances",outputs:[{name:"",type:"uint256[]"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"}],a=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"version",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"},{name:"_extraData",type:"bytes"}],name:"approveAndCall",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!1,stateMutability:"nonpayable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_owner",type:"address"},{indexed:!0,name:"_spender",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Approval",type:"event"}],o=[{inputs:[{internalType:"address",name:"superAdmin_",type:"address"},{internalType:"address",name:"admin_",type:"address"},{internalType:"address",name:"ddrop_",type:"address"},{internalType:"address",name:"ddropParams_",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"admin",type:"address"},{indexed:!1,internalType:"address",name:"newAdmin",type:"address"}],name:"AdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"delegator",type:"address"},{indexed:!0,internalType:"address",name:"fromDelegate",type:"address"},{indexed:!0,internalType:"address",name:"toDelegate",type:"address"}],name:"DelegateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"delegate",type:"address"},{indexed:!1,internalType:"uint256",name:"previousBalance",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newBalance",type:"uint256"}],name:"DelegateVotesChanged",type:"event"},{anonymous:!1,inputs:[],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"superAdmin",type:"address"},{indexed:!1,internalType:"address",name:"newSuperAdmin",type:"address"}],name:"SuperAdminChanged",type:"event"},{anonymous:!1,inputs:[],name:"Unpaused",type:"event"},{constant:!0,inputs:[],name:"DELEGATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"DOMAIN_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"admin",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint32",name:"",type:"uint32"}],name:"checkpoints",outputs:[{internalType:"uint32",name:"fromBlock",type:"uint32"},{internalType:"uint96",name:"votes",type:"uint96"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"delegatee",type:"address"}],name:"delegate",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"delegatee",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"delegateBySig",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"delegates",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"estimatedDDropOwnedBy",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"getCurrentVotes",outputs:[{internalType:"uint96",name:"",type:"uint96"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getPriorVotes",outputs:[{internalType:"uint96",name:"",type:"uint96"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"lastRewardMintHeight",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"}],name:"numCheckpoints",outputs:[{internalType:"uint32",name:"",type:"uint32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"pause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"admin_",type:"address"}],name:"setAdmin",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"superAdmin_",type:"address"}],name:"setSuperAdmin",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"rawAmount",type:"uint256"}],name:"stake",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"superAdmin",outputs:[{internalType:"address",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"ddrop",outputs:[{internalType:"contract IDDrop",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"ddropParams",outputs:[{internalType:"contract IDDropParams",name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalShares",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"unpause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"rawShares",type:"uint256"}],name:"unstake",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"}]},675:function(e,t){},682:function(e,t){},70:function(e,t,n){"use strict";n.d(t,"d",(function(){return _})),n.d(t,"b",(function(){return S})),n.d(t,"f",(function(){return j})),n.d(t,"c",(function(){return N})),n.d(t,"e",(function(){return T})),n.d(t,"a",(function(){return C}));var r=n(11),a=n(9),o=n(8),i=n.n(o),c=(n(54),n(137),"".concat("TRANSACTIONS","/FETCH_TRANSACTIONS_ETHEREUM")),s=("".concat(c,"/START"),"".concat(c,"/END"),"".concat(c,"/FAILURE"),"".concat(c,"/SUCCESS"),"".concat("TRANSACTIONS","/FETCH_TRANSACTIONS_ERC20")),u=("".concat(s,"/START"),"".concat(s,"/END"),"".concat(s,"/FAILURE"),"".concat(s,"/SUCCESS"),"".concat("TRANSACTIONS","/FETCH_TRANSACTIONS_DNERO")),l=("".concat(u,"/START"),"".concat(u,"/END"),"".concat(u,"/FAILURE"),"".concat(u,"/SUCCESS"),"".concat("TRANSACTIONS","/CREATE_SEND_TRANSACTION")),d=("".concat(l,"/START"),"".concat(l,"/END"),"".concat(l,"/FAILURE"),"".concat(l,"/SUCCESS"),"".concat("TRANSACTIONS","/CREATE_DEPOSIT_STAKE_TRANSACTION")),h=("".concat(d,"/START"),"".concat(d,"/END"),"".concat(d,"/FAILURE"),"".concat(d,"/SUCCESS"),"".concat("TRANSACTIONS","/CREATE_WITHDRAW_STAKE_TRANSACTION")),p=("".concat(h,"/START"),"".concat(h,"/END"),"".concat(h,"/FAILURE"),"".concat(h,"/SUCCESS"),"".concat("TRANSACTIONS","/CREATE_SMART_CONTRACT_TRANSACTION")),f=("".concat(p,"/START"),"".concat(p,"/END"),"".concat(p,"/FAILURE"),"".concat(p,"/SUCCESS"),"".concat("TRANSACTIONS","/FETCH_TRANSACTION")),m=("".concat(f,"/START"),"".concat(f,"/END"),"".concat(f,"/FAILURE"),"".concat(f,"/SUCCESS"),"".concat("TRANSACTIONS","/RESET")),v=n(16),y=(n(29),n(422),n(18)),g=n(40),b=(n(35),n(56)),w=n(81),k=n(31),E=n(46),O=n(15);function x(){x=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(j){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new O(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return S()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(j){return{type:"throw",arg:j}}}e.wrap=s;var l={};function d(){}function h(){}function p(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(_([])));v&&v!==t&&n.call(v,a)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,c){var s=u(e[a],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function _(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function _(){return function(e,t){var n=i.a.get(t(),"dneroWallet.selectedAddress");if(n)return v.e.controller.RPCApi.updateAccountTransactions({address:n})}}function S(e,t,n){return function(){var o=Object(r.a)(x().mark((function r(o,c){var s,u,l,d,h,p,f;return x().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o(Object(y.d)("Preparing transaction...")),r.next=3,Object(O.l)(1e3);case 3:return r.prev=3,s=v.e.getWalletAddress(),u=v.e.controller.provider,l=new a.transactions.SmartContractTransaction(n),r.next=9,u.getTransactionCount(s);case 9:return d=r.sent,d+=1,l.setSequence(d),r.next=14,u.callSmartContract(l);case 14:return h=r.sent,r.next=17,Object(O.l)(1e3);case 17:o(Object(y.a)()),o(N(l.toJson())),e===b.a.DEPLOY&&(p=i.a.get(h,["contract_address"]),f=btoa(t),w.a.push("/wallet/contract/interact?address=".concat(p,"&abi=").concat(f))),r.next=27;break;case 22:return r.prev=22,r.t0=r.catch(3),o(Object(y.a)()),g.a.showError(r.t0.message),r.abrupt("return",Promise.resolve(null));case 27:return r.prev=27,o(Object(y.a)()),r.finish(27);case 30:case"end":return r.stop()}}),r,null,[[3,22,27,30]])})));return function(e,t){return o.apply(this,arguments)}}()}function j(){return{type:m}}function N(e){return function(){var t=Object(r.a)(x().mark((function t(n){var r;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=v.e.controller.RPCApi.addTransactionRequest({transactionRequest:e}),n(Object(y.e)({type:k.a.CONFIRM_TRANSACTION,props:{closeable:!1}})),t.abrupt("return",r);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",!1);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}function T(e){return function(){var t=Object(r.a)(x().mark((function t(n){var r;return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=v.e.controller.RPCApi.rejectTransactionRequest({transactionRequestId:e}),n(Object(y.b)()),t.abrupt("return",r);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",!1);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}function C(e,t){return function(){var n=Object(r.a)(x().mark((function n(r,o){var c,s,u,l,d,h;return x().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c=v.e.controller.transactionsController.pendingTransactionRequests.get(e),s=i.a.get(c,"request.dependencies",[]),u=s.length+1,0===s.length?r(Object(y.d)("Sending Transaction")):r(Object(y.d)("Sending Transaction (1 / ".concat(u,")"))),n.next=7,Object(O.l)(1500);case 7:if(v.e.verifyPassword(t)){n.next=12;break}return r(Object(y.a)()),g.a.showError("Wrong password. Your transaction could not be signed."),n.abrupt("return",!1);case 12:return n.next=14,v.e.controller.RPCApi.approveTransactionRequest({transactionRequestId:e,onDependencySent:function(){0===s.length?r(Object(y.d)("Sending Transaction")):r(Object(y.d)("Sending Transaction (".concat(u," / ").concat(u,")")))}});case 14:return l=n.sent,r(Object(y.c)()),window.location.href.includes("stakes")&&(d=i.a.get(o(),"dneroWallet.selectedAddress"),r(Object(E.h)(d))),r(Object(y.a)()),n.abrupt("return",l);case 21:return n.prev=21,n.t0=n.catch(0),r(Object(y.a)()),h=a.errors.humanizeErrorMessage(n.t0.message),g.a.showError(h),n.abrupt("return",!1);case 27:case"end":return n.stop()}}),n,null,[[0,21]])})));return function(e,t){return n.apply(this,arguments)}}()}},72:function(e,t,n){"use strict";var r={ETHEREUM:"ethereum",ERC20_DNERO:"erc20",DNERO:"dnero",DNERO_TOKEN:"dtoken"};t.a=r},74:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c}));var r="".concat("UI","/SHOW_LOADER"),a="".concat("UI","/HIDE_LOADER"),o="".concat("UI","/SHOW_MODAL"),i="".concat("UI","/HIDE_MODAL"),c="".concat("UI","/HIDE_MODALS")},743:function(e,t){},81:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),a=n(3),o=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"setHistory",value:function(e){this._history=e}},{key:"push",value:function(e){return this._history.push(e)}}]),e}();o._history=null},836:function(e,t,n){},837:function(e,t,n){},839:function(e,t,n){},840:function(e,t,n){},841:function(e,t,n){},842:function(e,t,n){},850:function(e,t,n){},851:function(e,t,n){},852:function(e,t,n){},853:function(e,t,n){},854:function(e,t,n){},889:function(e,t,n){},890:function(e,t,n){},891:function(e,t,n){},892:function(e,t,n){},893:function(e,t,n){},894:function(e,t,n){},895:function(e,t,n){},896:function(e,t,n){},897:function(e,t,n){},898:function(e,t,n){},899:function(e,t,n){},900:function(e,t,n){},901:function(e,t,n){},908:function(e,t,n){},909:function(e,t,n){},910:function(e,t,n){},911:function(e,t,n){},912:function(e,t,n){},913:function(e,t,n){},920:function(e,t,n){},921:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(114),i=n.n(o),c=(n(439),n(2)),s=n(3),u=n(6),l=n(7),d=n(928),h=n(929),p=n(927),f=n(430),m=n(37),v=n(32),y=n(417),g=n(414),b=n(115),w=n(57),k=n(15),E=n(99),O={dneroWallet:null,network:E.a.defaultDneroChainID,isFetchingBalances:!1,isFetchingEthereumBalances:!1,address:null,name:null,balances:[],balancesByType:{},balancesRefreshedAt:null,ethereumBalances:[],ethereumBalancesByType:{}},x=n(25),_=n(74),S={modals:[],isLoading:!1,loadingMessage:null},j="".concat("DNERO_WALLET","/UPDATE_DNERO_WALLET_STATE"),N={},T=Object(b.c)({wallet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.i:return Object.assign({},e,{network:t.network});case w.f:return Object.assign({},e,{isFetchingEthereumBalances:!0});case w.e:return Object.assign({},e,{isFetchingEthereumBalances:!1});case w.g:var n=t.response.body,r=n.balances;return Object.assign({},e,{ethereumBalances:r,ethereumBalancesByType:Object(k.s)(r.map((function(e){return e.type})),r.map((function(e){return e.value})))});case w.c:return Object.assign({},e,{isFetchingBalances:!0});case w.b:return Object.assign({},e,{isFetchingBalances:!1});case w.d:var a=t.response.body,o=a.balances;return Object.assign({},e,{balances:o,balancesByType:Object(k.s)(o.map((function(e){return e.type})),o.map((function(e){return e.value}))),balancesRefreshedAt:new Date});case w.j:return Object.assign({},e,{address:t.address});case w.h:return O;default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.e:var n=t.modal,r=n.type,a=n.props;return Object.assign({},e,{modals:[].concat(Object(v.a)(e.modals),[{type:r,props:a}])});case _.b:return Object.assign({},e,{modals:e.modals.slice(0,-1)});case _.c:return Object.assign({},e,{modals:[]});case _.d:return Object(x.a)(Object(x.a)({},e),{},{isLoading:!0,loadingMessage:t.message});case _.a:return Object(x.a)(Object(x.a)({},e),{},{isLoading:!1,loadingMessage:null});default:return e}},dneroWallet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object.assign({},e,t.data);default:return e}}}),C=n(8),L=n.n(C),A=(Object(g.createLogger)(),[y.a,!1].filter((function(e){return L.a.isFunction(e)}))),P=Object(b.d)(T,b.a.apply(void 0,Object(v.a)(A))),I=n(12),R=(n(586),n(587),n(16)),D=n(46),F=n(40),W=n(18),M=n(31),B=n(49),U=n(429),G=n(424),K=n(9),H=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).onClick=function(){e.props.dispatch(Object(W.e)({type:M.a.NETWORK_SELECTOR}))},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.selectedNetwork;return a.a.createElement("div",{className:"NetworkSelector",onClick:this.onClick},a.a.createElement("div",{className:"NetworkSelector__color",style:{backgroundColor:e.color}}),a.a.createElement("div",{className:"NetworkSelector__name"},e.name),a.a.createElement("div",{className:"NetworkSelector__arrow"},a.a.createElement(U.a,null)))}}]),n}(a.a.Component),q=Object(m.b)((function(e,t){var n=L.a.get(e,"dneroWallet.network.chainId",K.networks.ChainIds.Mainnet);return{selectedNetwork:Object(G.a)(n)||{chainId:n,name:n,color:"#000000"}}}))(H),V=n(59),Y=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).onNetworkBadgeClick=function(){R.e.getWalletAddress()?alert("You cannot change networks while a wallet is unlocked."):P.dispatch(Object(W.e)({type:M.a.NETWORK_SELECTOR}))},e.logout=e.logout.bind(Object(I.a)(e)),e.copyAddress=e.copyAddress.bind(Object(I.a)(e)),e}return Object(s.a)(n,[{key:"logout",value:function(){P.dispatch(Object(D.c)())}},{key:"copyAddress",value:function(){var e=R.e.getWalletAddress();Object(k.a)(e),F.a.showSuccess("Your address has been copied")}},{key:"renderAccountIfNeeded",value:function(){var e=R.e.getWalletAddress();return e?a.a.createElement("div",{className:"NavBar__account"},a.a.createElement("div",{className:"NavBar__wallet"},a.a.createElement("div",{className:"NavBar__wallet-title"},"My Wallet:"),a.a.createElement("div",{className:"NavBar__wallet-address"},e),a.a.createElement("a",{className:"NavBar__wallet-copy-address-icon",onClick:this.copyAddress},a.a.createElement("img",{src:"/img/icons/copy@2x.png"}))),a.a.createElement("a",{className:"NavBar__logout",onClick:this.logout},"Log out")):null}},{key:"render",value:function(){this.props.network;return a.a.createElement("div",{className:V("NavBar",{"NavBar--is-centered":this.props.centered})},a.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},a.a.createElement("img",{className:"NavBar__logo",src:"/img/logo/dnero_wallet_logo@2x.png"}),!this.props.centered&&a.a.createElement(q,null)),this.renderAccountIfNeeded())}}]),n}(a.a.Component),z=Object(m.b)((function(e,t){return{network:e.wallet.network}}))(Y),J=n(17),X=(n(836),n(59)),Z=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e,t=X("TabBar",(e={},Object(J.a)(e,this.props.className,!0),Object(J.a)(e,"TabBar--is-centered",this.props.centered),Object(J.a)(e,"TabBar--is-condensed",this.props.condensed),e));return a.a.createElement("div",{className:t,style:this.props.style},this.props.children)}}]),n}(a.a.Component),Q=(n(837),n(926)),$=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return this.props.href?a.a.createElement(Q.a,{to:this.props.href,className:"TabBarItem",activeClassName:"TabBarItem--is-active",onClick:this.props.onClick},this.props.normalIconUrl&&a.a.createElement("img",{className:"TabBarItem__icon",alt:this.props.title,src:this.props.normalIconUrl}),this.props.activeIconUrl&&a.a.createElement("img",{className:"TabBarItem__icon-active",alt:this.props.title,src:this.props.activeIconUrl}),a.a.createElement("div",{className:"TabBarItem__title"},this.props.title)):a.a.createElement("a",{className:"TabBarItem",href:this.props.href,target:this.props.target,onClick:this.props.onClick},a.a.createElement("img",{className:"TabBarItem__icon",alt:this.props.title,src:this.props.normalIconUrl}),a.a.createElement("div",{className:"TabBarItem__title"},this.props.title))}}]),n}(a.a.Component),ee=(n(839),n(840),n(841),n(842),n(193)),te=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.token,n=e.balance||"-";return a.a.createElement(Q.a,{to:"/wallet/tokens/".concat(t.id),className:"Balance"},a.a.createElement("div",{className:"Balance__icon-wrapper"},t.iconUrl&&a.a.createElement("img",{src:t.iconUrl,className:"Balance__icon"}),L.a.isNil(t.iconUrl)&&a.a.createElement(ee.a,{address:t.contractAddress,className:"Balance__icon"})),a.a.createElement("div",{className:"WalletTokenListItem__token-balance-container"},a.a.createElement("div",{className:"Balance__name"},t.symbol),a.a.createElement("div",{className:"Balance__amount"},n)))}}]),n}(a.a.Component),ne=n(29),re=n(194),ae=n.n(re),oe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).onAddTokenClick=function(){P.dispatch(Object(W.e)({type:M.a.TRACK_TOKEN}))},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.selectedAccount,n=(e.tokens,e.assets),r=e.balancesRefreshedAt;return a.a.createElement("div",{className:"WalletTokenList"},t&&t.balances&&n.map((function(e){var n=e.decimals,r=L.a.get(t.balances,[e.balanceKey],"0");return a.a.createElement(te,{key:e.id,token:e,balance:Object(k.d)(r,n)})})),a.a.createElement("a",{className:"AddTokenCTA",onClick:this.onAddTokenClick},a.a.createElement("img",{className:"AddTokenCTA__icon",src:"/img/icons/add-token.svg"}),a.a.createElement("div",{className:"AddTokenCTA__name"},"Add Token")),t&&L.a.isEmpty(t.balances)&&a.a.createElement("div",{className:"WalletTokenList__refreshed-message"},"Loading balances..."),!L.a.isNil(r)&&a.a.createElement("div",{className:"WalletTokenList__refreshed-message"},"Balances refreshed ".concat(ae()(r).fromNow())),t&&a.a.createElement("a",{className:"WalletTokenList__explorer-link",href:ne.a.getAccountExplorerUrl(t.address),target:"_blank",rel:"noopener noreferrer"},"View Account on Explorer"))}}]),n}(a.a.Component),ie=(n(850),n(59)),ce=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e,t=ie("PageHeader",(e={},Object(J.a)(e,this.props.className,!0),Object(J.a)(e,"PageHeader--is-sticky",this.props.sticky),e));return a.a.createElement("div",{className:t},this.props.title&&a.a.createElement("div",{className:"PageHeader__title"},this.props.title),this.props.children)}}]),n}(a.a.Component),se=(n(851),n(852),n(853),n(59)),ue=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.bound,n=e.isLocal,r="inbound"===t,o=null;o=r?"Received":n?"Sent - Processing":"Sent";var i=se("TransactionStatus",{"TransactionStatus--is-inbound":r});return a.a.createElement("div",{className:i},a.a.createElement("div",{className:"TransactionStatus__dot"}),a.a.createElement("div",{className:"TransactionStatus__text"},o))}}]),n}(a.a.PureComponent),le=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.transaction,t=e.inputs,n=e.outputs,r=e.timestamp,o=e.bound,i=(e.hash,e.is_local),c=t?t[0]:null,s=n?n[0]:null,u=L.a.get(c,["address"]),l=L.a.get(s,["address"]),d="inbound"===o,h=ne.a.getTransactionExplorerUrl(e);u=Object(k.r)(u),l=Object(k.r)(l);var p=L.a.get(s,["coins","dnerowei"]),f=L.a.get(s,["coins","dtokenwei"]);return a.a.createElement("a",{className:"DneroTransactionListItem",href:h,target:"_blank"},a.a.createElement("div",{className:"DneroTransactionListItem__left-container"},a.a.createElement("div",{className:"DneroTransactionListItem__top-container"},a.a.createElement(ue,{bound:o,isLocal:i})),a.a.createElement("div",{className:"DneroTransactionListItem__middle-container"},a.a.createElement("div",{className:"DneroTransactionListItem__address-container"},a.a.createElement("div",{className:"DneroTransactionListItem__address-prefix"},d?"FROM:":"TO:"),a.a.createElement("div",{className:"DneroTransactionListItem__address"},d?u:l))),a.a.createElement("div",{className:"DneroTransactionListItem__bottom-container"},a.a.createElement("div",{className:"DneroTransactionListItem__date"},ae.a.unix(r).fromNow()))),a.a.createElement("div",{className:"DneroTransactionListItem__right-container"},a.a.createElement("div",{className:"DneroTransactionListItem__amount-container"},a.a.createElement("div",{className:"DneroTransactionListItem__amount"},Object(k.e)(p)),a.a.createElement("img",{className:"DneroTransactionListItem__amount-icon",src:"/img/tokens/dnero_large@2x.png"})),a.a.createElement("div",{className:"DneroTransactionListItem__amount-container"},a.a.createElement("div",{className:"DneroTransactionListItem__amount"},Object(k.e)(f)),a.a.createElement("img",{className:"DneroTransactionListItem__amount-icon",src:"/img/tokens/dtoken_large@2x.png"}))))}}]),n}(a.a.Component),de=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"createList",value:function(){return this.props.transactions.map((function(e,t){return a.a.createElement(le,{key:e.hash,transaction:e})}))}},{key:"render",value:function(){return a.a.createElement("div",{className:"TransactionList"},this.createList())}}]),n}(a.a.Component),he=n(70),pe=n(198),fe=n(72),me=function(e){return e.transactions.localTransactionsByHash},ve=function(e){return e.transactions.ethereumNetworkTransactionsByType},ye=function(e){return R.e.getWalletAddress()};function ge(e,t){var n=t.outputs;n=function(e,t){return L.a.sortBy(t,[function(t){return t.address===e?-1:0}])}(e,n);var r;return L.a.isNil(n)?null:(r=n[0].address,Object.assign({},t,{bound:e===r?"inbound":"outbound",outputs:n}))}function be(e,t){return Object.assign({},t,{bound:e===t.to?"inbound":"outbound"})}function we(e,t,n,r){e=e?e.toLowerCase():null;var a=n[t],o=L.a.partial(be,e),i=L()(a).sortBy((function(e){return parseInt(e.time_stamp)})).reverse().map(o).value(),c=new Set(L.a.map(i,(function(e){return e.hash}))),s=L.a.filter(Object.values(r),(function(e){return!c.has(e.hash)&&e.type===t})),u=L.a.flatten([s,i]);return L.a.uniqBy(u,"hash")}Object(pe.a)([ye,ve,me],(function(e,t,n){return we(e,fe.a.ERC20_DNERO,t,n)})),Object(pe.a)([ye,ve,me],(function(e,t,n){return we(e,fe.a.ETHEREUM,t,n)})),Object(pe.a)([ye,function(e){return e.transactions.transactions},me],(function(e,t,n){return function(e,t,n){e=e?e.toLowerCase():null;var r=L.a.negate(L.a.isNil),a=L.a.partial(ge,e),o=L()(t).map(a).filter(r).sortBy((function(e){return parseInt(e.timestamp)})).reverse().value(),i=new Set(L.a.map(o,(function(e){return e.hash}))),c=L.a.filter(Object.values(n),(function(e){return!i.has(e.hash)})),s=L.a.flatten([c,o]);return L.a.uniqBy(s,"hash")}(e,t,n)})),n(854);var ke=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"EmptyState"},this.props.icon&&a.a.createElement("img",{className:"EmptyState__icon",src:this.props.icon}),a.a.createElement("div",{className:"EmptyState__title"},this.props.title),a.a.createElement("div",{className:"EmptyState__subtitle"},this.props.subtitle))}}]),n}(a.a.PureComponent),Ee=n(48),Oe=n.n(Ee),xe=(n(889),n(59)),_e=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e,t=this.props.iconUrl&&a.a.createElement("img",{className:"GhostButton__icon",src:this.props.iconUrl}),n=null,o=xe("GhostButton",(e={},Object(J.a)(e,this.props.className,!0),Object(J.a)(e,"GhostButton--is-disabled",this.props.disabled),e));return n=this.props.loading?a.a.createElement(Oe.a,{singleColor:"#ffffff",size:16,className:"GhostButton__spinner"}):a.a.createElement(r.Fragment,null,t,a.a.createElement("div",{className:"GhostButton__title"},this.props.title)),a.a.createElement("a",{className:o,href:this.props.href,target:this.props.target,onClick:!0===this.props.disabled?null:this.props.onClick,style:this.props.style},n)}}]),n}(a.a.Component),Se=n(39),je=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).pollWalletBalancesIntervalId=null,e.handleSendClick=e.handleSendClick.bind(Object(I.a)(e)),e.handleReceiveClick=e.handleReceiveClick.bind(Object(I.a)(e)),e}return Object(s.a)(n,[{key:"fetchTransactions",value:function(e){e!==fe.a.DNERO&&e!==fe.a.DNERO_TOKEN||this.props.dispatch(Object(he.d)())}},{key:"fetchBalances",value:function(){}},{key:"startPollingWalletBalances",value:function(){}},{key:"stopPollingWalletBalances",value:function(){}},{key:"handleSendClick",value:function(){this.props.dispatch(Object(W.e)({type:M.a.CREATE_TRANSACTION,props:{transactionType:"send"}}))}},{key:"handleReceiveClick",value:function(){this.props.dispatch(Object(W.e)({type:M.a.RECEIVE}))}},{key:"componentDidMount",value:function(){var e=this.props.match.params.tokenType;this.fetchTransactions(e)}},{key:"componentWillUnmount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){var t=e.match.params.tokenType;this.props.match.params.tokenType!==t&&this.fetchTransactions(t)}},{key:"render",value:function(){var e=this.props,t=e.selectedAccount,n=e.assets,r=e.tokens,o=e.isFetchingBalances,i=e.balancesRefreshedAt,c=e.transactions,s=e.isLoadingTransactions;return a.a.createElement("div",{className:"WalletPage"},a.a.createElement("div",{className:"WalletPage__master-view"},o&&L.a.isEmpty(t)&&a.a.createElement(Oe.a,{singleColor:"#ffffff",className:"WalletPage__master-view-spinner",size:20}),a.a.createElement(oe,{selectedAccount:t,tokens:r,assets:n,balancesRefreshedAt:i})),a.a.createElement("div",{className:"WalletPage__detail-view"},a.a.createElement(ce,{title:"Dnero/Dtoken Transactions",sticky:!0},a.a.createElement("div",{className:"WalletPage__header-buttons"},a.a.createElement(_e,{title:"Send",iconUrl:"/img/icons/send@2x.png",onClick:this.handleSendClick}),a.a.createElement(_e,{title:"Receive",iconUrl:"/img/icons/receive@2x.png",style:{marginLeft:12},onClick:this.handleReceiveClick}))),s&&a.a.createElement(Oe.a,{singleColor:"#ffffff",className:"WalletPage__detail-view-spinner"}),a.a.createElement("a",{href:ne.a.getAccountExplorerUrl(t.address),target:"_blank",style:{marginTop:12,marginBottom:12}},"View all transactions on explorer"),c.length>0&&a.a.createElement(de,{transactions:c}),0===c.length&&!1===s&&a.a.createElement(ke,{icon:"/img/icons/empty-transactions@2x.png",title:"No Transactions"})))}}]),n}(a.a.Component),Ne=Object(m.b)((function(e,t){var n,r=e.dneroWallet,a=r.selectedAddress,o=r.identities,i=r.accounts,c=r.tokens,s=null===(n=r.network)||void 0===n?void 0:n.chainId,u=L.a.get(r,["transactions",a],[]);return{selectedAddress:a,selectedIdentity:o[a],selectedAccount:i[a],tokens:c,assets:Object(Se.d)(s,c),transactions:u}}))(je),Te=(n(890),n(891),n(265)),Ce=n(59),Le=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e,t=null,n=Ce("GradientButton",(e={},Object(J.a)(e,this.props.className,!0),Object(J.a)(e,"GradientButton--is-disabled",this.props.disabled),e));return t=this.props.loading?a.a.createElement(Oe.a,{singleColor:"#ffffff"}):a.a.createElement("div",{className:"GradientButton__title"},this.props.title),this.props.href?a.a.createElement(Te.a,{to:this.props.href,style:this.props.style,className:n,onClick:this.props.onClick},t):a.a.createElement("a",{className:n,style:this.props.style,onClick:!0===this.props.disabled?null:this.props.onClick},t)}}]),n}(a.a.Component),Ae=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).defaultState={currentPassword:"",password:"",passwordConfirmation:"",loading:!1,error:null},e.state=e.defaultState,e.handleChange=e.handleChange.bind(Object(I.a)(e)),e.prepareForExport=e.prepareForExport.bind(Object(I.a)(e)),e.exportKeystore=e.exportKeystore.bind(Object(I.a)(e)),e}return Object(s.a)(n,[{key:"validate",value:function(){this.state.password.length>0&&this.state.passwordConfirmation.length>0&&this.state.password!==this.state.passwordConfirmation?this.setState({error:"Your passwords do not match"}):this.setState({error:""})}},{key:"isValid",value:function(){return this.state.password.length>0&&this.state.passwordConfirmation.length>0&&this.state.password===this.state.passwordConfirmation}},{key:"handleChange",value:function(e){var t=e.target.name,n=e.target.value;this.setState(Object(J.a)({},t,n),this.validate)}},{key:"exportKeystore",value:function(){try{var e=R.e.exportKeystore(this.state.currentPassword,this.state.password);Object(k.b)(e.address+".keystore",JSON.stringify(e)),this.setState(this.defaultState)}catch(t){this.setState({loading:!1}),F.a.showError(t.message)}}},{key:"prepareForExport",value:function(){this.setState({loading:!0}),setTimeout(this.exportKeystore,1e3)}},{key:"render",value:function(){return a.a.createElement("div",{className:"ExportKeystoreContent"},a.a.createElement("div",{className:"InputTitle"},"Current Password"),a.a.createElement("input",{className:"RoundedInput",placeholder:"Enter current password",name:"currentPassword",type:"password",value:this.state.currentPassword,onChange:this.handleChange}),a.a.createElement("div",{className:"InputTitle"},"New Password"),a.a.createElement("input",{className:"RoundedInput",placeholder:"Set a New Password",name:"password",type:"password",value:this.state.password,onChange:this.handleChange}),a.a.createElement("div",{className:"InputTitle"},"Confirm New Password"),a.a.createElement("input",{className:"RoundedInput",placeholder:"Re-enter Password",name:"passwordConfirmation",type:"password",value:this.state.passwordConfirmation,onChange:this.handleChange}),a.a.createElement("div",{className:"InputError"},this.state.error),a.a.createElement(Le,{title:"Export Keystore",onClick:this.prepareForExport,style:{marginTop:15},loading:this.state.loading,disabled:this.state.loading||!1===this.isValid()}))}}]),n}(a.a.Component),Pe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"SettingsSection"},a.a.createElement("div",{className:"SettingsSection__title"},this.props.title),a.a.createElement("div",{className:"SettingsSection__content"},this.props.children))}}]),n}(a.a.Component),Ie=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=L.a.isNil(R.e.getWallet().hardware);return a.a.createElement("div",{className:"SettingsPage"},a.a.createElement("div",{className:"SettingsPage__detail-view"},a.a.createElement(ce,{title:"Settings",sticky:!0}),e&&a.a.createElement(Pe,{title:"Export Keystore"},a.a.createElement(Ae,null))))}}]),n}(a.a.Component),Re=(n(892),[{title:"How to swap from ERC20 Dnero to Mainnet Dnero",description:"This wallet functions as a Dnero ERC20 wallet today. When Mainnet launches in March 2019, the wallet will automatically switch to work as a DNERO Mainnet wallet."},{title:"Create a Wallet and transfer ERC20 Dnero In",description:"Create your wallet and transfer your ERC20 Dnero in. You can now use this wallet as a fully functional ERC20 Dnero wallet."},{title:"After launch, use the wallet to transact on Mainnet",description:"Once the snapshot is taken of ERC20 Dnero and the mainnet is launched, the wallet will have the same balance, but all transactions will be on the Mainnet. No action is needed from you for this swap."}]),De=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=parseInt(this.props.match.params.onboardingStep),t="/img/onboarding/"+e+"@2x.png",n=Re[e],r=n.title,o=n.description,i=null;return i=e===Re.length-1?a.a.createElement(a.a.Fragment,null,a.a.createElement(Le,{title:"Create Wallet",href:"/create-wallet"}),a.a.createElement(Te.a,{to:"/restore-wallet",className:"OnboardingPage__restore-button"},"Restore Wallet")):a.a.createElement(Le,{title:"Next",href:"/onboarding/"+(e+1)}),a.a.createElement("div",{className:"OnboardingPage"},a.a.createElement("div",{className:"OnboardingPage__wrapper"},a.a.createElement("div",{className:"OnboardingPage__title"},r),a.a.createElement("img",{src:t,className:"OnboardingPage__image"}),a.a.createElement("div",{className:"OnboardingPage__description"},o),a.a.createElement("div",{className:"OnboardingPage__footer"},i)))}}]),n}(a.a.Component),Fe=(n(893),n(159)),We=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"WalletCreationCompleteCard"},a.a.createElement("div",{className:"WalletCreationCompleteCard__content"},a.a.createElement("div",{className:"WalletCreationCompleteCard__header"}),a.a.createElement("div",{className:"WalletCreationCompleteCard__success"},a.a.createElement("img",{className:"WalletCreationCompleteCard__icon",src:"/img/icons/wallet-success@2x.png"}),a.a.createElement("div",{className:"WalletCreationCompleteCard__success-title"},"You're ready!"),a.a.createElement("div",{className:"WalletCreationCompleteCard__success-body"},"You are now ready to use your new Dnero wallet.")),a.a.createElement("div",{className:"WalletCreationCompleteCard__footer"},a.a.createElement(Le,{title:"Unlock Wallet",href:"/unlock"}))))}}]),n}(a.a.Component),Me=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).showPrivateKey=e.showPrivateKey.bind(Object(I.a)(e)),e}return Object(s.a)(n,[{key:"showPrivateKey",value:function(){P.dispatch(Object(W.e)({type:M.a.PRIVATE_KEY,props:{privateKey:this.props.wallet.privateKey}}))}},{key:"render",value:function(){var e=this.props.wallet,t=e.mnemonic,n=(e.privateKey,t.phrase);return a.a.createElement("div",{className:"MnemonicCard"},a.a.createElement("div",{className:"MnemonicCard__content"},a.a.createElement("div",{className:"MnemonicCard__header"},a.a.createElement("div",{className:"MnemonicCard__title"},"Mnemonic Phrase"),a.a.createElement("div",{className:"MnemonicWarningCard__subtitle"},"12 words which allow you to recover your wallet.")),a.a.createElement("div",{className:"MnemonicCard__body"},a.a.createElement("div",{className:"MnemonicCard__instructions"},"Back up the text below on paper and keep it somewhere secret and safe. It will not be shown again."),a.a.createElement("div",{className:"MnemonicCard__phrase-container"},a.a.createElement("p",null,n)),a.a.createElement("a",{className:"MnemonicCard__view-private-key",onClick:this.showPrivateKey},"View my Private Key")),a.a.createElement("div",{className:"MnemonicCard__footer"},a.a.createElement(Le,{title:"Continue",onClick:this.props.onContinue}))))}}]),n}(a.a.Component),Be=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"MnemonicWarningCard"},a.a.createElement("div",{className:"MnemonicWarningCard__content"},a.a.createElement("div",{className:"MnemonicWarningCard__header"},a.a.createElement("div",{className:"MnemonicWarningCard__title"},"Mnemonic Phrase"),a.a.createElement("div",{className:"MnemonicWarningCard__subtitle"},"12 words which allow you to recover your wallet.")),a.a.createElement("img",{className:"MnemonicWarningCard__icon",src:"/img/icons/word-blocks@2x.png"}),a.a.createElement("div",{className:"MnemonicWarningCard__warning"},a.a.createElement("div",{className:"MnemonicWarningCard__warning-title"},"Warning!"),a.a.createElement("div",{className:"MnemonicWarningCard__warning-body"},"We are about to show your Mnemonic phrase. Please ensure no one can see your screen before you continue.")),a.a.createElement("div",{className:"MnemonicWarningCard__footer"},a.a.createElement(Le,{title:"Continue",onClick:this.props.onContinue}))))}}]),n}(a.a.Component),Ue=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).state={password:"",passwordConfirmation:"",agreedToTerms:!1},e}return Object(s.a)(n,[{key:"handleChange",value:function(e){var t=e.target.name,n="password"===e.target.type?e.target.value:e.target.checked;this.setState(Object(J.a)({},t,n),this.validate)}},{key:"createWallet",value:function(){var e=this,t=R.e.createWallet(this.state.password);t&&(Fe.a.setWalletData(t),Object(k.b)(t.wallet.address+".keystore",JSON.stringify(t.keystore)),setTimeout((function(){e.setState({loading:!1}),e.props.onContinue()}),500))}},{key:"prepareForWalletCreation",value:function(){var e=this;this.setState({loading:!0}),setTimeout((function(){e.createWallet()}),1e3)}},{key:"isValid",value:function(){return!0===this.state.agreedToTerms&&this.state.password.length>0&&this.state.password===this.state.passwordConfirmation}},{key:"validate",value:function(){this.state.password.length>0&&this.state.passwordConfirmation.length>0&&this.state.password!==this.state.passwordConfirmation?this.setState({error:"Your passwords do not match"}):this.setState({error:""})}},{key:"render",value:function(){return a.a.createElement("div",{className:"ChoosePasswordCard"},a.a.createElement("div",{className:"ChoosePasswordCard__content"},a.a.createElement("div",{className:"ChoosePasswordCard__header"},a.a.createElement("div",{className:"ChoosePasswordCard__title"},"Create Keystore"),a.a.createElement("div",{className:"ChoosePasswordCard__subtitle"},"This password will encrypt your private key.")),a.a.createElement("div",{className:"ChoosePasswordCard__inputs"},a.a.createElement("input",{className:"ChoosePasswordCard__password-input",placeholder:"Set a New Password",name:"password",type:"password",value:this.state.password,onChange:this.handleChange.bind(this)}),a.a.createElement("input",{className:"ChoosePasswordCard__password-input",placeholder:"Re-enter Password",name:"passwordConfirmation",type:"password",value:this.state.passwordConfirmation,onChange:this.handleChange.bind(this)})),a.a.createElement("div",{className:"ChoosePasswordCard__error"},this.state.error),a.a.createElement("div",{className:"ChoosePasswordCard__message-wrapper"},a.a.createElement("input",{id:"agreedToTerms",type:"checkbox",name:"agreedToTerms",checked:this.state.agreedToTerms,onChange:this.handleChange.bind(this)}),a.a.createElement("label",{className:"ChoosePasswordCard__message",htmlFor:"agreedToTerms"},a.a.createElement("span",null,"I understand that Dnero cannot recover or reset my password or the keystore file. I will make a backup of the keystore file / password, keep them secret, complete all wallet creation steps."))),a.a.createElement("div",{className:"ChoosePasswordCard__footer"},a.a.createElement(Le,{title:"Download Keystore",onClick:this.prepareForWalletCreation.bind(this),loading:this.state.loading,disabled:this.state.loading||!1===this.isValid()}))))}}]),n}(a.a.Component),Ge=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).state={currentStep:0},e}return Object(s.a)(n,[{key:"continue",value:function(){this.setState({currentStep:this.state.currentStep+1})}},{key:"render",value:function(){var e=Fe.a.getWalletData(),t=null,n=null,r=3===this.state.currentStep?"":"Create New Wallet";return 0===this.state.currentStep?t=a.a.createElement(Ue,{onContinue:this.continue.bind(this)}):1===this.state.currentStep?t=a.a.createElement(Be,{onContinue:this.continue.bind(this)}):2===this.state.currentStep?t=a.a.createElement(Me,{onContinue:this.continue.bind(this),wallet:e.wallet}):3===this.state.currentStep&&(t=a.a.createElement(We,{onContinue:this.continue.bind(this)})),3!==this.state.currentStep&&(n=a.a.createElement("div",{className:"CreateWalletPage__subtitle"},a.a.createElement("span",null,"Already have a wallet?"),a.a.createElement(Te.a,{to:"/unlock"},"Unlock Wallet"))),a.a.createElement("div",{className:"CreateWalletPage"},a.a.createElement("div",{className:"CreateWalletPage__wrapper"},a.a.createElement("div",{className:"CreateWalletPage__title"},r),t,n))}}]),n}(a.a.Component),Ke=n(11),He=(n(894),n(895),n(59)),qe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e,t=this.props.iconUrl&&a.a.createElement("img",{className:"HardwareOptionButton__icon",src:this.props.iconUrl}),n=He("HardwareOptionButton",(e={},Object(J.a)(e,this.props.className,!0),Object(J.a)(e,"HardwareOptionButton--is-selected",this.props.isSelected),Object(J.a)(e,"HardwareOptionButton--is-disabled",this.props.disabled),e));return a.a.createElement("a",{className:n,href:this.props.href,target:this.props.target,onClick:this.props.onClick,style:this.props.style},t,a.a.createElement("div",{className:"HardwareOptionButton__title"},this.props.title))}}]),n}(a.a.Component),Ve=(n(896),n(59)),Ye=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).state={active:!1},e.handleDragOver=e.handleDragOver.bind(Object(I.a)(e)),e.handleDragEnter=e.handleDragEnter.bind(Object(I.a)(e)),e.handleDragLeave=e.handleDragLeave.bind(Object(I.a)(e)),e.handleDrop=e.handleDrop.bind(Object(I.a)(e)),e}return Object(s.a)(n,[{key:"handleDragOver",value:function(e){e.preventDefault(),this.setState({active:!0})}},{key:"handleDragEnter",value:function(e){e.preventDefault(),this.setState({active:!0})}},{key:"handleDragLeave",value:function(e){e.preventDefault(),this.setState({active:!1})}},{key:"handleDrop",value:function(e){e.preventDefault();var t=e.dataTransfer.files;t.length>0&&this.props.onDrop(t[0]),this.setState({active:!1})}},{key:"componentDidMount",value:function(){window.addEventListener("dragenter",this.handleDragEnter),window.addEventListener("dragleave",this.handleDragLeave),window.addEventListener("dragover",this.handleDragOver),window.addEventListener("drop",this.handleDrop)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragenter",this.handleDragEnter),window.removeEventListener("dragleave",this.handleDragLeave),window.removeEventListener("dragover",this.handleDragOver),window.removeEventListener("drop",this.handleDrop)}},{key:"render",value:function(){var e=Ve("DropZone",{"DropZone--is-active":this.state.active});return a.a.createElement("div",{className:e},this.props.icon&&a.a.createElement("img",{className:"DropZone__icon",src:this.props.icon}),a.a.createElement("div",{className:"DropZone__title"},this.props.title))}}]),n}(a.a.PureComponent);function ze(){ze=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new O(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return _()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function d(){}function h(){}function p(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&n.call(v,a)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,c){var s=u(e[a],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var Je=n(59),Xe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).state={privateKey:"",password:"",loading:!1},e.handleKeyPress=e.handleKeyPress.bind(Object(I.a)(e)),e.handleChange=e.handleChange.bind(Object(I.a)(e)),e.handleUnlockClick=e.handleUnlockClick.bind(Object(I.a)(e)),e}return Object(s.a)(n,[{key:"isValid",value:function(){return this.state.privateKey.length>0&&this.state.password.length>0}},{key:"handleChange",value:function(e){var t=e.target.name,n=e.target.value;this.setState(Object(J.a)({},t,n))}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.handleUnlockClick()}},{key:"unlockWallet",value:function(){this.props.unlockWallet(R.d.PRIVATE_KEY,this.state.password,{privateKey:this.state.privateKey}),this.setState({loading:!1})}},{key:"prepareForUnlock",value:function(){var e=this;this.setState({loading:!0}),setTimeout((function(){e.unlockWallet()}),1500)}},{key:"handleUnlockClick",value:function(){this.isValid()&&this.prepareForUnlock()}},{key:"render",value:function(){var e=this.state.loading||!1===this.isValid();return a.a.createElement("div",{className:"UnlockWalletViaPrivateKey"},a.a.createElement("div",{className:"UnlockWalletViaPrivateKey__title"},"Please enter your private key"),a.a.createElement("textarea",{className:"UnlockWalletViaPrivateKey__private-key",name:"privateKey",value:this.state.privateKey,onChange:this.handleChange}),a.a.createElement("div",{className:"UnlockWalletViaPrivateKey__private-key-instructions"},"Please enter your private key in HEX format."),a.a.createElement("input",{className:"UnlockWalletViaPrivateKey__password-input",placeholder:"Enter temporary session password",name:"password",type:"password",value:this.state.password,ref:this.passwordInput,onChange:this.handleChange,onKeyPress:this.handleKeyPress}),a.a.createElement("div",{className:"UnlockWalletCard__warning"},"Before you enter your private key, we recommend you disconnect your device from the internet. You will be able to reconnect once your wallet is unlocked."),a.a.createElement("div",{className:"UnlockWalletViaPrivateKey__footer"},a.a.createElement(Le,{title:"Unlock Wallet",loading:this.state.loading,onClick:this.handleUnlockClick,disabled:e})))}}]),n}(a.a.Component),Ze=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).state={mnemonic:"",password:"",loading:!1},e.handleKeyPress=e.handleKeyPress.bind(Object(I.a)(e)),e.handleChange=e.handleChange.bind(Object(I.a)(e)),e.handleUnlockClick=e.handleUnlockClick.bind(Object(I.a)(e)),e}return Object(s.a)(n,[{key:"isValid",value:function(){return this.state.mnemonic.length>0&&this.state.password.length>0}},{key:"handleChange",value:function(e){var t=e.target.name,n=e.target.value;this.setState(Object(J.a)({},t,n))}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.handleUnlockClick()}},{key:"unlockWallet",value:function(){this.props.unlockWallet(R.d.MNEMONIC_PHRASE,this.state.password,{mnemonic:this.state.mnemonic}),this.setState({loading:!1})}},{key:"prepareForUnlock",value:function(){var e=this;this.setState({loading:!0}),setTimeout((function(){e.unlockWallet()}),1500)}},{key:"handleUnlockClick",value:function(){this.isValid()&&this.prepareForUnlock()}},{key:"render",value:function(){var e=this.state.loading||!1===this.isValid();return a.a.createElement("div",{className:"UnlockWalletViaMnemonicPhrase"},a.a.createElement("div",{className:"UnlockWalletViaMnemonicPhrase__title"},"Please enter your 12 word phrase"),a.a.createElement("textarea",{className:"UnlockWalletViaMnemonicPhrase__mnemonic",name:"mnemonic",value:this.state.mnemonic,onChange:this.handleChange}),a.a.createElement("div",{className:"UnlockWalletViaMnemonicPhrase__mnemonic-instructions"},"Please separate each Mnemonic Phrase with a space."),a.a.createElement("input",{className:"UnlockWalletViaMnemonicPhrase__password-input",placeholder:"Enter temporary session password",name:"password",type:"password",value:this.state.password,ref:this.passwordInput,onChange:this.handleChange,onKeyPress:this.handleKeyPress}),a.a.createElement("div",{className:"UnlockWalletCard__warning"},"Before you enter your mnemonic phrase, we recommend you disconnect your device from the internet. You will be able to reconnect once your wallet is unlocked."),a.a.createElement("div",{className:"UnlockWalletViaMnemonicPhrase__footer"},a.a.createElement(Le,{title:"Unlock Wallet",loading:this.state.loading,onClick:this.handleUnlockClick,disabled:e})))}}]),n}(a.a.Component),Qe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).fileInput=a.a.createRef(),e.passwordInput=a.a.createRef(),e.droppedFile=null,e.state={password:"",loading:!1},e.handleKeyPress=e.handleKeyPress.bind(Object(I.a)(e)),e.handleChange=e.handleChange.bind(Object(I.a)(e)),e.handleUnlockClick=e.handleUnlockClick.bind(Object(I.a)(e)),e.handleKeystoreFileDrop=e.handleKeystoreFileDrop.bind(Object(I.a)(e)),e}return Object(s.a)(n,[{key:"isValid",value:function(){return null!==this.keystoreFile()&&this.state.password.length>0}},{key:"keystoreFile",value:function(){var e=this.fileInput.current,t=e&&e.files.length>0?e.files[0]:null;return this.droppedFile?this.droppedFile:t}},{key:"handleChange",value:function(e){var t=e.target.name,n=e.target.value;this.setState(Object(J.a)({},t,n)),"file"===t&&(this.droppedFile=null,this.passwordInput.current.focus())}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.handleUnlockClick()}},{key:"handleKeystoreFileDrop",value:function(e){var t=this;this.droppedFile=e,this.setState({droppedFile:!0},(function(){t.passwordInput.current.focus()}))}},{key:"unlockWallet",value:function(e){this.props.unlockWallet(R.d.KEYSTORE_FILE,this.state.password,{keystore:e}),this.setState({loading:!1})}},{key:"onKeystoreFileLoad",value:function(e){var t=this,n=e.target.result;setTimeout((function(){t.unlockWallet(n)}),1500)}},{key:"prepareForUnlock",value:function(){var e=this.keystoreFile(),t=new FileReader;this.setState({loading:!0}),t.onload=this.onKeystoreFileLoad.bind(this),t.readAsText(e,"UTF-8")}},{key:"handleUnlockClick",value:function(){this.isValid()&&this.prepareForUnlock()}},{key:"render",value:function(){var e=this.keystoreFile(),t=Je("UnlockWalletViaKeystoreFile__file-input",{"UnlockWalletViaKeystoreFile__file-input--has-file":null!==e}),n=this.state.loading||!1===this.isValid();return a.a.createElement("div",{className:"UnlockWalletViaKeystoreFile"},a.a.createElement(Ye,{title:"Drop keystore here",icon:"/img/icons/dnero-file@2x.png",onDrop:this.handleKeystoreFileDrop}),a.a.createElement("div",{className:"UnlockWalletViaKeystoreFile__title"},"Please select your keystore file"),a.a.createElement("label",{htmlFor:"file-upload",className:t},a.a.createElement("input",{id:"file-upload",type:"file",name:"file",ref:this.fileInput,onChange:this.handleChange}),null===e?"Choose Keystore File":"Keystore File Set"),a.a.createElement("input",{className:"UnlockWalletViaKeystoreFile__password-input",placeholder:"Enter your wallet password",name:"password",type:"password",value:this.state.password,ref:this.passwordInput,onChange:this.handleChange,onKeyPress:this.handleKeyPress}),a.a.createElement("div",{className:"UnlockWalletViaKeystoreFile__footer"},a.a.createElement(Le,{title:"Unlock Wallet",loading:this.state.loading,onClick:this.handleUnlockClick,disabled:n})))}}]),n}(a.a.Component),$e=function(e){var t=e.hardwareAccounts,n=e.accounts,r=e.onClick;return a.a.createElement("div",null,L.a.map(t,(function(e){var t=e.address;return function(e,t){return a.a.createElement("a",{className:"HardwareDeviceAccountRow",key:e.address,onClick:function(){r(e)}},a.a.createElement("div",{className:"HardwareDeviceAccountRow__address"},Object(k.r)(e.address)),a.a.createElement("div",{className:"HardwareDeviceAccountRow__balances"},!L.a.isEmpty(t)&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"HardwareDeviceAccountRow__balance"},a.a.createElement("span",null,Object(k.e)(null===t||void 0===t?void 0:t.dnerowei)),a.a.createElement("img",{src:"/img/tokens/dnero_large@2x.png"})),a.a.createElement("div",{className:"HardwareDeviceAccountRow__balance"},a.a.createElement("span",null,Object(k.e)(null===t||void 0===t?void 0:t.dtokenwei)),a.a.createElement("img",{src:"/img/tokens/dtoken_large@2x.png"}))),L.a.isEmpty(t)&&a.a.createElement(Oe.a,{singleColor:"#ffffff",size:16})))}(e,L.a.get(n,t,{}).balances)})))},et=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).connectHardware=function(){var t=Object(Ke.a)(ze().mark((function t(n,r,a){var o;return ze().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.prev=1,t.next=4,e.props.dispatch(Object(D.b)(n,r,a));case 4:o=t.sent,e.setState({hardwareAccounts:o}),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(1);case 10:return t.prev=10,setTimeout((function(){e.setState({loading:!1})}),1e3),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[1,8,10,13]])})));return function(e,n,r){return t.apply(this,arguments)}}(),e.goToNextPage=function(){var t=e.state,n=t.hardware,r=t.derivationPath;e.connectHardware(n,1,r)},e.goToPrevPage=function(){var t=e.state,n=t.hardware,r=t.derivationPath;e.connectHardware(n,-1,r)},e.onChooseHardwareAccount=function(t){var n=e.state,r=n.hardware,a=n.derivationPath,o=null;"trezor"===r?o=a+t.index:"ledger"===r&&(o=t.serializedPath),e.props.dispatch(Object(D.e)(t.index,t.address,r,o))},e.state={hardware:"",loading:!1,hardwareAccounts:[],derivationPath:R.a},e.handleChange=e.handleChange.bind(Object(I.a)(e)),e.handleChooseHardwareClick=e.handleChooseHardwareClick.bind(Object(I.a)(e)),e.handleTrezorClick=e.handleTrezorClick.bind(Object(I.a)(e)),e.handleLedgerClick=e.handleLedgerClick.bind(Object(I.a)(e)),e.handleDerivationPathChange=e.handleDerivationPathChange.bind(Object(I.a)(e)),e}return Object(s.a)(n,[{key:"shouldComponentUpdate",value:function(e,t,n){return!0}},{key:"isValid",value:function(){return this.state.hardware.length>0}},{key:"handleChange",value:function(e){var t=e.target.name,n=e.target.value;this.setState(Object(J.a)({},t,n))}},{key:"handleChooseHardwareClick",value:function(){var e=this;this.isValid()&&(this.setState({loading:!0}),setTimeout((function(){e.connectHardware(e.state.hardware,0,e.state.derivationPath)}),1e3))}},{key:"handleTrezorClick",value:function(){this.setState({hardware:"trezor"})}},{key:"handleLedgerClick",value:function(){this.setState({hardware:"ledger"})}},{key:"handleDerivationPathChange",value:function(e){this.setState({derivationPath:e.target.value})}},{key:"render",value:function(){var e=this.props.accounts,t=this.state,n=t.hardwareAccounts,r=(t.page,this.state.loading||!1===this.isValid()),o="";return"trezor"===this.state.hardware?o="Please make sure your Trezor is connected before clicking 'Continue' below.":"ledger"===this.state.hardware&&(o="Please make sure your Ledger is connected with the Ethereum app open before clicking 'Continue' below."),n.length>0?a.a.createElement("div",{className:"UnlockWalletViaColdWallet"},a.a.createElement("div",{className:"UnlockWalletViaColdWallet__title"},"Choose account"),a.a.createElement($e,{hardwareAccounts:n.slice(),accounts:Object.assign({},e),onClick:this.onChooseHardwareAccount}),a.a.createElement("div",{className:"UnlockWalletViaColdWallet__footer"},a.a.createElement("a",{onClick:this.goToPrevPage},"< Prev"),a.a.createElement("div",{style:{flex:1}}),a.a.createElement("a",{onClick:this.goToNextPage},"Next >"))):a.a.createElement("div",{className:"UnlockWalletViaColdWallet"},a.a.createElement("div",{className:"UnlockWalletViaColdWallet__title"},"Choose hardware"),a.a.createElement("div",{className:"UnlockWalletViaColdWallet__cold-wallet-hardware-select"},a.a.createElement(qe,{title:"Trezor",iconUrl:"trezor"===this.state.hardware?"/img/icons/checkmark-green@2x.png":null,isSelected:"trezor"===this.state.hardware,onClick:this.handleTrezorClick}),a.a.createElement(qe,{title:"Ledger",iconUrl:"ledger"===this.state.hardware?"/img/icons/checkmark-green@2x.png":null,isSelected:"ledger"===this.state.hardware,onClick:this.handleLedgerClick})),a.a.createElement("div",{className:"UnlockWalletCard__warning"},o),a.a.createElement("div",{className:"UnlockColdWalletLedger__choose-derivation-path"},"ledger"===this.state.hardware&&a.a.createElement("select",{value:this.state.derivationPath,onChange:this.handleDerivationPathChange,className:"UnlockColdWalletLedger__select"},a.a.createElement("option",{value:R.a},"Ethereum - m/44'/60'/0'/0"),a.a.createElement("option",{value:R.c},"Ethereum - m/44'/60'/0'"),a.a.createElement("option",{value:R.b},"Ethereum - Ledger Live - m/44'/60'"))),a.a.createElement("div",{className:"UnlockWalletViaColdWallet__footer"},a.a.createElement(Le,{title:"Connect",loading:this.state.loading,onClick:this.handleChooseHardwareClick,disabled:r})))}}]),n}(a.a.Component),tt=Object(m.b)((function(e){return{accounts:e.dneroWallet.accounts}}))(et),nt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=null;return this.props.unlockStrategy===R.d.KEYSTORE_FILE?e=a.a.createElement(Qe,{unlockWallet:this.props.unlockWallet}):this.props.unlockStrategy===R.d.MNEMONIC_PHRASE?e=a.a.createElement(Ze,{unlockWallet:this.props.unlockWallet}):this.props.unlockStrategy===R.d.PRIVATE_KEY?e=a.a.createElement(Xe,{unlockWallet:this.props.unlockWallet}):this.props.unlockStrategy===R.d.COLD_WALLET&&(e=a.a.createElement(tt,null)),a.a.createElement("div",{className:"UnlockWalletCard"},a.a.createElement("div",{className:"UnlockWalletCard__content"},a.a.createElement("div",{className:"UnlockWalletCard__header"},a.a.createElement(Z,{centered:!0,condensed:!0,className:"UnlockWalletCard__tab-bar"},a.a.createElement($,{title:"Keystore",href:"/unlock/"+R.d.KEYSTORE_FILE}),a.a.createElement($,{title:"Mnemonic",href:"/unlock/"+R.d.MNEMONIC_PHRASE}),a.a.createElement($,{title:"Private Key",href:"/unlock/"+R.d.PRIVATE_KEY}),a.a.createElement($,{title:"Hardware",href:"/unlock/"+R.d.COLD_WALLET}))),e))}}]),n}(a.a.Component),rt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).unlockWallet=function(t,n,r){e.props.dispatch(Object(D.f)(t,n,r))},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=R.e.getWalletAddress();L.a.isNil(e)||window.location.reload()}},{key:"render",value:function(){var e=this.props.match.params.unlockStrategy;return a.a.createElement("div",{className:"UnlockWalletPage"},a.a.createElement("div",{className:"UnlockWalletPage__wrapper"},a.a.createElement("div",{className:"UnlockWalletPage__title"},"Unlock Your Wallet"),a.a.createElement(nt,{unlockStrategy:e,unlockWallet:this.unlockWallet}),a.a.createElement("div",{className:"UnlockWalletPage__subtitle"},a.a.createElement("span",null,"Don't have a wallet?"),a.a.createElement(Te.a,{to:"/create"},"Create Wallet"))))}}]),n}(a.a.Component),at=Object(m.b)((function(e){return{}}))(rt),ot=(n(897),n(54)),it=(n(137),"".concat("STAKES","/FETCH_STAKES"));"".concat(it,"/START"),"".concat(it,"/END"),"".concat(it,"/FAILURE"),"".concat(it,"/SUCCESS"),"".concat("STAKES","/RESET");n(898);var ct=n(14),st=n.n(ct),ut=new ct.BigNumber(10).pow(18);function lt(e){return"vcp"===e||"gcp"===e?"/img/tokens/dnero_large@2x.png":"eenp"===e?"/img/tokens/dtoken_large@2x.png":void 0}var dt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e,t=this.props.stake,n=t.holder,r=t.amount,o=t.withdrawn,i=t.return_height,c=t.type,s=new ct.BigNumber(r).dividedBy(ut);return a.a.createElement("tr",{className:"StakesTableRow"},a.a.createElement("td",null,"vcp"===(e=c)?"Validator":"gcp"===e?"Sentry":"eenp"===e?"Elite Edge":void 0),a.a.createElement("td",null,n),a.a.createElement("td",null,a.a.createElement("div",{className:"StakesTableRow__token-wrapper"},a.a.createElement("img",{className:"StakesTableRow__token-img",src:lt(c)}),a.a.createElement("div",null,Object(k.j)(s.toString())))),a.a.createElement("td",null,o?"Yes":"No"),a.a.createElement("td",null,o?i:"--"))}}]),n}(a.a.Component),ht=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"createRows",value:function(){this.props.stakes;return this.props.stakes.map((function(e,t){return a.a.createElement(dt,{key:e._id,stake:e})}))}},{key:"render",value:function(){return a.a.createElement("table",{className:"StakesTable",cellSpacing:"0",cellPadding:"0"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{className:"StakesTable__header--node-type"},"Node Type"),a.a.createElement("th",{className:"StakesTable__header--holder"},"Holder"),a.a.createElement("th",{className:"StakesTable__header--amount"},"Amount"),a.a.createElement("th",{className:"StakesTable__header--withdrawn"},"Withdrawn"),a.a.createElement("th",{className:"StakesTable__header--return-height"},"Return Height"))),a.a.createElement("tbody",null,this.createRows()))}}]),n}(a.a.Component),pt=n(35);var ft=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleDepositStakeClick=function(){R.e.getWalletHardware();e.props.dispatch(Object(W.e)({type:M.a.CREATE_TRANSACTION,props:{transactionType:"deposit-stake"}}))},e.handleWithdrawStakeClick=function(){R.e.getWalletHardware();e.props.dispatch(Object(W.e)({type:M.a.CREATE_TRANSACTION,props:{transactionType:"withdraw-stake"}}))},e.handleChangeDDROPVoteDelegateClick=function(){e.props.dispatch(Object(W.e)({type:M.a.CREATE_TRANSACTION,props:{transactionType:"delegate-ddrop-vote"}}))},e.fetchStakes=function(){var t=e.props.selectedAddress;e.props.dispatch(Object(D.h)(t,!1))},e.renderDDROPCard=function(){var t=e.props,n=t.selectedAccount,r=t.chainId,o=Object(Se.a)(r),i=o.contractAddress,c=o.symbol,s=o.decimals,u=L.a.get(n,["dnc20Stakes"],{}),l=L.a.get(u,"ddrop.balance","0"),d=L.a.get(u,"ddrop.votingPower","0"),h=L.a.get(u,"ddrop.estimatedTokenOwnedWithRewards","0"),p=L.a.get(u,"ddrop.votingDelegate",null);return a.a.createElement("div",{className:"Balance",key:i},a.a.createElement("div",{className:"Balance__icon-wrapper"},o.iconUrl&&a.a.createElement("img",{className:"Balance__icon",src:o.iconUrl}),L.a.isNil(o.iconUrl)&&a.a.createElement(ee.a,{address:i})),a.a.createElement("div",{className:"Balance__name"},c),"0"===l&&a.a.createElement("div",{className:"Balance__amount",style:{marginLeft:"auto"}},a.a.createElement("div",{className:"Balance__amount-title-and-value"},a.a.createElement("span",{className:"Balance__amount-title"},"Staked: "),a.a.createElement("span",{className:"Balance__amount-value"},"0"))),"0"!==l&&a.a.createElement("div",{className:"Balance__amount",style:{marginLeft:"auto"}},a.a.createElement("div",{className:"Balance__amount-title-and-value"},a.a.createElement("span",{className:"Balance__amount-title"},"Voting power: "),a.a.createElement("span",{className:"Balance__amount-value"},"".concat(Object(k.q)(d,5),"%"))),a.a.createElement("div",{className:"Balance__amount-title-and-value"},a.a.createElement("span",{className:"Balance__amount-title"},"Staked + reward (est.): "),a.a.createElement("span",{className:"Balance__amount-value"},Object(k.q)(Object(k.d)(h,s),5))),a.a.createElement("div",{className:"Balance__amount-title-and-value"},a.a.createElement("span",{className:"Balance__amount-title"},"Votes delegated to:"),a.a.createElement("span",{className:"Balance__amount-value"},Object(k.r)(p)),a.a.createElement("a",{style:{marginLeft:6},onClick:e.handleChangeDDROPVoteDelegateClick},"Change"))))},e}return Object(s.a)(n,[{key:"startPollingStakes",value:function(){this.fetchStakes(),this.pollStakesIntervalId=setInterval(this.fetchStakes,6e4)}},{key:"stopPollingStakes",value:function(){this.pollStakesIntervalId&&clearInterval(this.pollStakesIntervalId)}},{key:"componentDidMount",value:function(){this.startPollingStakes()}},{key:"componentWillUnmount",value:function(){this.stopPollingStakes()}},{key:"render",value:function(){var e=this.props,t=(e.selectedAddress,e.selectedIdentity,e.selectedAccount),n=(e.assets,e.chainId),r=(e.isLoading,L.a.get(t,["stakes"],[])),o=Object(Se.a)(n);return a.a.createElement("div",{className:"StakesPage"},a.a.createElement("div",{className:"StakesPage__detail-view"},a.a.createElement(ce,{title:"Stakes",sticky:!0},a.a.createElement("div",{className:"StakesPage__header-buttons"},a.a.createElement(_e,{title:"Deposit Stake",iconUrl:"/img/icons/stake-deposit@2x.png",onClick:this.handleDepositStakeClick}),a.a.createElement(_e,{title:"Withdraw Stake",iconUrl:"/img/icons/stake-withdraw@2x.png",style:{marginLeft:12},onClick:this.handleWithdrawStakeClick}))),a.a.createElement("div",null,o&&this.renderDDROPCard()),0===r.length&&a.a.createElement(ke,{title:"No DNERO/DTOKEN Stakes",subtitle:"Stake to earn tokens"}),!1,r.length>0&&a.a.createElement(ht,{stakes:r})))}}]),n}(a.a.Component),mt=Object(m.b)((function(e,t){var n=e.dneroWallet,r=n.selectedAddress,a=n.identities,o=n.accounts,i=n.tokens,c=n.network.chainId;return{selectedAddress:r,selectedIdentity:a[r],selectedAccount:o[r],chainId:c,assets:Object(Se.d)(c,i)}}))(ft),vt=(n(899),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"OfflineCard"},a.a.createElement("div",{className:"OfflineCard__content"},a.a.createElement("div",{className:"OfflineCard__header"}),a.a.createElement("div",{className:"OfflineCard__body"},a.a.createElement("img",{className:"OfflineCard__icon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQgAAADcCAMAAAC78M9AAAAAY1BMVEUAAACSotaSotaSotaSotaSotaSotaSotaSotaSotaSotaSotb/HSX/HSWSotaSotaSotb/HSWSotb/HSX/HSX/HSX/HSX/HSX/HSX/HSX/HSX/HSX/HSX/HSX/HSWSotb/HSXyXCU7AAAAH3RSTlMAgBC/759gMM9A3yDvEHBQr4CPn79AMGDP3yBwUK+P9b1oOQAACbhJREFUeNrknOl6oyAUQC+oKO670Szy/k857XRmSAMENKJken62X9t4cjcIFDRM3VD95tz18FPpqjZl95xulwx+Gl2TMhnX4Se5yIaRKUmbCX4I55Q952eo6Eamp/rvEyS7MiPGDl4ioTRHCHm/ieYPfO+LEiGUUxrCoXQpM6WCNYT08+lnI+IPKfkxRs5sAW22LAYKVEbzGiIPEQp70ogZ0FZV98G5ak7CN0+ZuQNvfpW4RBTDLjTCzDDBHdnlcbZIewMJJIjnzYiDXEgVyx7SagKRoV1koqjjeXP8UpBhz0Oq7I/dyTQ7SDlbww8IBo61OnnNTOetEygIo9kykZXA6BgnvcBTphPjNCAl8ecdiOutXWTp3ZvcL0ojubVgluO6i+vCpljdxU8GInjekSjHFhLDcDgY7goKiNB5X8oCNmEUPCzJjm6liOhrYfG1tiDoD94Ha1IEJVt2jLQHU1o+ay8TEXs1KmioXZQUCC1TEtDtKuVl1U91IOBLQ6BERQjLwJSYr1E8Aq8wCOluRPcsJNCjgyCn8AKU1J5RhryiYpQ2gL5q2/N0v393ba9DJm01PQhEdxLqAsMW0LyM9UMnwi+3jAo4N/ab4Z+XL13j3TNPz6YqXNuZhRMS+JZUNDwgHr/ITfQp+yKdZD8JEjBBiIINwtzTqMhhBakkIHr2j4F7+E0jC4kL7AzWBEZMXsiM6T4xOAP38PjuX7mdAyieuogoLKOStYyW3TF8euDI+s0Iu6Nf6nsJaJE986ASwVKmEJEJ0bQ7OI9mJQivKRGTECZSRqnFCxxHGKirZgGmTNIHnAy38Sv+1SPBefxyfnRCiVCHhLgqu/BqeTDEU04VYMSgeE8bEw+8zbZwOLRU9Y9wUdM4g96EuEp3SARAoioWaImIDgQTeg/ApwsnUKmIwhdEQKP3ALypOkKiqBX5CyJ69sAZ3BcBQOUqPLxSBJ+rOcM7iAAgsbR9UDMRF4kHvQn+QY9TIH+WUBuJqEQPehOZU13jjqRUpId+oLqJHvQmOldFANBYmx4mjzIyAVktObsxYkvBSNs99OVuYEqu0g57BgeRfhAdYN3WbSc8oBzFDzuJLCgirNmyvKn2I06NSkTvZPfUBYUfAkezy3T9Pk82ChE3d2sl30033aWYZGVwuPfAw+bxmUenS8QfCn8WICDhJHnEbHxYXzRSXcfv1JmAPUnJfPoRcC/MEXyd1Uj65OjoXCmAjExk0qifmoczZZfT5xNfvlWXd8gMnh7aKbNRfE7TPwZ8BwCy9EndP6KeRAZttGernujGeON1HxwYmGjXnAu4sPcolf/I9SZ6tjzb+5Q5vM4wLBRRqN6UG8CIbGRvVCH+EPq6ITNLF5rIToy58CHXQnCkM3Fhi0z04/1q9I3AnmAiEZLDvAlcUvaGifFFoKmYPNa1h5CzG7vj7S4I60xMqXCLz+QW4ABvB5KYUO9SpudMrqFlzDiL9CdKkfdAjRChFKxChGn76b51ehOifjqP7BvNKgMFCjx/fo5XChfaLJoINTv4YzP0/yRcKl5G1sZDyI+NGhHxK1xWTSCxK4qk7Qf8G6vrQ5iX/rwGD1HbJpDQEFpmTNqBMbgI4tfusxFs0wQCgWr766+YlNtcT0msmShApD8ZhcMZDCnKeTMigq2Y8EHKkDIdjWE4hLU/b0tAYStyRUBwsird5N9HEG+2QJzjjScrAmoGZdUcKzMNGMWzJfwggU1I6s8RTvPLpnMrsXC7mP4Jf7YJV7ELXdW0f7OkbavLtP5I17urWANGxun+55ofJ/C86D9RgZGvT3KvRpQ+W4/lyIsNVGBwFhJrHCz4dxg0D3S/DYGbhJ5mUBai+dX/wxEX4B64ntVEKISVJPkzv6VzpaKI7a0TMPGe3WRzCVwqX2gdwgYkeaz0HIIzFP7mt5RFqHI+caVo4kDV4ELYlETVnD0nKkUYK3IiAY7lOcUncDhIeTHZDsR3crzC3u4vCyPfvZoZ+kc0d1y7lh5EOu5R0GDrpk4NBxEcuAAoYvn54gPA0d6NTJ8fcQi7E8aa073WoYe/gk+oLymSGHTYDwoCu0LcWP7I3o4AdiR3pY/j8lATgUOTXX5g8wicGmbC+CATOHAkLfiYf4gJHMmOuh9LfcBbgyN3JlsO0V/dsu/Bga0Ag/PF1j34FJwgjDQmbHtwZud0z9eGIzeWe5puZt+E57IHxfliGxDn2qbWRA028ISZ3jnyx+QAG7jvQYzaECzwBh4EExQs4L+Bh0cTCVggeAcP303EYIPkLTwAEOvjP3kLD3u8ziJ2+uzSr/bOBcdxEAii/A1YMigX4P633B3NZImGxGYN2DT0u0CiEp/GVDVX/k9DqeutjIL8PxHkg7P0wf8hKTWdfNy4DrN5ffsTbXezHL9opx/DD43lYXNjGT26aiuxRhXytOjmO2Ah5dkmq0ZbL9hmwykE7cJDWc8IN3ZcJ78HbRmPISaIsiEDoBmVE2mWQizsyoI9wv8BKqNy2veWomPQTz5frIOSUak1HDh1a/qwOv1pM9FzHKHM0pMf8Vo2H77pwUZZznY24hWbTnTltz4J84Xnh5XaDzqCmh6LLm16EA8nvVpTzofdrKr0WAaY3UOVyhAx30MLwv1zboyDFVTo/Rkac5CVq0JGu4molG4X1pUuvfCUYLqJX532EdYp0kG4Svtxv87GLB302so8GES/pZVvWRErOOuEahvjWASUgwdPZ3HbmSdIn7QeuelC0emx44IZLEEI0dp/mIZ1Ot03/L4OUNyD5Zh9HcC4ByH4+qC4HJ14cy8F9FcKcZf4+hylwxkGEARBEARBEARBEARBEARB+mF1VPK/eKo69n00Jc0+WtnpVeYJSt2kttu7q2YYDug1mXbES+37eynfyapDBJRdLlLfDHV/b+vriTqgElGHXSZYMqM1bvJ1QoYsNBkcF37R+5tTrXjT1lxS+vOyOgTHHGnjUrZ0fSYcLcy80knsTj+ETcwzJNRulGMRICzn9XMM5k2JAcBOWgF2FN804ZVxawl3WCnIOXZQelhFr+EFTkaFH68AHkAupRwdIjJjXyGjkpF0N1OsljnhGwABHRTiSiHYdEJ8WiOmOG3wEPHkLdsUu4YPEcHIO/QUhw0aXlCHM8OTUTHhBctICgfZVKd+RHab5PRJ5P41zhIm+R5BzO6XaiVgtps6g07aEX5sBSCGvhVX4RfPPuCLFHNdbPCQoPl3T8+ZBkRcD/FCnIaPzFFMJXX2LnbwifEF0+gKeCqBOjyVQB2S2glki8aKODGtQyQZFCP1AC9ilemomNSWTtSrFsJP3TZmNRv9wty5U/wBm2mmq1Lx0n8AAAAASUVORK5CYII="}),a.a.createElement("div",{className:"OfflineCard__title"},"You're offline!"),a.a.createElement("div",{className:"OfflineCard__message"},"Your wallet has been unlocked. You may enable your internet connection now. Once your connection is enabled, press \u2018Continue\u2019.")),a.a.createElement("div",{className:"OfflineCard__footer"},a.a.createElement(Le,{title:"Continue",href:"/wallet"}))))}}]),n}(a.a.Component)),yt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).handleContinue=e.handleContinue.bind(Object(I.a)(e)),e}return Object(s.a)(n,[{key:"handleContinue",value:function(){}},{key:"render",value:function(){return a.a.createElement("div",{className:"CreateWalletPage"},a.a.createElement("div",{className:"CreateWalletPage__wrapper"},a.a.createElement("div",{className:"CreateWalletPage__title"},""),a.a.createElement(vt,{onContinue:this.handleContinue})))}}]),n}(a.a.Component),gt=n(73),bt=(n(900),n(56)),wt=n(135),kt=n.n(wt),Et=n(62);function Ot(){Ot=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new O(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return _()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function d(){}function h(){}function p(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&n.call(v,a)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,c){var s=u(e[a],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var xt=new kt.a("http://localhost");function _t(e){var t=L.a.get(e,["constant"],null),n=L.a.get(e,["stateMutability"],null);return"view"===n||"pure"===n||!0===t}function St(e,t){try{var n=jt(e);return new xt.eth.Contract(n,t)}catch(r){return null}}function jt(e){try{return JSON.parse(e)}catch(t){return null}}function Nt(e){return function(e){var t=jt(e);return!1===L.a.isNil(t&&t.object)}(e)||"Invalid byte code"}function Tt(e){return xt.utils.isAddress(e)||"Invalid address"}function Ct(e){return function(e){var t=jt(e);try{return!1===L.a.isNil(t&&new xt.eth.Contract(t,null))}catch(n){return!1}}(e)||"Invalid ABI/JSON interface"}function Lt(e){return!L.a.isNil(e)&&0!==e.length||"Function is required"}function At(e){return L.a.filter(e,(function(e){return"function"===e.type}))}function Pt(e){var t=L.a.filter(e,(function(e){return"constructor"===e.type}));return L.a.first(t)}function It(e,t,n){var o=n.register,i=n.errors;return a.a.createElement("div",null,t.length>0&&a.a.createElement("div",null,a.a.createElement("div",{className:"FormSectionTitle"},e),a.a.createElement("div",{className:"FormColumns"},t.map((function(e,t){var n=e.name,c=e.type,s="arg".concat(t),u="inputs.".concat(s);return a.a.createElement(r.Fragment,{key:u},a.a.createElement("div",{className:"FormColumn"},a.a.createElement("div",{className:"InputTitle"},n+" ("+c+")"),a.a.createElement("input",{className:"RoundedInput",placeholder:"Enter "+n,name:u,ref:o({required:"Input "+n+" is required",validate:function(e){return!0}})}),L.a.get(i,["inputs",s])&&a.a.createElement("div",{className:"InputError"},L.a.get(i,["inputs",s,"message"]))))})))))}function Rt(e){var t=e.onSubmit,n=Object(Et.a)({mode:"onChange"}),r=n.register,o=n.handleSubmit,i=n.errors,c=n.watch,s=c("abi"),u=c("byteCode"),l=St(s,null),d=Pt(L.a.get(l,["options","jsonInterface"])),h=L.a.get(d,["inputs"],[]);return window.contract=l,a.a.createElement("form",{onSubmit:o(t)},a.a.createElement("div",{className:"FormColumns"},a.a.createElement("div",{className:"FormColumn"},a.a.createElement("div",{className:"FormSectionTitle"},"ABI/JSON Interface"),a.a.createElement("textarea",{className:"RoundedInput",placeholder:"Paste ABI/JSON interface",name:"abi",ref:r({required:"Contract ABI/JSON interface is required.",validate:Ct})}),i.abi&&a.a.createElement("div",{className:"InputError"},i.abi.message)),a.a.createElement("div",{className:"FormColumn"},a.a.createElement("div",{className:"FormSectionTitle"},"Byte Code"),a.a.createElement("textarea",{className:"RoundedInput",placeholder:"Paste byte code",name:"byteCode",ref:r({required:"Contract byte code is required.",validate:Nt})}),i.byteCode&&a.a.createElement("div",{className:"InputError"},i.byteCode.message))),It("Constructor Inputs",h,{register:r,errors:i}),a.a.createElement(Le,{title:"Deploy Contract",style:{marginTop:15},disabled:L.a.size(i)>0||L.a.isNil(s)||L.a.isNil(u),onClick:o(t)}))}function Dt(e){var t=e.defaultFormValues,n=e.disabled,o=e.loading,i=e.onSubmit,c=e.onChange,s=L.a.merge({functionName:""},t),u=Object(Et.a)({mode:"onChange",defaultValues:s}),l=u.register,d=u.handleSubmit,h=u.errors,p=u.watch,f=u.setValue,m=Object(r.useState)(s),v=Object(gt.a)(m,2),y=v[0],g=v[1],b=p(),w=!1===L.a.isEqual(y,b);Object(r.useEffect)((function(){w&&(g(b),c&&c())}),[w,b,c,f]);var E=p("abi"),O=p("address"),x=p("functionName"),_=St(E,null),S=At(L.a.get(_,["options","jsonInterface"]))||[],j=Object(k.s)(S.map((function(e){return e.name})),S),N=L.a.get(j,[x]),T=L.a.get(N,["inputs"],[]),C=_t(N);return a.a.createElement("form",{onSubmit:d(i)},a.a.createElement("div",{className:"FormSectionTitle"},"Contract Address"),a.a.createElement("input",{className:"RoundedInput",placeholder:"Enter contract address",name:"address",ref:l({required:"Contract address is required.",validate:Tt})}),h.address&&a.a.createElement("div",{className:"InputError"},h.address.message),a.a.createElement("div",{className:"FormColumns"},a.a.createElement("div",{className:"FormColumn"},a.a.createElement("div",{className:"FormSectionTitle"},"ABI/JSON Interface"),a.a.createElement("textarea",{className:"RoundedInput",placeholder:"Paste ABI/JSON interface",name:"abi",ref:l({required:"Contract ABI/JSON interface is required.",validate:Ct})}),h.abi&&a.a.createElement("div",{className:"InputError"},h.abi.message)),S.length>0&&a.a.createElement("div",{className:"FormColumn"},a.a.createElement("div",{className:"FormSectionTitle"},"Function"),a.a.createElement("select",{name:"functionName",className:"RoundedInput",placeholder:"Choose function",ref:l({required:"Function is required.",validate:Lt}),onChange:function(){}},a.a.createElement("option",{value:"",key:"__placeholder__"},"Choose function"),S.map((function(e,t){var n=e.name;e.type;return a.a.createElement("option",{value:n,key:n},n)}))),h.functionName&&a.a.createElement("div",{className:"InputError"},h.functionName.message))),It("Function Inputs",T,{register:l,errors:h}),a.a.createElement(Le,{title:C?"Read":"Write",style:{marginTop:15},disabled:n||L.a.size(h)>0||L.a.isNil(E)||L.a.isNil(O)||L.a.isNil(x),loading:o,onClick:d(i)}))}var Ft=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).onSubmit=function(e){var t=e.abi,n=e.byteCode,r=e.inputs,a=jt(n),o=St(t,null),i=Pt(L.a.get(o,["options","jsonInterface"])),c=L.a.get(i,["inputs"],[]),s=L.a.map(c,(function(e){e.name;return e.type})),u=L.a.map(c,(function(e,t){e.name;var n=e.type,a=r["arg".concat(t)];return n.includes("[]")?jt(a):"boolean"===n||"bool"===n?Boolean(jt(a)):a})),l=xt.eth.abi.encodeParameters(s,u).slice(2),d=R.e.getWalletAddress(),h=a.object+l;P.dispatch(Object(he.b)(bt.a.DEPLOY,t,{from:d,to:null,data:h,value:0}))},e.defaultState={loading:!1},e.state=e.defaultState,e}return Object(s.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"DeployContractContent"},a.a.createElement(Rt,{onSubmit:this.onSubmit}))}}]),n}(a.a.Component),Wt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).onSubmit=function(){var t=Object(Ke.a)(Ot().mark((function t(n){var r,a,o,i,c,s,u,l,d,h,p,f,m,v,y,g,b,w,E,O,x,_,S,j,N;return Ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.address,a=n.abi,o=n.functionName,i=n.inputs,c=St(a,r),s=L.a.get(c,["options","jsonInterface"]),u=At(s)||[],l=Object(k.s)(u.map((function(e){return e.name})),u),d=L.a.get(l,[o]),h=L.a.get(d,["inputs"],[]),p=L.a.get(d,["outputs"],[]),f=L.a.get(d,["signature"]).slice(2),m=_t(d),v=L.a.map(h,(function(e){e.name;return e.type})),y=L.a.map(h,(function(e,t){e.name;var n=e.type,r=i["arg".concat(t)];return n.includes("[]")?jt(r):"boolean"===n||"bool"===n?Boolean(jt(r)):r})),g=xt.eth.abi.encodeParameters(v,y).slice(2),new ct.BigNumber(10).pow(12),b=R.e.getWalletAddress(),w=ne.a.getSmartContractGasPrice(),1e7,E=f+g,O=0,1,!m){t.next=42;break}return e.setState({isLoading:!0,callResult:null}),1,x=ne.a.unsignedSmartContractTx({from:b,to:r,data:E,value:O,transactionFee:w,gasLimit:1e7},1),_=pt.a.TxSigner.serializeTx(x),t.prev=25,t.next=28,ot.a.callSmartContract({data:_.toString("hex").slice(2)},{network:ne.a.getChainID()});case 28:return S=t.sent,t.next=31,S.json();case 31:j=t.sent,N=L.a.get(j,"result"),L.a.get(N,"vm_error"),e.setState({callResult:L.a.merge(N,{outputs:p,decodedParameters:xt.eth.abi.decodeParameters(p,L.a.get(N,"vm_return"))}),isLoading:!1}),t.next=40;break;case 37:t.prev=37,t.t0=t.catch(25),e.setState({isLoading:!1,callResult:{vm_error:t.t0.message}});case 40:t.next=43;break;case 42:P.dispatch(Object(he.b)(bt.a.INTERACT,a,{from:b,to:r,data:E,value:O}));case 43:case"end":return t.stop()}}),t,null,[[25,37]])})));return function(e){return t.apply(this,arguments)}}(),e.onChange=function(){e.setState({callResult:null})},e.defaultState={loading:!1,result:null},e.state=e.defaultState,e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.defaultFormValues,t=this.state,n=t.isLoading,o=t.callResult,i=L.a.get(o,"vm_error");return a.a.createElement("div",{className:"InteractWithContractContent"},a.a.createElement(Dt,{defaultFormValues:e,onSubmit:this.onSubmit,onChange:this.onChange,loading:n,disabled:n}),i&&a.a.createElement("div",{className:"InputError",style:{marginTop:20}},i),o&&a.a.createElement("div",{style:{marginTop:20}},a.a.createElement("div",null,a.a.createElement("div",{className:"InputTitle"},"Raw Result"),a.a.createElement("input",{className:"RoundedInput",name:"vm_return",value:L.a.get(o,"vm_return"),readOnly:!0}))),o&&a.a.createElement("div",{className:"FormColumns"},L.a.get(o,"outputs",[]).map((function(e,t){var n=e.name,i=e.type;return a.a.createElement(r.Fragment,{key:n},a.a.createElement("div",{className:"FormColumn"},a.a.createElement("div",{className:"InputTitle"},n+" ("+i+")"),a.a.createElement("input",{className:"RoundedInput",value:L.a.get(o,["decodedParameters",t]),readOnly:!0})))}))))}}]),n}(a.a.Component),Mt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.match.params.contractMode,t=Object(k.g)(this.props.history.location.search);return t.abi&&(t.abi=atob(t.abi)),a.a.createElement("div",{className:"ContractPage"},a.a.createElement("div",{className:"ContractPage__detail-view"},a.a.createElement(ce,{title:null,sticky:!0},a.a.createElement(Z,{centered:!0,condensed:!1,style:{width:"100%"}},a.a.createElement($,{title:"Deploy Contract",href:"/wallet/contract/"+bt.a.DEPLOY}),a.a.createElement($,{title:"Interact with Contract",href:"/wallet/contract/"+bt.a.INTERACT}))),e===bt.a.DEPLOY&&a.a.createElement(Ft,null),e===bt.a.INTERACT&&a.a.createElement(Wt,{defaultFormValues:t})))}}]),n}(a.a.Component),Bt=Object(m.b)((function(e){return{}}))(Mt),Ut=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"Pages"},a.a.createElement(h.a,null,a.a.createElement(p.a,{from:"/onboarding",to:"/onboarding/0",exact:!0}),a.a.createElement(f.a,{path:"/onboarding/:onboardingStep",component:De})),a.a.createElement(f.a,{path:"/create",component:Ge}),a.a.createElement(h.a,null,a.a.createElement(p.a,{from:"/unlock",to:"/unlock/keystore-file",exact:!0}),a.a.createElement(f.a,{path:"/unlock/:unlockStrategy",component:at})),a.a.createElement(f.a,{path:"/offline",component:yt}))}}]),n}(a.a.Component),Gt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"Pages Pages--wallet"},a.a.createElement(h.a,null,!1===R.e.unlocked()&&a.a.createElement(p.a,{to:"/unlock"}),a.a.createElement(p.a,{from:"/wallet/contract/",to:"/wallet/contract/"+bt.a.DEPLOY,exact:!0}),a.a.createElement(f.a,{path:"/wallet/contract/:contractMode",component:Bt}),a.a.createElement(f.a,{path:"/wallet/settings",component:Ie}),a.a.createElement(f.a,{path:"/wallet/stakes",component:mt}),a.a.createElement(p.a,{from:"/wallet",to:"/wallet/tokens/dnero",exact:!0}),a.a.createElement(p.a,{from:"/wallet/tokens",to:"/wallet/tokens/dnero",exact:!0}),a.a.createElement(f.a,{path:"/wallet/tokens/:tokenType",component:Ne}),a.a.createElement(f.a,{path:"/offline",component:yt})))}}]),n}(a.a.Component),Kt=(n(901),n(427)),Ht=n.n(Kt),qt=(n(908),n(909),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"Modal"},!1!==this.props.closeable&&a.a.createElement("a",{className:"Modal__close-button",onClick:function(e){e.preventDefault()}},a.a.createElement("img",{src:"/img/icons/modal-x@2x.png"})),this.props.children)}}]),n}(a.a.Component)),Vt=(n(910),n(59)),Yt=function(e){var t=e.message,n=e.learnMoreHref,r=e.style,o=e.className,i=Vt("Warning",o);return a.a.createElement("div",{style:r,className:i},a.a.createElement("span",{className:"Warning__message"},t),a.a.createElement("a",{className:"Warning__learn-more",href:n,target:"_blank",rel:"noopener noreferrer"},"Learn more"))},zt="https://docs.dnerochain.org/docs/preventing-lost-eth-erc20-tokens",Jt=n(100),Xt=n(101),Zt=n.n(Xt),Qt=n(102),$t=n.n(Qt);function en(){en=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new O(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return _()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function d(){}function h(){}function p(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&n.call(v,a)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,c){var s=u(e[a],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var tn=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).handleCopyAddressClick=function(){var e=R.e.getWalletAddress();Object(k.a)(e),F.a.showSuccess("Your address has been copied")},r.handleDisplayOnLedgerClick=Object(Ke.a)(en().mark((function e(){var t,n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,F.a.showSuccess("Your address will be displayed on Ledger device"),!(navigator.userAgent.toLowerCase().indexOf("firefox")>-1)){e.next=8;break}return e.next=5,Zt.a.create();case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,Jt.a.create();case 10:t=e.sent;case 11:return n=new $t.a(t),e.next=14,n.getAddress(R.e.getWalletPath(),!0,!1);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),F.a.showSuccess("Rejected, please refresh to change address");case 19:case"end":return e.stop()}}),e,null,[[0,16]])}))),r.handleFaucetClick=Object(Ke.a)(en().mark((function e(){var t,n;return en().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({isLoading:!0}),e.prev=1,e.next=4,ot.a.callFaucet(R.e.getWalletAddress(),Object(B.d)(ne.a.getChainID()));case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,L.a.get(n,"message")&&F.a.showSuccess("Your DTOKEN has been sent."),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),F.a.showError("You have exceeded the faucet limit");case 14:return e.prev=14,r.setState({isLoading:!1}),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),r.state={isLoading:!1},r}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state.isLoading,t=R.e.getWalletAddress(),n="https://chart.googleapis.com/chart?chs=160x160&cht=qr&chl=".concat(t,"&choe=UTF-8&chld=L|0"),r=!1===L.a.isNil(Object(B.d)(ne.a.getChainID()));return a.a.createElement(qt,null,a.a.createElement("div",{className:"ReceiveModal"},a.a.createElement("div",{className:"ModalTitle"},"Receive"),a.a.createElement(Yt,{message:"Do not send ETH or ERC20 tokens to this address.",learnMoreHref:zt,style:{marginBottom:30}}),a.a.createElement("div",{className:"ReceiveModal__public-address-title"},"My Public Address"),a.a.createElement("div",{className:"ReceiveModal__public-address"},t),a.a.createElement("div",{className:"ReceiveModal__buttons"},a.a.createElement(_e,{title:"Copy",iconUrl:"/img/icons/copy@2x.png",onClick:this.handleCopyAddressClick})),"ledger"===R.e.getWalletHardware()&&a.a.createElement("div",{className:"ReceiveModal__buttons"},a.a.createElement(_e,{title:"Display on Ledger",onClick:this.handleDisplayOnLedgerClick})),a.a.createElement("img",{src:n,className:"ReceiveModal__qr"}),r&&E.a.faucetAvailable&&a.a.createElement("div",{className:"ReceiveModal__faucet"},a.a.createElement(_e,{title:"Faucet",disabled:e,loading:e,className:"ReceiveModal__faucet-button",iconUrl:"/img/tab-bar/receive@2x.png",onClick:this.handleFaucetClick}),a.a.createElement("div",{className:"ReceiveModal__faucet-message"},"Receive a small amount of DTOKEN on ",Object(B.e)(ne.a.getChainID())))))}}]),n}(a.a.Component),nn=(n(911),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).close=e.close.bind(Object(I.a)(e)),e}return Object(s.a)(n,[{key:"close",value:function(){P.dispatch(Object(W.b)())}},{key:"render",value:function(){return a.a.createElement(qt,null,a.a.createElement("div",{className:"PrivateKeyModal"},a.a.createElement("div",{className:"PrivateKeyModal__title"},"Your Private Key"),a.a.createElement("div",{className:"PrivateKeyModal__instructions"},"Backup the text below on paper or digitally and keep it somewhere safe and secure."),a.a.createElement("textarea",{className:"PrivateKeyModal__private-key",value:this.props.privateKey,readOnly:!0}),a.a.createElement(Le,{title:"Close",onClick:this.close})))}}]),n}(a.a.Component)),rn=n(59),an=[K.networks.Mainnet,K.networks.Testnet,K.networks.Privatenet,K.networks.EliteEdgeTestnet],on=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).onNetworkClick=function(t){e.props.dispatch(Object(D.d)(t.chainId)),e.props.dispatch(Object(W.b)())},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.selectedNetwork;return a.a.createElement("div",{className:"NetworkSelectorModal"},a.a.createElement("div",{className:"NetworkSelectorModal__header"},a.a.createElement("div",{className:"NetworkSelectorModal__header-title"},"Select Network")),a.a.createElement("div",{className:"NetworkSelectorModal__content"},a.a.createElement("div",{className:"NetworkSelectorModal__message"},"The default network for Dnero transactions is Mainnet."),a.a.createElement("div",{className:"NetworkSelectList"},an.map((function(n){var r=rn("NetworkSelectListItem",{"NetworkSelectListItem--active":n.chainId===t.chainId});return a.a.createElement("div",{key:n.chainId,className:r,onClick:function(){e.onNetworkClick(n)}},a.a.createElement("img",{className:"NetworkSelectListItem__checkmark",src:"/img/icons/checkmark.svg"}),a.a.createElement("div",{className:"NetworkSelectListItem__color",style:{backgroundColor:n.color}}),a.a.createElement("div",{className:"NetworkSelectListItem__name"},n.name))})))))}}]),n}(a.a.Component),cn=Object(m.b)((function(e){return{selectedNetwork:e.dneroWallet.network}}))(on),sn=(n(912),n(131)),un=n(64),ln=n(59),dn=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e,t=this.props.iconUrl&&a.a.createElement("img",{className:"FlatButton__icon",src:this.props.iconUrl}),n=null,o="FlatButton--".concat(this.props.size),i=ln("FlatButton",(e={},Object(J.a)(e,this.props.className,!0),Object(J.a)(e,o,!0),Object(J.a)(e,"FlatButton--borderless",this.props.borderless),Object(J.a)(e,"FlatButton--centered",this.props.centered),Object(J.a)(e,"FlatButton--is-disabled",this.props.disabled),e));return n=this.props.loading?a.a.createElement(Oe.a,{singleColor:"#ffffff",size:16,className:"FlatButton__spinner"}):a.a.createElement(r.Fragment,null,t,a.a.createElement("div",{className:"FlatButton__title"},this.props.title)),this.props.href?a.a.createElement(Te.a,{className:i,to:this.props.href,target:this.props.target,onClick:this.props.onClick,style:this.props.style},n):a.a.createElement("a",{className:i,target:this.props.target,onClick:this.props.onClick,style:this.props.style},n)}}]),n}(a.a.Component),hn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n=n||"",t?a.a.createElement("div",{className:"TxDataRow ".concat(r?"TxDataRow--large":"")},a.a.createElement("div",{className:"TxDataRow__title"},e),a.a.createElement("div",{className:"TxDataRow__value"},t+n||"")):null},pn=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).onConfirmClick=function(){var t=e.props.transactionRequest;e.props.dispatch(Object(he.a)(t.id,e.state.password))},e.onRejectClick=function(){var t=e.props.transactionRequest;e.props.dispatch(Object(he.e)(t.id))},e.renderDataRows=function(){var t=e.props,n=t.selectedAddress,r=t.transactionRequest,o=t.assets,i=L.a.get(r,"txType"),c=L.a.get(r,"txData"),s=L.a.get(r,"txData.purpose");if(i===K.constants.TxType.Send){var u=L.a.get(r,"txData.outputs[0].dneroWei",null),l=L.a.get(r,"txData.outputs[0].dtokenWei",null);return a.a.createElement(a.a.Fragment,null,hn("Transaction Type",Object(k.p)(i)),hn("From",Object(k.r)(n)),hn("To",Object(k.r)(L.a.get(r,"txData.outputs[0].address"))),u&&"0"!==u&&hn("Amount",Object(k.e)(u)," DNERO"),l&&"0"!==l&&hn("Amount",Object(k.e)(l)," DTOKEN"))}if(i===K.constants.TxType.SmartContract){var d=Object(k.o)(r),h=L.a.get(r,"txData.to",null),p=L.a.get(r,"txData.value"),f=L.a.find(o,(function(e){return e.contractAddress===h})),m=null,v=null,y=null,g=null;try{var b=L.a.get(c,"data"),w=new K.Contract(null,un.b,null).interface.decodeFunctionData("transfer(address,uint256)",b);m=w[0],v=w[1].toString(),y=f&&f.symbol,g=f&&f.decimals}catch(E){}return a.a.createElement(a.a.Fragment,null,hn("Transaction Type",d),!L.a.isNil(h)&&hn("Contract",Object(k.r)(L.a.get(r,"txData.to"))),hn("From",Object(k.r)(n)),!L.a.isNil(m)&&hn("To",Object(k.r)(m)),!L.a.isNil(m)&&y&&v&&hn("Token Amount",Object(k.d)(v,g)," ".concat(y)),!L.a.isNil(p)&&p>0&&hn("Value",Object(k.e)(p)," DTOKEN"),hn("Data",L.a.get(r,"txData.data"),null,!0))}return i===K.constants.TxType.WithdrawStake?a.a.createElement(a.a.Fragment,null,hn("Transaction Type",Object(k.p)(i)),hn("From",Object(k.r)(n)),hn("Holder",Object(k.r)(L.a.get(r,"txData.holder")))):i===K.constants.TxType.DepositStake?a.a.createElement(a.a.Fragment,null,hn("Transaction Type",Object(k.p)(i)),hn("Purpose","Validator Node"),hn("From",Object(k.r)(n)),hn("Holder",Object(k.r)(L.a.get(r,"txData.holder"))),hn("Amount",Object(k.e)(L.a.get(r,"txData.amount"))," DNERO")):i===K.constants.TxType.DepositStakeV2?a.a.createElement(a.a.Fragment,null,hn("Transaction Type",Object(k.p)(i)),s===K.constants.StakePurpose.StakeForEliteEdge&&hn("Purpose","Edge Node"),s===K.constants.StakePurpose.StakeForSentry&&hn("Purpose","Sentry Node"),hn("From",Object(k.r)(n)),hn("Holder summary",L.a.get(r,"txData.holderSummary"),null,!0),s===K.constants.StakePurpose.StakeForEliteEdge&&hn("Amount",Object(k.e)(L.a.get(r,"txData.amount"))," DTOKEN"),s===K.constants.StakePurpose.StakeForSentry&&hn("Amount",Object(k.e)(L.a.get(r,"txData.amount"))," DNERO")):void 0},e.calculateTotalGasPrice=function(){var t,n=e.props.transactionRequest;if(null===n||void 0===n||null===(t=n.gasFeeData)||void 0===t?void 0:t.totalGasFee){var r=new st.a(L.a.get(n,["dependencies",0,"gasFeeData","totalGasFee"],"0"));return new st.a(n.gasFeeData.totalGasFee||"0").plus(r)}},e.state={password:"",estimatedGasFee:null},e.handleChange=e.handleChange.bind(Object(I.a)(e)),e}return Object(s.a)(n,[{key:"handleChange",value:function(e){var t=e.target.name,n=e.target.value;this.setState(Object(J.a)({},t,n))}},{key:"render",value:function(){var e=this.props.transactionRequest,t=R.e.getWalletHardware()||this.state.password.length>0,n=this.renderDataRows(),r=null;return R.e.getWalletHardware()||(r=a.a.createElement("div",{className:"TxConfirmationModal__password-container"},a.a.createElement("div",{className:"TxConfirmationModal__password-title"},"Enter your wallet password to sign this transaction"),a.a.createElement("input",{className:"ChoosePasswordCard__password-input",placeholder:"Enter wallet password",name:"password",type:"password",value:this.state.password,onChange:this.handleChange.bind(this)}))),a.a.createElement(qt,{closeable:!1},a.a.createElement("div",{className:"TxConfirmationModal"},a.a.createElement("div",{className:"ModalTitle"},"Confirm Transaction"),a.a.createElement("div",{className:"TxDataRows"},n,a.a.createElement("div",{className:"TxDataRow"},a.a.createElement("div",{className:"TxDataRow__title"},"Estimated Gas Fee"),L.a.isNil(null===e||void 0===e?void 0:e.gasFeeData)&&a.a.createElement("div",{className:"TxDataRow__value"},a.a.createElement(Oe.a,{singleColor:"#1BDED0",size:20})),!L.a.isNil(null===e||void 0===e?void 0:e.gasFeeData)&&a.a.createElement("div",{className:"TxDataRow__value"},a.a.createElement("span",null,"".concat(Object(k.e)(this.calculateTotalGasPrice())," DTOKEN"))))),r,a.a.createElement("div",{className:"TxConfirmationModal__footer"},a.a.createElement(dn,{title:"Reject",className:"ConfirmTransactionPage__reject-button",size:"large",onClick:this.onRejectClick,borderless:!0,centered:!0}),a.a.createElement(Le,{title:"Confirm",className:"ConfirmTransactionPage__confirm-button",disabled:!1===t,onClick:this.onConfirmClick}))))}}]),n}(a.a.Component),fn=Object(sn.a)((function(e){var t=e.dneroWallet,n=t.selectedAddress,r=t.identities,a=t.accounts,o=e.dneroWallet.transactionRequests[0],i=t.tokens,c=t.network.chainId;return{selectedAddress:n,selectedIdentity:r[n],selectedAccount:a[n],assets:Object(Se.d)(c,i),transactionRequest:o}}))(pn),mn=n(69),vn=n(59),yn=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.error,r=e.style,o=e.className,i=e.children;return a.a.createElement("div",{className:vn("FormField",Object(J.a)({},o,!0)),style:r},a.a.createElement("div",{className:"FormField__title"},t),i,n&&a.a.createElement("div",{className:"FormField__error"},n))}}]),n}(a.a.Component),gn=n(28);function bn(e){var t=e.onSubmit,n=e.defaultValues,r=e.selectedAccount,o=e.formRef,i=e.assets,c=Object(Et.a)({mode:"onChange",defaultValues:n||{to:"",amount:"",assetId:""}}),s=c.register,u=c.handleSubmit,l=c.errors,d=c.watch,h=c.setValue,p=d("assetId");return a.a.createElement("form",{className:"TxForm TxForm--Send",onSubmit:u(t),ref:o},a.a.createElement(yn,{title:"To",error:l.to&&"A valid address is required"},a.a.createElement("input",{name:"to",className:"RoundedInput",placeholder:"Enter address",ref:s({required:!0,validate:function(e){return mn.a.utils.isAddress(e)}})})),a.a.createElement(yn,{title:"Asset",error:l.assetId&&"Asset is required"},a.a.createElement("select",{className:"RoundedInput",name:"assetId",ref:s({required:!0})},a.a.createElement("option",{key:"__placeholder__",value:"",disabled:!0},"Select asset"),i.map((function(e){return a.a.createElement("option",{key:e.symbol,value:e.id},"".concat(e.symbol," (").concat(Object(k.f)(r,e),")"))})))),a.a.createElement(yn,{title:"Amount",error:l.amount&&l.amount.message},a.a.createElement("div",{className:"RoundedInputWrapper"},a.a.createElement("input",{name:"amount",className:"RoundedInput",placeholder:"Enter amount",type:"number",ref:s({required:{value:!0,message:"Amount is required"},validate:{sufficientBalance:function(e){var t=L.a.find(i,(function(e){return e.id===p}));return!!Object(k.i)(r,t,e)||"Insufficient balance"},moreThanZero:function(e){return parseFloat(e)>0||"Invalid amount"}}})}),a.a.createElement(dn,{title:"Max",size:"small",className:"RoundedInputButton",onClick:function(){if(!L.a.isEmpty(p)){var e="",t=L.a.find(i,(function(e){return e.id===p}));if(p===Se.b.id){var n=new st.a(r.balances.dtokenwei).minus(K.constants.gasPriceDefault);e=Object(k.n)(n.toString(10)).toString(10)}else if(p===Se.c.id)e=Object(k.n)(r.balances.dnerowei).toString(10);else{var a=r.balances[t.address]||"0";e=Object(k.m)(a,t.decimals).toString(10)}h("amount",e)}}}))),a.a.createElement(Yt,{message:"Do not send to Ethereum/ERC20 addresses.",learnMoreHref:gn.e.PreventingLostTokens,style:{maxWidth:"250px",marginBottom:10}}))}function wn(e){var t=e.onSubmit,n=e.defaultValues,r=e.formRef,o=e.selectedAccount,i=(e.assets,e.chainId),c=e.onShowDelegatedSentryNodes,s=Object(Et.a)({mode:"onChange",defaultValues:n||{purpose:K.constants.StakePurpose.StakeForSentry,holder:"",holderSummary:"",amount:"",delegatedSentryNode:null}}),u=s.register,l=s.handleSubmit,d=s.errors,h=s.watch,p=s.setValue;a.a.useEffect((function(){u("delegatedSentryNode")}),[u]);var f=parseInt(h("purpose")),m=h("delegatedSentryNode"),v=null,y=null,g=null;f===K.constants.StakePurpose.StakeForValidator?(v="Validator Node Holder (Address)",y="Enter validator node address",g="Dnero Stake Amount"):f===K.constants.StakePurpose.StakeForSentry?(v="Sentry Node Holder (Summary)",y="Enter sentry node summary",g="Dnero Stake Amount"):f===K.constants.StakePurpose.StakeForEliteEdge?(v="Edge Node Holder (Summary)",y="Enter edge node summary",g="DToken Stake Amount"):f===gn.d&&(v=null,y=null,g="DDrop Stake Amount");return a.a.createElement("form",{className:"TxForm TxForm--DepositStake",onSubmit:l(t),ref:r},a.a.createElement(yn,{title:"Stake Type",error:d.purpose&&"Stake type is required"},a.a.createElement("select",{className:"RoundedInput",name:"purpose",ref:u({required:!0})},a.a.createElement("option",{key:"__placeholder__",value:"",disabled:!0},"Select stake type"),a.a.createElement("option",{key:"sentry",value:K.constants.StakePurpose.StakeForSentry},"Sentry Node"),a.a.createElement("option",{key:"validator",value:K.constants.StakePurpose.StakeForValidator},"Validator Node"),a.a.createElement("option",{key:"elite-edge",value:K.constants.StakePurpose.StakeForEliteEdge},"Edge Node"),Object(Se.a)(i)&&a.a.createElement("option",{key:"ddrop",value:gn.d},"DDROP"))),f===K.constants.StakePurpose.StakeForValidator&&a.a.createElement(yn,{title:v,error:d.holder&&"A valid validator address is required"},a.a.createElement("input",{name:"holder",className:"RoundedInput",placeholder:y,ref:u({required:!0,validate:function(e){return mn.a.utils.isAddress(e)}})})),f===K.constants.StakePurpose.StakeForSentry&&a.a.createElement(yn,{title:m?"Delegated Sentry Node":v,error:d.holderSummary&&"Sentry node summary or delegated sentry node is required"},a.a.createElement(a.a.Fragment,null,a.a.createElement("textarea",{name:"holderSummary",className:"RoundedInput",style:{height:100,display:m?"none":"block"},placeholder:y,ref:u({required:!0,validate:function(e){return Object(k.h)(e)}})}),L.a.isNil(m)&&a.a.createElement("a",{onClick:function(){c((function(e){p("holderSummary",e.node_summary),p("delegatedSentryNode",e)}))},className:"Link",style:{marginTop:8,textAlign:"left"}},"Select Delegated Sentry Node")),!L.a.isNil(m)&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"RoundedInput"},a.a.createElement("div",{className:"RoundedInputClearableValue"},a.a.createElement("div",null,m.name),a.a.createElement("a",{onClick:function(){p("holderSummary",null),p("delegatedSentryNode",null)},style:{marginLeft:"auto"}},a.a.createElement("img",{src:"/img/icons/alert-x@2x.png"})))))),f===K.constants.StakePurpose.StakeForEliteEdge&&a.a.createElement(yn,{title:v,error:d.holderSummary&&"Edge node summary is required"},a.a.createElement("textarea",{name:"holderSummary",className:"RoundedInput",style:{height:100},placeholder:y,ref:u({required:!0,validate:function(e){return K.transactions.DepositStakeV2Transaction.isValidHolderSummary(f,e)}})})),a.a.createElement(yn,{title:g,error:d.amount&&d.amount.message},a.a.createElement("div",{className:"RoundedInputWrapper"},a.a.createElement("input",{name:"amount",className:"RoundedInput",placeholder:"Enter amount to stake",ref:u({required:{value:!0,message:"Stake amount is required"},validate:{sufficientBalance:function(e){var t=!0;if(f===K.constants.StakePurpose.StakeForEliteEdge)t=Object(k.i)(o,Se.b,e);else if(f===K.constants.StakePurpose.StakeForSentry||f===K.constants.StakePurpose.StakeForValidator)t=Object(k.i)(o,Se.c,e);else if(f===gn.d){var n=Object(Se.a)(i);t=Object(k.i)(o,n,e)}return!!t||"Insufficient balance"},moreThanMin:function(e){var t=parseFloat(e),n=Object(gn.h)(f);if(f===K.constants.StakePurpose.StakeForEliteEdge){if(n>t)return"Invalid amount. Must be at least ".concat(Object(k.j)(n)," DTOKEN")}else if((f===K.constants.StakePurpose.StakeForSentry||f===K.constants.StakePurpose.StakeForValidator)&&n>t)return"Invalid amount. Must be at least ".concat(Object(k.j)(n)," DNERO");return!0},lessThanMax:function(e){var t=parseFloat(e),n=Object(gn.g)(f);if(f===K.constants.StakePurpose.StakeForEliteEdge){if(n<t)return"Invalid amount. Must be less than ".concat(Object(k.j)(n)," DTOKEN")}else if((f===K.constants.StakePurpose.StakeForSentry||!L.a.isNil(m))&&(n=Object(gn.f)(f))<t)return"Invalid amount. There's a max of ".concat(Object(k.j)(n)," DNERO for delegated nodes. Please download and run your own Sentry Node to stake more.");return!0},moreThanZero:function(e){return parseFloat(e)>0||"Invalid stake amount"}}})}),a.a.createElement(dn,{title:"Max",size:"small",className:"RoundedInputButton",onClick:function(){var e="",t=Object(gn.g)(f);if(f===K.constants.StakePurpose.StakeForValidator||f===K.constants.StakePurpose.StakeForSentry)e=Object(k.n)(o.balances.dnerowei).toString(10),f===K.constants.StakePurpose.StakeForEliteEdge?e=Math.min(t,parseFloat(e)):f!==K.constants.StakePurpose.StakeForSentry&&L.a.isNil(m)||(t=Object(gn.f)(f),e=Math.min(t,parseFloat(e)));else if(f===K.constants.StakePurpose.StakeForEliteEdge){var n=new st.a(o.balances.dtokenwei).minus(K.constants.gasPriceDefault);e=Object(k.n)(n.toString(10)).toString(10),e=Math.min(t,parseFloat(e))}else if(f===gn.d){var r=Object(Se.a)(i),a=o.balances[r.address]||"0";e=Object(k.n)(a).toString(10)}p("amount",e)}}))))}function kn(e){var t=e.onSubmit,n=e.defaultValues,r=e.formRef,o=e.selectedAccount,i=(e.assets,e.chainId),c=Object(Et.a)({mode:"onChange",defaultValues:n||{purpose:K.constants.StakePurpose.StakeForSentry,holder:"",amount:""}}),s=c.register,u=c.handleSubmit,l=c.errors,d=c.watch,h=(c.setValue,parseInt(d("purpose"))),p=d("amount");return a.a.createElement("form",{className:"TxForm TxForm--WithdrawStake",onSubmit:u(t),ref:r},a.a.createElement(yn,{title:"Stake Type",error:l.purpose&&"Stake type is required"},a.a.createElement("select",{className:"RoundedInput",name:"purpose",ref:s({required:!0})},a.a.createElement("option",{key:"__placeholder__",value:"",disabled:!0},"Select stake type"),a.a.createElement("option",{key:"sentry",value:K.constants.StakePurpose.StakeForSentry},"Sentry Node"),a.a.createElement("option",{key:"validator",value:K.constants.StakePurpose.StakeForValidator},"Validator Node"),a.a.createElement("option",{key:"validator",value:K.constants.StakePurpose.StakeForEliteEdge},"Edge Node"),Object(Se.a)(i)&&a.a.createElement("option",{key:"ddrop",value:gn.d},"DDROP"))),h!==gn.d&&a.a.createElement(yn,{title:"Holder",error:l.holder&&"A valid node address is required"},a.a.createElement("input",{name:"holder",className:"RoundedInput",placeholder:"Enter node address",ref:s({required:!0,validate:function(e){return mn.a.utils.isAddress(e)}})})),h===gn.d&&a.a.createElement(yn,{title:"% Amount to Unstake",error:l.amount&&l.amount.message},a.a.createElement("input",{name:"amount",className:"RoundedInput",placeholder:"Enter % amount to unstake",ref:s({required:{value:!0,message:"Unstake % amount is required"},validate:{moreThanZero:function(e){return parseFloat(e)>0||"Invalid % amount."},lessThanOrEqualTo100:function(e){return parseFloat(e)<=100||"Invalid % amount. Max 100%."}}})})),h===gn.d&&!L.a.isEmpty(p)&&function(){var e=Math.min(parseFloat(p),100)/100,t=L.a.get(o,["dnc20Stakes"],{}),n=L.a.get(t,"ddrop.estimatedTokenOwnedWithRewards","0"),r=new st.a(n).multipliedBy(e),c=Object(k.d)(r.toString(),Object(Se.a)(i).decimals);return a.a.createElement("div",null,a.a.createElement("span",{className:"Balance__amount-title"},"Estimated DDROP Returned: "),a.a.createElement("span",{className:"Balance__amount-value"},c))}())}function En(e){var t=e.onSubmit,n=e.defaultValues,r=e.formRef,o=(e.selectedAccount,e.assets,e.chainId,Object(Et.a)({mode:"onChange",defaultValues:n||{address:""}})),i=o.register,c=o.handleSubmit,s=o.errors;o.watch,o.setValue;return a.a.createElement("form",{className:"TxForm TxForm--WithdrawStake",onSubmit:c(t),ref:r},a.a.createElement(yn,{title:"Delegate",error:s.holder&&"A valid delegate address is required"},a.a.createElement("input",{name:"address",className:"RoundedInput",placeholder:"Enter wallet address",ref:i({required:!0,validate:function(e){return mn.a.utils.isAddress(e)}})})))}function On(){On=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new O(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return _()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=s;var l={};function d(){}function h(){}function p(){}var f={};c(f,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==t&&n.call(v,a)&&(f=v);var y=p.prototype=d.prototype=Object.create(f);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,c){var s=u(e[a],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=p,c(y,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new b(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var xn=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).onNextClick=function(){e.formRef.current.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))},e.onSubmit=function(){var t=Object(Ke.a)(On().mark((function t(n){var r,a,o,i,c,s,u;return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props,a=r.transactionType,o=r.dneroWallet,t.next=3,Object(k.c)(a,n,o);case 3:i=t.sent,c=i.dependencies||[],s=c[0],u=i.toJson(),s&&(u.dependencies=[s.toJson()]),e.props.dispatch(Object(he.c)(u));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onShowDelegatedSentryNodes=function(t){e.props.dispatch(Object(W.e)({type:M.a.DELEGATED_NODE_SELECTOR,props:{onSelectNode:t}}))},e.formRef=a.a.createRef(),e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(D.g)(!1))}},{key:"render",value:function(){var e=this.props,t=(e.selectedIdentity,e.selectedAccount),n=e.transactionType,r=e.assets,o=e.chainId,i=n.replace(/-/g," ").replace(/\b\w/g,(function(e){return e.toUpperCase()}));return a.a.createElement("div",{className:"CreateTransactionModal"},a.a.createElement("div",{className:"ModalTitle"},i),"send"===n&&a.a.createElement(bn,{formRef:this.formRef,selectedAccount:t,assets:r,chainId:o,onSubmit:this.onSubmit}),"deposit-stake"===n&&a.a.createElement(wn,{formRef:this.formRef,selectedAccount:t,assets:r,chainId:o,onSubmit:this.onSubmit,onShowDelegatedSentryNodes:this.onShowDelegatedSentryNodes}),"withdraw-stake"===n&&a.a.createElement(kn,{formRef:this.formRef,selectedAccount:t,assets:r,chainId:o,onSubmit:this.onSubmit}),"delegate-ddrop-vote"===n&&a.a.createElement(En,{formRef:this.formRef,selectedAccount:t,chainId:o,onSubmit:this.onSubmit}),a.a.createElement("div",{className:"CreateTransactionModal__footer"},a.a.createElement(Le,{onClick:this.onNextClick,title:"Next"})))}}]),n}(a.a.Component),_n=Object(sn.a)((function(e,t){var n=t.transactionType,r=e.dneroWallet,a=r.selectedAddress,o=r.identities,i=r.accounts,c=r.tokens,s=r.network.chainId;return{transactionType:n,selectedAddress:a,selectedIdentity:o[a],selectedAccount:i[a],chainId:s,dneroWallet:r,assets:Object(Se.d)(s,c)}}))(xn),Sn=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).onNodeClick=function(t){var n=e.props.onSelectNode;e.props.dispatch(Object(W.b)()),n&&n(t)},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.delegatedSentryNodes;return a.a.createElement("div",{className:"DelegatedNodeSelectorModal"},a.a.createElement("div",{className:"DelegatedNodeSelectorModal__header"},a.a.createElement("div",{className:"DelegatedNodeSelectorModal__header-title"},"Select Delegated Node")),a.a.createElement("div",{className:"DelegatedNodeSelectorModal__content"},a.a.createElement("div",{className:"DelegatedNodeSelectorModal__message"},"Delegated staking Sentry Nodes are nodes run by Dnero community volunteers. Uptime of these nodes is not guaranteed, and you may not receive full DTOKEN rewards if the node you delegate to has significant downtime."),a.a.createElement("div",{className:"DelegatedNodeList"},t.map((function(t){return a.a.createElement("div",{key:t.address,className:"DelegatedNodeListItem",onClick:function(){e.onNodeClick(t)}},a.a.createElement("div",{className:"DelegatedNodeListItem__name"},a.a.createElement("span",null,t.name),a.a.createElement("span",{className:"DelegatedNodeListItem__fee"},"".concat(t.fee," Fee"))),a.a.createElement("div",{className:"DelegatedNodeListItem__address"},Object(k.r)(t.address)))})))))}}]),n}(a.a.Component),jn=Object(m.b)((function(e,t){return{delegatedSentryNodes:e.dneroWallet.delegatedSentryNodes,onSelectNode:t.onSelectNode}}))(Sn),Nn=n(190);function Tn(e){var t=e.onSubmit,n=e.defaultValues,r=e.formRef,o=(e.assets,Object(Et.a)({mode:"onChange",defaultValues:n||{address:"",symbol:"",decimals:""}})),i=o.register,c=o.handleSubmit,s=o.errors;o.watch,o.setValue;return a.a.createElement("form",{className:"TrackTokenForm",onSubmit:c(t),ref:r},a.a.createElement(yn,{title:"Token Contract Address",error:s.address&&"A valid contract address is required"},a.a.createElement("input",{name:"address",className:"RoundedInput",placeholder:"Enter contract address",ref:i({required:!0,validate:function(e){return mn.a.utils.isAddress(e)}})})),a.a.createElement(yn,{title:"Token Symbol",error:s.symbol&&"Token symbol is required"},a.a.createElement("input",{name:"symbol",className:"RoundedInput",placeholder:"Enter token symbol",ref:i({required:!0})})),a.a.createElement(yn,{title:"Token Decimals",error:s.decimals&&"Token decimals is required"},a.a.createElement("input",{name:"decimals",type:"number",className:"RoundedInput",placeholder:"Enter token decimals",ref:i({required:!0})})))}var Cn,Ln=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).onNextClick=function(){e.formRef.current.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))},e.onSubmit=function(t){var n=t.address,r=t.symbol,a=t.decimals;(n=(n=L.a.trim(n)).toLowerCase()).startsWith("0x")||(n="0x"+n),e.props.dispatch(Object(D.a)({address:L.a.trim(n),symbol:L.a.trim(r),decimals:parseInt(a)}))},e.formRef=a.a.createRef(),e}return Object(s.a)(n,[{key:"render",value:function(){return Object(Nn.a)(this.props),a.a.createElement("div",{className:"TrackTokenModal"},a.a.createElement("div",{className:"ModalTitle"},"Track Token"),a.a.createElement(Tn,{formRef:this.formRef,onSubmit:this.onSubmit}),a.a.createElement("div",{className:"TrackTokenModal__footer"},a.a.createElement(Le,{onClick:this.onNextClick,title:"Save"})))}}]),n}(a.a.Component),An=Object(m.b)((function(e){return{}}))(Ln),Pn=(Cn={},Object(J.a)(Cn,M.a.RECEIVE,tn),Object(J.a)(Cn,M.a.PRIVATE_KEY,nn),Object(J.a)(Cn,M.a.NETWORK_SELECTOR,cn),Object(J.a)(Cn,M.a.CREATE_TRANSACTION,_n),Object(J.a)(Cn,M.a.CONFIRM_TRANSACTION,fn),Object(J.a)(Cn,M.a.DELEGATED_NODE_SELECTOR,jn),Object(J.a)(Cn,M.a.TRACK_TOKEN,An),Cn),In=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e,t=this.props.modal,n=t?t.component:null,r=!1!==(null===t||void 0===t||null===(e=t.props)||void 0===e?void 0:e.closeable);return a.a.createElement(Ht.a,{isOpen:null!==t,onRequestClose:this.props.closeModal,ariaHideApp:!1,shouldCloseOnOverlayClick:r,shouldCloseOnEsc:r,overlayClassName:"ModalOverlay",className:"Modal"},t&&a.a.createElement(n,Object.assign({closeModal:this.props.closeModal},t.props)))}}]),n}(a.a.Component),Rn=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).closeModal=e.closeModal.bind(Object(I.a)(e)),e}return Object(s.a)(n,[{key:"closeModal",value:function(){this.props.dispatch(Object(W.b)())}},{key:"getModal",value:function(e){var t=L.a.get(this.props.modals,[e],null);return t&&(t=Object.assign({},t,{component:Pn[t.type]})),t}},{key:"render",value:function(){var e=this.getModal(0),t=this.getModal(1);return a.a.createElement("div",null,a.a.createElement(In,{modal:e,closeModal:this.closeModal}),a.a.createElement(In,{modal:t,closeModal:this.closeModal}))}}]),n}(a.a.Component),Dn=Object(m.b)((function(e){return{modals:e.ui.modals}}),null)(Rn),Fn=n(81),Wn=(n(913),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"UnsupportedDevice"},a.a.createElement("div",{className:"UnsupportedDevice__content"},a.a.createElement("img",{className:"UnsupportedDevice__logo",src:"/img/logo/dnero_wallet_logo@2x.png"}),a.a.createElement("div",{className:"UnsupportedDevice__title"},"This wallet is currently designed for desktop use only.")))}}]),n}(a.a.Component)),Mn=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"renderMessage",value:function(){var e=this.props.loadingMessage;return e?Object(r.isValidElement)(e)?e:a.a.createElement("span",null,e):null}},{key:"render",value:function(){return a.a.createElement("div",{className:"LoadingOverlay"},a.a.createElement("div",{className:"LoadingOverlay__container"},a.a.createElement(Oe.a,{singleColor:"#1BDED0",className:"LoadingOverlay__spinner"}),a.a.createElement("div",{className:"LoadingOverlay__message"},this.renderMessage())))}}]),n}(r.Component),Bn=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).onSendClick=e.onSendClick.bind(Object(I.a)(e)),e.onReceiveClick=e.onReceiveClick.bind(Object(I.a)(e)),e}return Object(s.a)(n,[{key:"onSendClick",value:function(){P.dispatch(Object(W.e)({type:M.a.CREATE_TRANSACTION,props:{transactionType:"send"}}))}},{key:"onReceiveClick",value:function(){P.dispatch(Object(W.e)({type:M.a.RECEIVE}))}},{key:"render",value:function(){return a.a.createElement(Z,null,a.a.createElement($,{title:"Wallet",href:"/wallet/tokens",normalIconUrl:"/img/tab-bar/wallet@2x.png",activeIconUrl:"/img/tab-bar/wallet-active@2x.png"}),a.a.createElement($,{title:"Send",onClick:this.onSendClick,normalIconUrl:"/img/tab-bar/send@2x.png",activeIconUrl:"/img/tab-bar/send-active@2x.png"}),a.a.createElement($,{title:"Receive",onClick:this.onReceiveClick,normalIconUrl:"/img/tab-bar/receive@2x.png",activeIconUrl:"/img/tab-bar/receive-active@2x.png"}),a.a.createElement($,{title:"Stakes",href:"/wallet/stakes",normalIconUrl:"/img/tab-bar/stakes@2x.png",activeIconUrl:"/img/tab-bar/stakes-active@2x.png"}),function(){var e=ne.a.getChainID();return Object(B.b)(e)}()&&a.a.createElement($,{title:"Contract",href:"/wallet/contract",normalIconUrl:"/img/tab-bar/contract@2x.png",activeIconUrl:"/img/tab-bar/contract-active@2x.png"}),a.a.createElement($,{title:"Settings",href:"/wallet/settings",normalIconUrl:"/img/tab-bar/settings@2x.png",activeIconUrl:"/img/tab-bar/settings-active@2x.png"}))}}]),n}(r.Component),Un=function(e){return{isLoading:e.ui.isLoading,loadingMessage:e.ui.loadingMessage}},Gn=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){Fn.a.setHistory(this.props.history)}},{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.loadingMessage,r=R.e.getWalletAddress();return a.a.createElement("div",{className:"App"},t&&a.a.createElement(Mn,{loadingMessage:n}),a.a.createElement(z,{centered:null===r}),a.a.createElement(Ut,null),a.a.createElement(Dn,null),a.a.createElement(Wn,null))}}]),n}(r.Component),Kn=Object(m.b)(Un,null)(Gn),Hn=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){Fn.a.setHistory(this.props.history)}},{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.loadingMessage;return a.a.createElement("div",{className:"App WalletApp"},t&&a.a.createElement(Mn,{loadingMessage:n}),a.a.createElement(z,null),a.a.createElement(Bn,null),a.a.createElement(Gt,null),a.a.createElement(Dn,null),a.a.createElement(Wn,null))}}]),n}(r.Component),qn=Object(m.b)(Un,null)(Hn),Vn=n(428),Yn=(n(920),n(59)),zn=function(e){var t=e.message,n=e.options,r=e.style,o=e.close,i=n.type,c="Alert--".concat(i),s=Yn("Alert",c);return a.a.createElement("div",{style:r,className:s},a.a.createElement("img",{src:"/img/icons/alert-".concat(i,"@2x.png"),className:"Alert__icon"}),a.a.createElement("div",{className:"Alert__message"},t),o&&a.a.createElement("button",{className:"Alert__close-button",onClick:o},a.a.createElement("img",{src:"/img/icons/alert-x@2x.png"})))},Jn={position:"top center",timeout:5e3,offset:"30px",transition:"scale"},Xn=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){R.e.controller.on("update",(function(e){P.dispatch({type:j,data:e})}))}},{key:"render",value:function(){var e=F.a.getRef();return a.a.createElement(d.a,null,a.a.createElement(m.a,{store:P},a.a.createElement(Vn.a,Object.assign({ref:e,template:zn},Jn),a.a.createElement(h.a,null,a.a.createElement(p.a,{from:"/",to:"/unlock",exact:!0}),a.a.createElement(f.a,{path:"/wallet",component:qn}),a.a.createElement(f.a,{path:"/",component:Kn})))))}}]),n}(r.Component);ct.BigNumber.config({EXPONENTIAL_AT:1e9}),i.a.render(a.a.createElement(Xn,null),document.getElementById("root")),window.onerror=function(e,t,n,r,a){console.log("Caught error...skipping")}},99:function(e,t,n){"use strict";var r={isDneroNetworkLive:!0,defaultDneroChainID:n(49).c.DNERO_MAINNET,faucetAvailable:!0};t.a=r}},[[434,1,2]]]);
//# sourceMappingURL=main.9bf51b73.chunk.js.map