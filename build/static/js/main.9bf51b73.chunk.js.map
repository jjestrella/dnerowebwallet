{"version":3,"sources":["state/actions/Api.js","services/Ethereum.js","utils/Utils.js","services/TemporaryState.js","utils/ObservableStore.js","keyrings/simple/index.js","controllers/keyring.js","utils/ComposableObservableStore.js","controllers/preferences.js","controllers/account-manager.js","controllers/transactions.js","controllers/dnero-wallet.js","services/Wallet.js","state/actions/ui.js","services/Trezor.js","services/Ledger.js","keyrings/trezor/index.js","keyrings/ledger/index.js","constants/index.js","services/Dnero.js","constants/ModalTypes.js","libs/dnerojs.esm.js","constants/assets.js","services/Alerts.js","state/actions/Wallet.js","constants/Networks.js","services/Api.js","constants/ContractModes.js","state/types/Wallet.js","constants/contracts.js","state/types/Transactions.js","state/actions/Transactions.js","constants/TokenTypes.js","state/types/ui.js","services/Router.js","state/reducers/Wallet.js","state/reducers/ui.js","state/types/DneroWallet.js","state/reducers/DneroWallet.js","state/reducers/index.js","state/index.js","components/NetworkSelector.js","components/NavBar.js","components/TabBar.js","components/TabBarItem.js","components/WalletTokenListItem.js","components/WalletTokenList.js","components/PageHeader.js","components/TransactionStatus.js","components/DneroTransactionListItem.js","components/TransactionList.js","state/selectors/Transactions.js","components/EmptyState.js","components/buttons/GhostButton.js","pages/WalletPage.js","components/buttons/GradientButton.js","pages/SettingsPage.js","pages/OnboardingPage.js","pages/CreateWalletPage.js","components/buttons/HardwareOptionButton.js","components/DropZone.js","pages/UnlockWalletPage.js","state/types/Stakes.js","components/StakesTable.js","pages/StakesPage.js","pages/OfflinePage.js","pages/ContractPage.js","Pages.js","components/Modal.js","components/Warning.js","constants/Urls.js","modals/ReceiveModal.js","modals/PrivateKeyModal.js","modals/NetworkSelectorModal.js","components/buttons/FlatButton.js","modals/ConfirmTransactionModal.js","components/FormField.js","components/transactions/SendTxForm.js","components/transactions/DepositStakeTxForm.js","components/transactions/WithdrawStakeTxForm.js","components/transactions/DelegateVoteTxForm.js","modals/CreateTransactionModal.js","modals/DelegatedNodeSelectorModal.js","modals/TrackTokenModal.js","components/Modals.js","components/UnsupportedDevice.js","components/LoadingOverlay.js","App.js","Flags.js","components/Alert.js","AppWrapper.js","index.js","Config.js"],"names":["reduxFetch","baseAction","apiFn","metadata","opts","onSuccess","onError","dispatch","getState","type","response","json","responseJSON","status","body","isResponseSuccessful","web3","Web3","dneroContract","eth","Contract","Ethereum","gasPrice","gasLimit","gasPriceWei","utils","toWei","toString","gasLimitWei","fromWei","parseInt","exception","txData","tokenType","from","to","amount","gas","amountWei","gasePriceGwei","TokenTypes","ERC20_DNERO","data","methods","transfer","encodeABI","ETHEREUM","value","genericRawTx","unsignedTransaction","estimateGas","estimatedGas","getGasPrice","address","isAddress","e","privateKey","unsignedTx","accounts","signTransaction","signedTx","rawTransaction","Error","zipMap","keys","vals","Object","assign","map","key","index","downloadFile","filename","contents","element","document","createElement","setAttribute","encodeURIComponent","style","display","appendChild","click","removeChild","copyToClipboard","str","el","position","left","selected","getSelection","rangeCount","getRangeAt","select","execCommand","removeAllRanges","addRange","onLine","online","window","navigator","truncate","hash","length","slice","numberWithCommas","x","parts","split","replace","join","getQueryParameters","searchStr","location","search","_","isNil","n","this","bind","formatDNC20TokenAmountToLargestUnit","number","decimals","bn","BigNumber","DecimalsBN","pow","dividedBy","formatNativeTokenAmountToLargestUnit","Ten18","toDNC20TokenSmallestUnit","multipliedBy","toNativeTokenSmallestUnit","toDNC20TokenLargestUnit","toNativeTokenLargestUnit","isValidAmount","selectedAccount","asset","amountBN","balanceBN","name","balances","contractAddress","lte","getAssetBalance","balance","formDataToTransaction","transactionType","txFormData","dneroWalletState","selectedAddress","tokens","chainId","network","assets","getAllAssets","assetId","find","a","id","dnc20Contract","dnerojs","DNC20ABI","populateTransaction","outputs","dneroWei","dtokenWei","SendTransaction","holder","purpose","StakePurposeForDDROP","dDropStakingAddress","DDropStakingAddressByChainId","ddropStakingContract","DDropStakingABI","percentageToUnstake","parseFloat","dnc20stakes","get","balanceStr","integerValue","unstake","unstakeTx","WithdrawStakeTransaction","holderSummary","purposeInt","StakePurpose","StakeForValidator","DepositStakeTransaction","StakeForSentry","DepositStakeV2Transaction","StakeForEliteEdge","dDropAddress","DDropAddressByChainId","ddropContract","assetsById","keyBy","dDropAsset","approve","approveTx","stake","stakeTx","dependencies","delegate","delegateTx","transactionTypeToName","txType","TxType","Send","SmartContract","DepositStake","DepositStakeV2","WithdrawStake","transactionRequestToTransactionType","transactionRequest","contractData","interface","decodeFunctionData","isHolderSummary","expectedLen","startsWith","trimDecimalPlaces","maxDecimals","newFractional","foundNonZero","char","idx","sleep","ms","Promise","r","setTimeout","TemporaryState","_walletData","ObservableStore","initState","_state","_getState","newState","_putState","emit","partialState","state","putState","handler","on","removeListener","require","EventEmitter","Type","SimpleKeyring","wallets","deserialize","resolve","w","privateKeys","reject","newWallets","i","wallet","createRandom","push","concat","walletAddresses","getAddress","fromAddress","transaction","provider","_getWalletForAccount","signedTxBytes","connect","setFrom","result","sendTransaction","addressLC","toLowerCase","includes","filter","keyringTypes","KeyringController","store","memStore","isUnlocked","krt","keyrings","all","_dataForKeyring","updateState","keyring","_getKeyringClassForType","getAccounts","then","_updateMemStoreKeyrings","fullUpdate","kr","keyringArrays","reduce","res","arr","addresses","selectedKeyring","addAccounts","forEach","txJson","_getKeyringForAccount","networkChainId","signAndSendTransaction","candidates","winners","candidate","ComposableObservableStore","config","updateStructure","removeAllListeners","prototype","hasOwnProperty","call","subscribe","flatState","controller","PreferencesController","accountTokens","assetImages","identities","lostIdentities","preferences","autoLockTimeLimit","undefined","completedOnboarding","ChainIds","Mainnet","delegatedSentryNodes","updateDelegatedSentryNodes","Array","isArray","newlyLost","identity","addAddresses","selectedAddr","getSelectedAddress","setSelectedAddress","oldIdentities","oldAccountTokens","ids","oldId","oldTokens","identityCount","_address","_updateTokens","selectedIdentity","lastSelected","Date","now","_getTokenRelatedStates","rawAddress","symbol","image","newEntry","getAssetImages","previousEntry","token","previousIndex","indexOf","_updateAccountTokens","updatedTokens","account","String","preference","currentPreferences","getPreferences","updatedPreferences","fetch","responseJson","node","fee","tokensByChainId","AccountManager","_getProvider","getProvider","_getNetwork","getNetwork","_getTokens","getTokens","_preferencesController","preferencesController","_updateIntervalId","updateAccounts","setInterval","detectNewTokens","clearInterval","locals","accountsToAdd","addr","accountsToRemove","local","removeAccounts","_updateAccount","_updateAccountTokensViaBalanceChecker","getAccount","coins","dnerowei","dtokenwei","current","tokenAddresses","trim","deployedContractAddress","SingleCallTokenBalancesAddressByChainId","balanceCheckContract","SingleCallTokenBalancesABI","balancesGroupedByAddress","chunk","addressTokenBalances","tokenBalancesByTokenAddress","tokenIdx","tokenAddress","currentBalances","stakingBalance","totalShares","estimatedDDropOwned","balanceOf","isZero","estimatedDDropOwnedBy","delegates","votingPower","ddropStakingInfo","estimatedTokenOwnedWithRewards","votingDelegate","dnc20Stakes","ddrop","stakes","explorerUrl","getExplorerUrlForChainId","explorerApiUrl","listStakesUrl","updateAccountDDropStake","knownTokenList","trackedTokens","Set","tokensToDetect","has","sliceOfTokensToDetect","tokensSlice","tokensWithBalance","addToken","TransactionsController","transactionRequests","transactions","_updateAccounts","pendingTransactionRequests","Map","request","_getTransactionRequests","_setTransactionRequests","set","transactionRequestId","tx","transactionFromJson","getEstimatedGasData","gasFeeData","transactionDepJson","transactionDep","depGasFeeData","pick","_addTransactionRequest","nanoid","onDependencySent","approval","_removeTransactionRequest","rawXact","priorityAddress","xact","timestamp","dnero","dtoken","inputs","input","output","priorityAddressLC","sortBy","txs","isEmpty","_transformTransaction","getType","gasLimitDefault","totalGasFee","callSmartContract","gasLimitWithBuffer","gas_used","Math","ceil","toNumber","gasPriceSmartContractDefault","gasPriceDefault","DneroWalletController","setProvider","sendUpdate","_sendUpdate","newNetwork","newProvider","HttpProvider","accountManager","updateAccountStakes","transactionsController","updateAccountTransactions","additionalKeyrings","TrezorKeyring","LedgerKeyring","keyringController","s","_onKeyringVaultUpdate","localStorage","setItem","JSON","stringify","RPCApi","_setupRPCApi","vault","isInitialized","Boolean","getFlatState","acc","syncAddresses","addTransactionRequest","approveTransactionRequest","_approveTransactionRequest","rejectTransactionRequest","_rejectTransactionRequest","_addToken","removeToken","_removeToken","_setSelectedAddress","setSelectedNetwork","_setSelectedNetwork","importAccount","_importAccount","_sendTransaction","_updateAccountStakes","updateAccountBalances","_updateAccountBalances","_updateAccountTransactions","connectHardware","forgetDevice","checkHardwareStatus","unlockHardwareWalletAccount","args","setNetwork","importType","encryptedJson","encryptedJsonPassword","privateKeyToImport","fromEncryptedJson","addNewKeyring","allAccounts","setAddresses","newAccount","setAccountName","start","deviceName","hdPath","keyringName","getKeyringsByType","setHdPath","EthereumDerivationPath","EthereumOtherDerivationPath","EthereumLedgerLiveDerivationPath","page","getKeyringForDevice","getPreviousPage","getNextPage","getFirstPage","oldAccounts","accountsToTrack","setAccountToUnlock","addNewAccount","keyState","newAccounts","ethUtil","WalletUnlockStrategy","KEYSTORE_FILE","MNEMONIC_PHRASE","COLD_WALLET","PRIVATE_KEY","Wallet","_wallet","setKeystore","keystore","_keystore","password","getWeb3","encrypt","keystoreJsonV3","decrypt","mnemonic","ethers","fromMnemonic","privateKeyToAccount","TrezorConnect","manifest","email","appUrl","keepSession","bundle","path","showOnTrezor","ethereumGetAddress","derivationPath","userAgent","TransportU2F","create","transport","TransportWebUSB","app","Eth","serializedPath","phrase","walletFromMnemonic","encryptToKeystore","strategy","hardware","parse","decryptFromKeystore","privateKeyBuffer","toBuffer","isValidPrivate","walletFromPrivateKey","setWallet","message","Api","fetchSequence","sequence","getWalletHardware","getKeystore","Trezor","Ledger","Dnero","currentPassword","newPassword","preferencesControllerState","getItem","getDneroWalletControllerState","showModal","modal","actionTypes","hideModal","hideModals","showLoader","hideLoader","payload","prepareTxPayload","trezorSignParams","getWalletPath","nonce","toHex","ethereumSignTransaction","error","signature","v","padStart","setSignature","signedRawTxBytes","DneroJS","TxSigner","serializeTx","signedTxRaw","ethApp","chainID","getChainID","ethTxWrapper","signBytes","sig","substring","HDKey","default","TREZOR_CONNECT_MANIFEST","hdk","perPage","unlockedAccount","paths","publicKey","getPublicKey","coin","success","Buffer","chainCode","catch","unlock","_addressFromIndex","_getPage","increment","toChecksumAddress","getSequenceOverride","getTransactionCount","setSequence","withAccount","typedData","buf","bufferToHex","pathBase","dkey","derive","publicToAddress","checksummedAddress","accountIndexes","_isBIP44","_toLedgerPath","_getETH","_getPathForIndex","_pathFromAddress","_getAccountsBIP44","_getAccountsLegacy","hex","_padLeftEven","Testnet","Privatenet","Urls","PreventingLostTokens","getMinStakeAmount","getMaxStakeAmount","getMaxDelegatedStakeAmount","newChainID","_chainId","urlBase","NetworkExplorerUrls","transactionFee","ten18","dneroWeiToSend","DNERO","dtokenWeiToSend","DNERO_TOKEN","feeInDTokenWei","senderAddr","senderSequence","SendTx","amountWeiToSend","source","StakePurposes","DepositStakeTx","DepositStakeV2Tx","WithdrawStakeTx","SmartContractTx","isValidHolderSummary","signAndSerializeTx","encodedChainID","RLP","encode","Bytes","fromString","encodedTxType","fromNumber","encodedTx","rlpInput","Config","defaultDneroChainID","RECEIVE","SEND","SEND_CONFIRMATION","DEPOSIT_STAKE","DEPOSIT_STAKE_CONFIRMATION","WITHDRAW_STAKE","WITHDRAW_STAKE_CONFIRMATION","SMART_CONTRACT_CONFIRMATION","NETWORK_SELECTOR","SENTRY_NODE_DELEGATE_SELECTOR","CONFIRM_TRANSACTION","CREATE_TRANSACTION","DELEGATED_NODE_SELECTOR","TRACK_TOKEN","Tx","isHexStrict","isString","isNumber","test","hexToBytes","bytes","c","substr","pad","size","addToV","bnFromString","base","encodeWei","wei","isEqualTo","fromNat","Coins","TxInput","TxOutput","EthereumTx","totalDneroWeiBN","totalDtokenWeiBN","feeInDTokenWeiBN","isBigNumber","dneroWeiBN","dtokenWeiBN","plus","txInput","j","txOutput","sigz","signedBytes","console","log","numInputs","numOutputs","inputBytesArray","outputBytesArray","StakeTx","holderAddress","stakeInDneroWei","stakeInDneroWeiBN","stakeInWeiBN","nodeKeyBytes","toArray","holderAddressBytes","blsPubkeyBytes","blsPopBytes","holderSigBytes","fromArray","summary","secp256k1","elliptic","ec","sign","keyFromPrivate","canonical","flatten","encodeSignature","recoveryParam","signTx","txHash","returnValue","Hash","keccak256","sha3","toAddress","valueWeiBN","Utils","bytesToHex","getTokenIconUrl","fileName","DneroAsset","iconUrl","balanceKey","DTokenAsset","NativeAssets","DDropAsset","ddropAddress","DNC20Asset","tokenAssets","tokenToAsset","tokenAssetsWithoutTdrop","DNC20Assets","ddropAsset","DefaultAssets","knownToken","logo","Alerts","_reactAlertRef","showFn","getRef","_show","React","createRef","networkId","setChainID","SET_NETWORK","unlockWallet","showError","SET_WALLET_ADDRESS","Router","logout","setWalletData","RESET","resetTransactionsState","reload","shouldShowLoader","tokenData","capitalize","err","Networks","__deprecated__ETHEREUM","DNERO_TESTNET","DNERO_TESTNET_AMBER","DNERO_TESTNET_SAPPHIRE","DNERO_MAINNET","DNERO_PRIVATENET","NetworksWithDescriptions","description","faucetId","NetworksById","canViewSmartContracts","getNetworkName","getNetworkFaucetId","DEFAULT_HEADERS","objectToQueryString","object","queryString","sendRequest","method","additionalHeaders","queryParams","url","buildURL","headers","buildHeaders","GET","POST","transactionID","chain","DEPLOY","INTERACT","EXECUTE","CALL","FETCH_WALLET_ETHEREUM_BALANCES","FETCH_WALLET_ETHEREUM_BALANCES_START","FETCH_WALLET_ETHEREUM_BALANCES_END","FETCH_WALLET_ETHEREUM_BALANCES_SUCCESS","FETCH_WALLET_BALANCES","FETCH_WALLET_BALANCES_START","FETCH_WALLET_BALANCES_END","FETCH_WALLET_BALANCES_SUCCESS","FETCH_TRANSACTIONS_ETHEREUM","FETCH_TRANSACTIONS_ERC20","FETCH_TRANSACTIONS_DNERO","CREATE_SEND_TRANSACTION","CREATE_DEPOSIT_STAKE_TRANSACTION","CREATE_WITHDRAW_STAKE_TRANSACTION","CREATE_SMART_CONTRACT_TRANSACTION","FETCH_TRANSACTION","fetchDneroTransactions","createSmartContractTransaction","contractMode","contractAbi","getWalletAddress","SmartContractTransaction","callResult","createTransactionRequest","toJson","ContractModes","contractABIB64","btoa","ModalTypes","props","closeable","totalTransactions","verifyPassword","href","humanizedErrorMessage","humanizeErrorMessage","SHOW_LOADER","HIDE_LOADER","SHOW_MODAL","HIDE_MODAL","HIDE_MODALS","history","_history","INITIAL_STATE","dneroWallet","isFetchingBalances","isFetchingEthereumBalances","balancesByType","balancesRefreshedAt","ethereumBalances","ethereumBalancesByType","modals","isLoading","loadingMessage","UPDATE_DNERO_WALLET_STATE","rootReducer","combineReducers","action","ui","middlewares","createLogger","thunkMiddleware","middleware","isFunction","createStore","applyMiddleware","NetworkSelector","onClick","selectedNetwork","className","backgroundColor","color","Component","ownProps","selectedChainId","getNetworkForChainId","classNames","NavBar","onNetworkBadgeClick","alert","copyAddress","showSuccess","src","centered","flexDirection","alignItems","renderAccountIfNeeded","TabBar","condensed","children","TabBarItem","NavLink","activeClassName","normalIconUrl","alt","title","activeIconUrl","target","WalletTokenListItem","WalletTokenList","onAddTokenClick","moment","fromNow","getAccountExplorerUrl","rel","PageHeader","sticky","TransactionStatus","bound","isLocal","isInbound","text","PureComponent","DneroTransactionListItem","is_local","isReceived","getTransactionExplorerUrl","dneroAmount","dtokenAmount","unix","TransactionList","createList","getLocalTransactionsByHash","localTransactionsByHash","getEthereumNetworkTransactionsByType","ethereumNetworkTransactionsByType","transformDneroNetworkTransaction","walletAddress","sortDneroNetworkTransactionOutputs","transformEthereumNetworkTransaction","getTransformedEthereumNetworkTransactions","transactionsByType","scopedTransactions","txTransformer","partial","time_stamp","reverse","transactionHashes","localTransactions","values","allTransactions","uniqBy","createSelector","isNotNil","negate","getTransformedTransactions","EmptyState","icon","subtitle","GhostButton","innerContent","disabled","loading","singleColor","WalletPage","pollWalletBalancesIntervalId","handleSendClick","handleReceiveClick","match","params","fetchTransactions","nextProps","nextTokenType","isLoadingTransactions","marginLeft","marginTop","marginBottom","GradientButton","Link","ExportKeystoreContent","defaultState","passwordConfirmation","handleChange","prepareForExport","exportKeystore","setState","event","validate","placeholder","onChange","isValid","SettingsSection","SettingsPage","canExport","getWallet","OnboardingSteps","OnboardingPage","onboardingStep","onboardingImageUrl","footerContent","Fragment","WalletCreationCompleteCard","MnemonicCard","showPrivateKey","onContinue","MnemonicWarningCard","ChoosePasswordCard","agreedToTerms","checked","createWallet","htmlFor","prepareForWalletCreation","CreateWalletPage","currentStep","walletData","getWalletData","card","footer","pageTitle","continue","HardwareOptionButton","isSelected","DropZone","active","handleDragOver","handleDragEnter","handleDragLeave","handleDrop","preventDefault","files","dataTransfer","onDrop","addEventListener","removeEventListener","UnlockWalletViaPrivateKey","handleKeyPress","handleUnlockClick","prepareForUnlock","isDisabled","ref","passwordInput","onKeyPress","UnlockWalletViaMnemonicPhrase","UnlockWalletViaKeystoreFile","fileInput","droppedFile","handleKeystoreFileDrop","keystoreFile","fileFromInput","focus","file","keystoreData","fileToLoad","fileReader","FileReader","onload","onKeystoreFileLoad","readAsText","fileInputClassName","HardwareAccountsList","hardwareAccounts","hardwareAccount","renderHardwareAccount","UnlockWalletViaColdWalletUnconnected","goToNextPage","goToPrevPage","onChooseHardwareAccount","handleChooseHardwareClick","handleTrezorClick","handleLedgerClick","handleDerivationPathChange","nextState","nextContext","warning","flex","UnlockWalletViaColdWallet","UnlockWalletCard","unlockWalletStrategyContent","unlockStrategy","UnlockWalletPage","FETCH_STAKES","stakeTypeToTokenUrl","stakeType","StakesTableRow","withdrawn","return_height","amountBn","StakesTable","_id","cellSpacing","cellPadding","createRows","StakesPage","handleDepositStakeClick","handleWithdrawStakeClick","handleChangeDDROPVoteDelegateClick","fetchStakes","renderDDROPCard","votingPowerStr","estimatedDDROPStr","pollStakesIntervalId","startPollingStakes","stopPollingStakes","OfflineCard","OfflinePage","handleContinue","isReadFunction","functionData","constant","stateMutability","initContract","abiStr","abiJSON","parseJSON","validateByteCode","isValidByteCode","validateAddress","validateABI","isValidABI","validateFunctionName","getFunctions","jsonInterface","o","getConstructor","constructors","first","Inputs","formHook","register","errors","argName","required","val","DeployContractForm","onSubmit","useForm","mode","handleSubmit","watch","abi","byteCode","contract","constructor","constructorInputs","InteractWithContractForm","defaultFormValues","defaultValues","merge","functionName","setValue","useState","lastFormState","setLastFormState","formState","isDirty","isEqual","useEffect","functions","functionsByName","functionInputs","isFunctionReadOnly","DeployContractContent","formData","byteCodeJson","constructorInputTypes","constructorInputValues","encodedParameters","encodeParameters","InteractWithContractContent","functionOutputs","functionSignature","inputTypes","inputValues","getSmartContractGasPrice","unsignedSmartContractTx","rawTxBytes","callResponse","callResponseJSON","decodedParameters","decodeParameters","vm_error","readOnly","ContractPage","atob","width","Pages","Switch","Redirect","exact","Route","component","WalletPages","unlocked","Modal","Warning","learnMoreHref","combinedClassName","ReceiveModal","handleCopyAddressClick","handleDisplayOnLedgerClick","handleFaucetClick","callFaucet","qrCodeURL","hasFaucet","faucetAvailable","PrivateKeyModal","close","OrderedNetworks","EliteEdgeTestnet","NetworkSelectorModal","onNetworkClick","classes","FlatButton","sizeClass","borderless","renderDataRow","suffix","isLarge","ConfirmTransactionModal","onConfirmClick","onRejectClick","renderDataRows","stakePurpose","transactionName","transferToAddress","transferToValue","calculateTotalGasPrice","dependencyGasFee","estimatedGasFee","txDataRows","passwordRow","FormField","SendTxForm","formRef","sufficientBalance","moreThanZero","maxDtokenBN","minus","maxWidth","DepositStakeTxForm","onShowDelegatedSentryNodes","delegatedSentryNode","holderTitle","holderPlaceholder","stakeAmountTitle","height","node_summary","textAlign","moreThanMin","f","min","lessThanMax","max","WithdrawStakeTxForm","lessThanOrEqualTo100","formattedAmt","renderEstDDROPToReturn","DelegateVoteTxForm","CreateTransactionModal","onNextClick","dispatchEvent","Event","cancelable","bubbles","deps","depTx","onSelectNode","l","toUpperCase","DelegatedNodeSelectorModal","onNodeClick","TrackTokenForm","TrackTokenModal","ModalComponentByType","ModalContainer","ModalComponent","isOpen","onRequestClose","closeModal","ariaHideApp","shouldCloseOnOverlayClick","shouldCloseOnEsc","overlayClassName","Modals","modalData","modal1","getModal","modal2","UnsupportedDevice","LoadingOverlay","isValidElement","renderMessage","WalletTabBar","onSendClick","onReceiveClick","areSmartContractsAvailable","mapStateToProps","UnconnectedApp","setHistory","App","UnconnectedWalletApp","WalletApp","Alert","options","typeModifierClass","timeout","offset","transition","process","alertRef","BrowserRouter","template","EXPONENTIAL_AT","ReactDOM","render","getElementById","onerror","line","col","isDneroNetworkLive"],"mappings":"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","file":"static/js/main.9bf51b73.chunk.js","sourcesContent":["import { isResponseSuccessful } from '../../services/Api'\n\nexport function reduxFetch(baseAction, apiFn, metadata = {}, opts = {}) {\n    let {onSuccess, onError} = opts;\n\n    return async function(dispatch, getState){\n        dispatch({\n            type : `${baseAction}/START`,\n            metadata: metadata\n        });\n\n        try {\n            let response = await apiFn();\n\n            if(response){\n                let responseJSON = await response.json();\n\n                response = {\n                    status: response.status,\n                    body: responseJSON\n                }\n            }\n\n            if(isResponseSuccessful(response)){\n                dispatch({\n                    type : `${baseAction}/SUCCESS`,\n                    response : response,\n                    metadata: metadata\n                });\n\n                if(onSuccess){\n                    onSuccess(dispatch, response);\n                }\n            }\n            else{\n                dispatch({\n                    type : `${baseAction}/FAILURE`,\n                    response : null,\n                    metadata: metadata\n                });\n\n                if(onError){\n                    onError(dispatch, response);\n                }\n            }\n\n\n        }\n        catch (e) {\n            // Failed to parse\n            dispatch({\n                type : `${baseAction}/FAILURE`,\n                response : null,\n                metadata: metadata\n            });\n\n            if(onError){\n                onError(dispatch, null);\n            }\n        }\n        finally {\n            dispatch({\n                type : `${baseAction}/END`,\n                metadata: metadata\n            });\n        }\n    };\n}\n","import Web3 from 'web3';\nimport TokenTypes from \"../constants/TokenTypes\";\n\nconst rpcURL = \"https://mainnet.infura.io/v3/40980e2189924c8abfc5f60dd2e5dc4b\";\nconst web3 = new Web3(rpcURL);\n\nconst dneroAbi = [{\"constant\":true,\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\",\"signature\":\"0x06fdde03\"},{\"constant\":false,\"inputs\":[{\"name\":\"_spender\",\"type\":\"address\"},{\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\",\"signature\":\"0x095ea7b3\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalSupply\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\",\"signature\":\"0x18160ddd\"},{\"constant\":false,\"inputs\":[{\"name\":\"_from\",\"type\":\"address\"},{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\",\"signature\":\"0x23b872dd\"},{\"constant\":true,\"inputs\":[],\"name\":\"getController\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\",\"signature\":\"0x3018205f\"},{\"constant\":true,\"inputs\":[],\"name\":\"decimals\",\"outputs\":[{\"name\":\"\",\"type\":\"uint8\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\",\"signature\":\"0x313ce567\"},{\"constant\":false,\"inputs\":[{\"name\":\"_newController\",\"type\":\"address\"}],\"name\":\"changeController\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\",\"signature\":\"0x3cebb823\"},{\"constant\":false,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"},{\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"mint\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\",\"signature\":\"0x40c10f19\"},{\"constant\":false,\"inputs\":[{\"name\":\"_unlockTime\",\"type\":\"uint256\"}],\"name\":\"changeUnlockTime\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\",\"signature\":\"0x48f1cfdb\"},{\"constant\":true,\"inputs\":[],\"name\":\"getUnlockTime\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\",\"signature\":\"0x602bc62b\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"name\":\"balance\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\",\"signature\":\"0x70a08231\"},{\"constant\":false,\"inputs\":[{\"name\":\"_addr\",\"type\":\"address\"}],\"name\":\"allowPrecirculation\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\",\"signature\":\"0x8ef16d02\"},{\"constant\":true,\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\",\"signature\":\"0x95d89b41\"},{\"constant\":true,\"inputs\":[{\"name\":\"_addr\",\"type\":\"address\"}],\"name\":\"isPrecirculationAllowed\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\",\"signature\":\"0x99d84045\"},{\"constant\":false,\"inputs\":[{\"name\":\"_to\",\"type\":\"address\"},{\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"transfer\",\"outputs\":[{\"name\":\"success\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\",\"signature\":\"0xa9059cbb\"},{\"constant\":false,\"inputs\":[{\"name\":\"_addr\",\"type\":\"address\"}],\"name\":\"disallowPrecirculation\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\",\"signature\":\"0xcc481912\"},{\"constant\":true,\"inputs\":[{\"name\":\"_owner\",\"type\":\"address\"},{\"name\":\"_spender\",\"type\":\"address\"}],\"name\":\"allowance\",\"outputs\":[{\"name\":\"remaining\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\",\"signature\":\"0xdd62ed3e\"},{\"constant\":true,\"inputs\":[],\"name\":\"controller\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\",\"signature\":\"0xf77c4791\"},{\"inputs\":[{\"name\":\"_unlockTime\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_from\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_to\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\",\"signature\":\"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"name\":\"_owner\",\"type\":\"address\"},{\"indexed\":true,\"name\":\"_spender\",\"type\":\"address\"},{\"indexed\":false,\"name\":\"_value\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\",\"signature\":\"0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925\"}];\nconst dneroContractAddress = '0x3883f5e181fccaF8410FA61e12b59BAd963fb645';\nconst dneroContract = new web3.eth.Contract(dneroAbi, dneroContractAddress);\n\nexport default class Ethereum {\n    static getWeb3(){\n        return web3;\n    }\n\n    static getTransactionFee(gasPrice, gasLimit){\n        try {\n            let gasPriceWei = web3.utils.toWei(gasPrice.toString(), 'Gwei');\n            let gasLimitWei = gasLimit.toString();\n\n            return web3.utils.fromWei((parseInt(gasPriceWei) * parseInt(gasLimitWei)).toString());\n        } catch (exception) {\n            return null;\n        }\n    }\n\n    static unsignedTransaction(txData) {\n        let { tokenType, from, to, amount, gas, gasPrice} = txData;\n        let amountWei = web3.utils.toWei(amount);\n        let gasePriceGwei = web3.utils.toWei(gasPrice.toString(), 'Gwei');\n\n        if (tokenType === TokenTypes.ERC20_DNERO) {\n            let data = dneroContract.methods.transfer(to, amountWei).encodeABI();\n\n            return {\n                from: from,\n                to: dneroContractAddress,\n                data: data,\n                gas: gas,\n                gasPrice: gasePriceGwei,\n            };\n        } else if(tokenType === TokenTypes.ETHEREUM) {\n            return {\n                from: from,\n                to: to,\n                value: amountWei,\n                gas: gas,\n                gasPrice: gasePriceGwei\n            }\n        }\n    }\n\n    static async estimateGas(txData) {\n        try {\n            let genericRawTx = Ethereum.unsignedTransaction(txData);\n            let estimatedGas = await web3.eth.estimateGas(genericRawTx);\n\n            return estimatedGas;\n        } catch (exception) {\n            return null;\n        }\n    }\n\n    static async getGasPrice(){\n        try {\n            let gasPrice = await web3.eth.getGasPrice();\n\n            if(gasPrice){\n                return parseInt(web3.utils.fromWei(gasPrice, 'Gwei')) + 1;\n            }\n            else{\n                return null;\n            }\n        } catch (exception) {\n            return null;\n        }\n    }\n\n    static isAddress(address){\n        try {\n            return web3.utils.isAddress(address);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n\n    static async signTransaction(txData, privateKey){\n        let unsignedTx = Ethereum.unsignedTransaction(txData);\n        let signedTx = await web3.eth.accounts.signTransaction(unsignedTx, privateKey);\n\n        if(signedTx){\n            return signedTx.rawTransaction;\n        }\n        else{\n            throw new Error(\"Failed to sign transaction.\");\n        }\n    }\n}","import _ from 'lodash';\nimport Networks from '../constants/Networks'\nimport BigNumber from 'bignumber.js';\nimport {Ten18} from '@dnerolabs/dnero-js/src/constants';\nimport {DefaultAssets, getAllAssets, tokenToAsset} from \"../constants/assets\";\nimport * as dnerojs from \"@dnerolabs/dnero-js\";\nimport {DDropStakingABI, DNC20ABI} from \"../constants/contracts\";\nimport {StakePurposeForDDROP, DDropAddressByChainId, DDropStakingAddressByChainId} from \"../constants\";\n\n\n/**\n * Returns a new object with vals mapped to keys\n * @param {Array} keys\n * @param {Array} vals\n * @return {Object}\n */\nexport function zipMap(keys, vals){\n    return Object.assign({}, ...keys.map((key, index) => ({[key]: vals[index]})));\n}\n\nexport function trimWhitespaceAndNewlines(str){\n    return str.trim().replace(new RegExp('\\s?\\r?\\n','g'), '')\n}\n\nexport function hasValidDecimalPlaces(str, maxDecimalPlaces){\n    if(str === null){\n        return true;\n    }\n\n    //Ensure it is a string\n    var ensureStr = '' + str;\n\n    var decimalSplit = ensureStr.split('.');\n\n    if(decimalSplit.length > 0){\n        var decimals = decimalSplit[decimalSplit.length - 1];\n\n        return (decimals.length <= maxDecimalPlaces);\n    }\n    return true;\n}\n\nexport function downloadFile(filename, contents){\n    let element = document.createElement('a');\n\n    element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(contents));\n    element.setAttribute('download', filename);\n    element.style.display = 'none';\n\n    document.body.appendChild(element);\n\n    element.click();\n\n    document.body.removeChild(element);\n}\n\nexport function copyToClipboard(str){\n    //https://gist.githubusercontent.com/Chalarangelo/4ff1e8c0ec03d9294628efbae49216db/raw/cbd2d8877d4c5f2678ae1e6bb7cb903205e5eacc/copyToClipboard.js\n\n    const el = document.createElement('textarea');  // Create a <textarea> element\n    el.value = str;                                 // Set its value to the string that you want copied\n    el.setAttribute('readonly', '');                // Make it readonly to be tamper-proof\n    el.style.position = 'absolute';\n    el.style.left = '-9999px';                      // Move outside the screen to make it invisible\n    document.body.appendChild(el);                  // Append the <textarea> element to the HTML document\n    const selected =\n        document.getSelection().rangeCount > 0        // Check if there is any content selected previously\n            ? document.getSelection().getRangeAt(0)     // Store selection if found\n            : false;                                    // Mark as false to know no selection existed before\n    el.select();                                    // Select the <textarea> content\n    document.execCommand('copy');                   // Copy - only works as a result of a user action (e.g. click events)\n    document.body.removeChild(el);                  // Remove the <textarea> element\n    if (selected) {                                 // If a selection existed before copying\n        document.getSelection().removeAllRanges();    // Unselect everything on the HTML document\n        document.getSelection().addRange(selected);   // Restore the original selection\n    }\n}\n\nexport function onLine(){\n    let online = true;\n\n    try {\n        online = window.navigator.onLine;\n    }\n    catch (e) {\n        online = true;\n    }\n\n    return online;\n}\n\nexport const truncate = (hash = '', length= 4) => {\n    return hash.slice(0, (length + 2)) + '...' + hash.slice((length * -1));\n};\n\nexport function legacyTruncate(fullStr, strLen, separator) {\n    if(!fullStr){\n        return fullStr;\n    }\n\n    if (fullStr.length <= strLen) return fullStr;\n\n    separator = separator || '...';\n\n    var sepLen = separator.length,\n        charsToShow = strLen - sepLen,\n        frontChars = Math.ceil(charsToShow/2),\n        backChars = Math.floor(charsToShow/2);\n\n    return fullStr.substr(0, frontChars) +\n        separator +\n        fullStr.substr(fullStr.length - backChars);\n}\n\nexport function numberWithCommas(x) {\n    var parts = x.toString().split(\".\");\n    parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    return parts.join(\".\");\n}\n\nexport function getQueryParameters(str) {\n    const searchStr = (str || document.location.search);\n\n    if(_.isNil(searchStr) || searchStr.length === 0){\n        return {};\n    }\n    else{\n        return searchStr.replace(/(^\\?)/,'').split(\"&\").map(function(n){return n = n.split(\"=\"),this[n[0]] = n[1],this}.bind({}))[0];\n    }\n}\n\nexport function chainIDStringToNumber(chainIDstr) {\n    switch(chainIDstr) {\n        case Networks.DNERO_MAINNET:\n            return 361;\n        case Networks.DNERO_PRIVATENET:\n            return 366;\n        case Networks.DNERO_TESTNET:\n            return 365;\n    }\n    return 0;\n}\n\n\n\n\n\nexport const formatDNC20TokenAmountToLargestUnit = (number, decimals ) => {\n    const bn = new BigNumber(number);\n    const DecimalsBN = (new BigNumber(10)).pow(decimals);\n    // Round down\n    const fixed = bn.dividedBy(DecimalsBN).toString(10);\n\n    return numberWithCommas(fixed);\n};\n\nexport const formatNativeTokenAmountToLargestUnit = (number ) => {\n    const bn = new BigNumber(number);\n    const fixed = bn.dividedBy(Ten18).toString(10);\n\n    return numberWithCommas(fixed);\n};\n\nexport const toDNC20TokenSmallestUnit = (number, decimals ) => {\n    const bn = new BigNumber(number);\n    const DecimalsBN = (new BigNumber(10)).pow(decimals);\n    return bn.multipliedBy(DecimalsBN);\n};\n\nexport const toNativeTokenSmallestUnit = (number ) => {\n    const bn = new BigNumber(number);\n    return bn.multipliedBy(Ten18);\n};\n\nexport const toDNC20TokenLargestUnit = (number, decimals ) => {\n    const bn = new BigNumber(number);\n    const DecimalsBN = (new BigNumber(10)).pow(decimals);\n    return bn.dividedBy(DecimalsBN);\n};\n\nexport const toNativeTokenLargestUnit = (number ) => {\n    const bn = new BigNumber(number);\n    return bn.dividedBy(Ten18);\n};\n\nexport const isValidAmount = (selectedAccount, asset, amount) => {\n    let amountBN = null;\n    let balanceBN = null;\n\n    if(_.isNil(asset)){\n        // Return as valid so we don't show errors before asset is picked.\n        return true;\n    }\n\n    if(asset.name === 'Dnero'){\n        amountBN = toNativeTokenSmallestUnit('' + amount);\n        balanceBN = new BigNumber(selectedAccount.balances['dnerowei']);\n    }\n    else if(asset.name === 'Dnero Token'){\n        amountBN = toNativeTokenSmallestUnit('' + amount);\n        balanceBN = new BigNumber(selectedAccount.balances['dtokenwei']);\n    }\n    else{\n        // TNT-20 token\n        amountBN = toDNC20TokenSmallestUnit('' + amount, asset.decimals);\n        balanceBN = new BigNumber(selectedAccount.balances[asset.contractAddress]);\n    }\n\n    return amountBN.lte(balanceBN);\n};\n\nexport const getAssetBalance = (selectedAccount, asset) => {\n    if(asset.name === 'Dnero'){\n        return formatNativeTokenAmountToLargestUnit(selectedAccount.balances['dnerowei']);\n    }\n    if(asset.name === 'Dnero Token'){\n        return formatNativeTokenAmountToLargestUnit(selectedAccount.balances['dtokenwei']);\n    }\n\n    const balance = selectedAccount.balances[asset.contractAddress] || '0';\n    return formatDNC20TokenAmountToLargestUnit(balance, asset.decimals);\n};\n\n\nexport const formDataToTransaction = async (transactionType, txFormData, dneroWalletState) => {\n    const accounts = dneroWalletState.accounts;\n    const selectedAddress = dneroWalletState.selectedAddress;\n    const selectedAccount = accounts[selectedAddress];\n    const tokens = dneroWalletState.tokens;\n    const chainId = dneroWalletState.network.chainId;\n    const assets = getAllAssets(chainId, tokens);\n\n    if (transactionType === 'send') {\n        const {to, assetId, amount} = txFormData;\n        const asset = _.find(assets, function (a) {\n            return a.id === assetId;\n        });\n\n        if (asset.contractAddress) {\n            // DNC20 token\n            // TODO ensure they have the balance\n            const dnc20Contract = new dnerojs.Contract(asset.contractAddress, DNC20ABI, null);\n            const amountBN = toDNC20TokenSmallestUnit(amount, asset.decimals);\n            return await dnc20Contract.populateTransaction.transfer(to, amountBN.toString());\n        }\n        else {\n            // Native token\n            const txData = {\n                from: selectedAddress,\n                outputs: [\n                    {\n                        address: to,\n                        dneroWei: (assetId === 'dnero' ? dnerojs.utils.toWei(amount) : '0'),\n                        dtokenWei: (assetId === 'dtoken' ? dnerojs.utils.toWei(amount) : '0')\n                    }\n                ]\n            };\n\n            return new dnerojs.transactions.SendTransaction(txData);\n        }\n    }\n    if(transactionType === 'withdraw-stake'){\n        const {holder, purpose, amount} = txFormData;\n        const purposeInt = parseInt(purpose);\n\n        if(purposeInt === StakePurposeForDDROP){\n            const dDropStakingAddress = DDropStakingAddressByChainId[chainId];\n            const ddropStakingContract = new dnerojs.Contract(dDropStakingAddress, DDropStakingABI, null);\n            const percentageToUnstake = parseFloat(amount) / 100;\n            const dnc20stakes = _.get(selectedAccount, ['dnc20Stakes'], {});\n            const balanceStr = _.get(dnc20stakes, 'ddrop.balance', '0');\n            const balanceBN = new BigNumber(balanceStr);\n            const amountBN = balanceBN.multipliedBy(percentageToUnstake).integerValue();\n            const unstakeTx = await ddropStakingContract.populateTransaction.unstake(amountBN.toString());\n\n            return unstakeTx;\n        }\n        else{\n            const txData = {\n                holder: holder,\n                purpose: purpose\n            };\n\n            return new dnerojs.transactions.WithdrawStakeTransaction(txData);\n        }\n    }\n    if(transactionType === 'deposit-stake'){\n        const {holder, holderSummary, purpose, amount} = txFormData;\n        const purposeInt = parseInt(purpose);\n\n        if(purposeInt === dnerojs.constants.StakePurpose.StakeForValidator){\n            const txData = {\n                holder: holder,\n                purpose: purposeInt,\n                amount: dnerojs.utils.toWei(amount),\n            };\n\n            return new dnerojs.transactions.DepositStakeTransaction(txData);\n        }\n        else if(purposeInt === dnerojs.constants.StakePurpose.StakeForSentry){\n            const txData = {\n                holderSummary: holderSummary,\n                purpose: purposeInt,\n                amount: dnerojs.utils.toWei(amount),\n            };\n\n            return new dnerojs.transactions.DepositStakeV2Transaction(txData);\n        }\n        else if(purposeInt === dnerojs.constants.StakePurpose.StakeForEliteEdge){\n            const txData = {\n                holderSummary: holderSummary,\n                purpose: purposeInt,\n                amount: dnerojs.utils.toWei(amount),\n            };\n\n            return new dnerojs.transactions.DepositStakeV2Transaction(txData);\n        }\n        else if(purposeInt === StakePurposeForDDROP){\n            const dDropAddress = DDropAddressByChainId[chainId];\n            const dDropStakingAddress = DDropStakingAddressByChainId[chainId];\n            const ddropContract = new dnerojs.Contract(dDropAddress, DNC20ABI, null);\n            const ddropStakingContract = new dnerojs.Contract(dDropStakingAddress, DDropStakingABI, null);\n            const assetsById = _.keyBy(assets, 'id');\n            const dDropAsset = assetsById[dDropAddress];\n            const amountBN = toDNC20TokenSmallestUnit(amount, dDropAsset.decimals);\n            const approveTx = await ddropContract.populateTransaction.approve(dDropStakingAddress,amountBN.toString());\n            const stakeTx = await ddropStakingContract.populateTransaction.stake(amountBN.toString());\n            // We are sending the approve TX in the background which fails because the amount hasn't been approved yet...so we will hardcode this gas limit for now\n            stakeTx.gasLimit = 150000;\n            stakeTx.dependencies = [\n                approveTx\n            ];\n\n            return stakeTx;\n        }\n    }\n    else if(transactionType === 'delegate-ddrop-vote'){\n        const {address} = txFormData;\n        const dDropStakingAddress = DDropStakingAddressByChainId[chainId];\n        const ddropStakingContract = new dnerojs.Contract(dDropStakingAddress, DDropStakingABI, null);\n        const delegateTx = await ddropStakingContract.populateTransaction.delegate(address);\n\n        return delegateTx;\n    }\n};\n\nexport const transactionTypeToName = (txType) => {\n    if(_.isNil(txType)){\n        return  null;\n    }\n\n    switch (txType) {\n        case dnerojs.constants.TxType.Send:\n            return 'Send';\n        case dnerojs.constants.TxType.SmartContract:\n            return 'Call Contract';\n        case dnerojs.constants.TxType.DepositStake:\n            return 'Deposit Stake';\n        case dnerojs.constants.TxType.DepositStakeV2:\n            return 'Deposit Stake';\n        case dnerojs.constants.TxType.WithdrawStake:\n            return 'Withdraw Stake';\n        default:\n            return 'Unknown type';\n    }\n};\n\nexport const transactionRequestToTransactionType = (transactionRequest) => {\n    const txType = _.get(transactionRequest, 'txType');\n    const txData = _.get(transactionRequest, 'txData');\n\n    try {\n        if(txType === dnerojs.constants.TxType.SmartContract && _.isNil(_.get(txData, 'to'))){\n            return 'Deploy Contract';\n        }\n\n        const contractData = _.get(txData, 'data');\n        const dnc20Contract = new dnerojs.Contract(null, DNC20ABI, null);\n        const data = dnc20Contract.interface.decodeFunctionData('transfer(address,uint256)',contractData);\n        return 'Transfer Token';\n    }\n    catch (e) {\n\n    }\n\n    return transactionTypeToName(txType);\n};\n\nexport const isHolderSummary = (holderSummary) => {\n    if(holderSummary){\n        let expectedLen = 458;\n\n        if(holderSummary.startsWith('0x')){\n            expectedLen = expectedLen + 2;\n        }\n\n        return (holderSummary.length === expectedLen);\n    }\n    else{\n        return false;\n    }\n};\n\nexport function trimDecimalPlaces(x, maxDecimals) {\n    let parts = x.split('.');\n    let newFractional = '';\n    let foundNonZero = false;\n\n    _.map(parts[1], (char, idx) => {\n        if(foundNonZero){\n            return;\n        }\n        if((idx + 1) > maxDecimals){\n            return;\n        }\n\n        if(char !== '0'){\n            foundNonZero = true;\n        }\n        newFractional = newFractional + char;\n    });\n\n    parts[1] = newFractional;\n\n    return parts.join('.');\n}\n\nexport const sleep = (ms) => {\n    return new Promise(r => setTimeout(r, ms));\n};\n","export default class TemporaryState {\n    static _walletData = null;\n\n    static getWalletData() {\n        return this._walletData;\n    }\n\n    static setWalletData(data) {\n        this._walletData = data;\n    }\n}","const { EventEmitter } = require('events');\n\nexport default class ObservableStore extends EventEmitter {\n\n    constructor (initState = {}) {\n        super();\n        // set init state\n        this._state = initState;\n    }\n\n    // wrapper around internal getState\n    getState () {\n        return this._getState();\n    }\n\n    // wrapper around internal putState\n    putState (newState) {\n        this._putState(newState);\n        this.emit('update', newState);\n    }\n\n    updateState (partialState) {\n        // if non-null object, merge\n        if (partialState && typeof partialState === 'object') {\n            const state = this.getState();\n            const newState = Object.assign({}, state, partialState);\n            this.putState(newState);\n            // if not object, use new value\n        } else {\n            this.putState(partialState);\n        }\n    }\n\n    // subscribe to changes\n    subscribe (handler) {\n        this.on('update', handler);\n    }\n\n    // unsubscribe to changes\n    unsubscribe (handler) {\n        this.removeListener('update', handler);\n    }\n\n    //\n    // private\n    //\n\n    // read from persistence\n    _getState () {\n        return this._state;\n    }\n\n    // write to persistence\n    _putState (newState) {\n        this._state = newState;\n    }\n}\n","import * as dnerojs from '@dnerolabs/dnero-js';\n\nconst { EventEmitter } = require('events');\n\nconst Type = 'SimpleKeyring';\n\nclass SimpleKeyring extends EventEmitter{\n    constructor (opts) {\n        super();\n        this.type = Type;\n        this.wallets = [];\n        this.deserialize(opts);\n    }\n\n    serialize () {\n        return Promise.resolve(this.wallets.map((w) => w.privateKey));\n    }\n\n    deserialize (privateKeys = []) {\n        return new Promise((resolve, reject) => {\n            try {\n                this.wallets = privateKeys.map((privateKey) => {\n                    const wallet = new dnerojs.Wallet(privateKey);\n                    return wallet;\n                });\n            } catch (e) {\n                reject(e);\n            }\n            resolve();\n        });\n    }\n\n    addAccounts (n = 1) {\n        const newWallets = [];\n        for (let i = 0; i < n; i++) {\n            const wallet = dnerojs.Wallet.createRandom(null);\n            newWallets.push(wallet);\n        }\n        this.wallets = this.wallets.concat(newWallets);\n        const walletAddresses = newWallets.map((w) => w.getAddress());\n        return Promise.resolve(walletAddresses);\n    }\n\n    getAccounts () {\n        return Promise.resolve(this.wallets.map((w) => w.getAddress()));\n    }\n\n    signTransaction (fromAddress, transaction, provider) {\n        let wallet = this._getWalletForAccount(fromAddress);\n        wallet = wallet.connect(provider);\n        const signedTxBytes = wallet.signTransaction(transaction);\n\n        // tx.sign(privKey);\n        return Promise.resolve(signedTxBytes);\n    }\n\n    signAndSendTransaction (fromAddress, transaction, provider) {\n        let wallet = this._getWalletForAccount(fromAddress);\n        wallet = wallet.connect(provider);\n        transaction.setFrom(fromAddress);\n        const result = wallet.sendTransaction(transaction);\n\n        return Promise.resolve(result);\n    }\n\n    // exportAccount should return a hex-encoded private key:\n    exportAccount (address) {\n        const wallet = this._getWalletForAccount(address);\n        return Promise.resolve(wallet.privateKey());\n    }\n\n    removeAccount (address) {\n        const addressLC = address.toLowerCase();\n        if (!this.wallets.map((w) => w.getAddress().toLowerCase()).includes(addressLC)) {\n            throw new Error(`Address ${address} not found in this keyring`);\n        }\n        this.wallets = this.wallets.filter((w) => w.getAddress().toLowerCase() !== addressLC);\n    }\n\n    getPrivateKeyFor (address) {\n        if (!address) {\n            throw new Error('Must specify address.');\n        }\n        const wallet = this._getWalletForAccount(address);\n        const privKey = wallet.privateKey();\n        return privKey;\n    }\n\n    /**\n     * @private\n     */\n    _getWalletForAccount (address) {\n        let wallet = this.wallets.find((w) => w.getAddress() === address);\n        if (!wallet) {\n            throw new Error('Simple Keyring - Unable to find matching address.');\n        }\n\n        return wallet;\n    }\n}\n\nSimpleKeyring.type = Type;\n\nexport default SimpleKeyring;\n","import ObservableStore from '../utils/ObservableStore';\nimport SimpleKeyring from '../keyrings/simple/index';\n\nconst { EventEmitter } = require('events');\n\nconst keyringTypes = [\n    SimpleKeyring,\n]\n\nexport default class KeyringController extends EventEmitter {\n\n    //\n    // PUBLIC METHODS\n    //\n\n    constructor (opts) {\n        super();\n\n        const initState = opts.initState || {};\n        this.store = new ObservableStore(initState);\n        this.keyringTypes = opts.keyringTypes ? keyringTypes.concat(opts.keyringTypes) : keyringTypes\n\n        this.memStore = new ObservableStore({\n            isUnlocked: false,\n            keyringTypes: this.keyringTypes.map((krt) => krt.type),\n            keyrings: [],\n        });\n\n        this.keyrings = [];\n    }\n\n    /**\n     * Full Update\n     *\n     * Emits the `update` event and @returns a Promise that resolves to\n     * the current state.\n     *\n     * Frequently used to end asynchronous chains in this class,\n     * indicating consumers can often either listen for updates,\n     * or accept a state-resolving promise to consume their results.\n     *\n     * @returns {Object} The controller state.\n     */\n    fullUpdate () {\n        this.emit('update', this.memStore.getState());\n        return this.memStore.getState();\n    }\n\n    /**\n     * Update Memstore Keyrings\n     *\n     * Updates the in-memory keyrings, without persisting.\n     */\n    async _updateMemStoreKeyrings () {\n        const keyrings = await Promise.all(this.keyrings.map(this._dataForKeyring));\n        return this.memStore.updateState({ keyrings });\n    }\n\n    /**\n     * Add New Keyring\n     *\n     * Adds a new Keyring of the given `type` to the vault\n     * and the current decrypted Keyrings array.\n     *\n     * All Keyring classes implement a unique `type` string,\n     * and this is used to retrieve them from the keyringTypes array.\n     *\n     * @param {string} type - The type of keyring to add.\n     * @param {Object} opts - The constructor options for the keyring.\n     * @returns {Promise<SimpleKeyring|HDKeyring>} The new keyring.\n     */\n    addNewKeyring (type, opts) {\n        const Keyring = this._getKeyringClassForType(type);\n        const keyring = new Keyring(opts);\n        return keyring.getAccounts()\n            .then(() => {\n                this.keyrings.push(keyring);\n            })\n            .then(() => this._updateMemStoreKeyrings())\n            .then(() => this.fullUpdate())\n            .then(() => {\n                return keyring;\n            });\n    }\n\n    /**\n     * Get Accounts\n     *\n     * Returns the public addresses of all current accounts\n     * managed by all currently unlocked keyrings.\n     *\n     * @returns {Promise<Array<string>>} The array of accounts.\n     */\n    async getAccounts () {\n        const keyrings = this.keyrings || [];\n        const addresses = await Promise.all(keyrings.map((kr) => kr.getAccounts()))\n            .then((keyringArrays) => {\n                return keyringArrays.reduce((res, arr) => {\n                    return res.concat(arr);\n                }, []);\n            });\n        return addresses;\n    }\n\n    /**\n     * Add New Account\n     *\n     * Calls the `addAccounts` method on the given keyring,\n     * and then saves those changes.\n     *\n     * @param {SimpleKeyring|HDKeyring} selectedKeyring - The currently selected keyring.\n     * @returns {Promise<Object>} A Promise that resolves to the state.\n     */\n    async addNewAccount(selectedKeyring) {\n        const addedAccounts = await selectedKeyring.addAccounts(1);\n        addedAccounts.forEach((address) => {\n            this.emit('newAccount', address);\n        });\n        await this._updateMemStoreKeyrings();\n        return await this.fullUpdate();\n    }\n\n    /**\n     * Get Keyrings by Type\n     *\n     * Gets all keyrings of the given type.\n     *\n     * @param {string} type - The keyring types to retrieve.\n     * @returns {Array<SimpleKeyring|HDKeyring>} The keyrings.\n     */\n    getKeyringsByType (type) {\n        return this.keyrings.filter((keyring) => keyring.type === type);\n    }\n\n    /**\n     * Get Keyrings by Type\n     *\n     * Gets all keyrings of the given type.\n     *\n     * @param {string} type - The keyring types to retrieve.\n     * @returns {SimpleKeyring|HDKeyring} The keyrings.\n     */\n    getPrimaryKeyring () {\n        // Only supports one account for now\n        return this.keyrings[0];\n    }\n\n    //\n    // SIGNING METHODS\n    //\n\n    /**\n     * Sign Dnero Transaction\n     *\n     * Signs a Dnero transaction object.\n     *\n     * @param {string} fromAddress - The transaction 'from' address.\n     * @param {Object} txJson - The dnero transaction (JSON format) to sign.\n     * @returns {Promise<Object>} The signed transaction bytes.\n     */\n    signTransaction (fromAddress, txJson) {\n        return this._getKeyringForAccount(fromAddress)\n            .then((keyring) => {\n                return keyring.signTransaction(fromAddress, txJson);\n            });\n    }\n\n    signAndSendTransaction(fromAddress, transaction, networkChainId) {\n        return this._getKeyringForAccount(fromAddress)\n            .then((keyring) => {\n                return keyring.signAndSendTransaction(fromAddress, transaction, networkChainId);\n            });\n    }\n\n    //\n    // PRIVATE METHODS\n    //\n\n    /**\n     * Get Keyring Class For Type\n     *\n     * Searches the current `keyringTypes` array\n     * for a Keyring class whose unique `type` property\n     * matches the provided `type`,\n     * returning it if it exists.\n     *\n     * @param {string} type - The type whose class to get.\n     * @returns {SimpleKeyring|HdKeyring} The class, if it exists.\n     */\n    _getKeyringClassForType (type) {\n        return this.keyringTypes.find((kr) => kr.type === type)\n    }\n\n    /**\n     * Get Keyring For Account\n     *\n     * Returns the currently initialized keyring that manages\n     * the specified `address` if one exists.\n     *\n     * @param {string} address - An account address.\n     * @returns {Promise<SimpleKeyring|HDKeyring>} The keyring of the account, if it exists.\n     */\n    _getKeyringForAccount (address) {\n        return Promise.all(this.keyrings.map((keyring) => {\n            return Promise.all([\n                keyring,\n                keyring.getAccounts(),\n            ]);\n        }))\n            .then((candidates) => {\n                const winners = candidates.filter((candidate) => {\n                    const accounts = candidate[1];\n                    return accounts.includes(address);\n                });\n                if (winners && winners.length > 0) {\n                    return winners[0][0];\n                }\n                throw new Error('No keyring found for the requested account.');\n            });\n    }\n\n    /**\n     * Display For Keyring\n     *\n     * Is used for adding the current keyrings to the state object.\n     * @param {SimpleKeyring|HDKeyring} keyring\n     * @returns {Promise<Object>} A keyring display object, with type and accounts properties.\n     */\n    async _dataForKeyring (keyring) {\n        const accounts = await keyring.getAccounts();\n        return {\n            type: keyring.type,\n            accounts: accounts,\n        };\n    }\n\n    /**\n     * Clear Keyrings\n     *\n     * Deallocates all currently managed keyrings and accounts.\n     * Used before initializing a new vault.\n     */\n    async _clearKeyrings () {\n        // clear keyrings from memory\n        this.keyrings = [];\n        this.memStore.updateState({\n            keyrings: [],\n        });\n    }\n}\n","import ObservableStore from './ObservableStore'\n\n/**\n * An ObservableStore that can composes a flat\n * structure of child stores based on configuration\n */\nexport default class ComposableObservableStore extends ObservableStore {\n    /**\n     * Create a new store\n     *\n     * @param {Object} [initState] - The initial store state\n     * @param {Object} [config] - Map of internal state keys to child stores\n     */\n    constructor(initState, config) {\n        super(initState);\n        this.updateStructure(config);\n    }\n\n    /**\n     * Composes a new internal store subscription structure\n     *\n     * @param {Object} [config] - Map of internal state keys to child stores\n     */\n    updateStructure(config) {\n        this.config = config;\n        this.removeAllListeners();\n        for (const key in config) {\n            if (Object.prototype.hasOwnProperty.call(config, key)) {\n                config[key].subscribe((state) => {\n                    this.updateState({ [key]: state });\n                });\n            }\n        }\n    }\n\n    /**\n     * Merges all child store state into a single object rather than\n     * returning an object keyed by child store class name\n     *\n     * @returns {Object} Object containing merged child store state\n     */\n    getFlatState() {\n        let flatState = {};\n        for (const key in this.config) {\n            if (Object.prototype.hasOwnProperty.call(this.config, key)) {\n                const controller = this.config[key];\n                const state = controller.getState\n                    ? controller.getState()\n                    : controller.state;\n                flatState = { ...flatState, ...state };\n            }\n        }\n        return flatState;\n    }\n}\n","import _ from 'lodash';\nimport ObservableStore from '../utils/ObservableStore';\nimport * as dnerojs from '@dnerolabs/dnero-js';\n\nconst { EventEmitter } = require('events');\n\nexport default class PreferencesController  extends EventEmitter {\n    /**\n     *\n     * @typedef {Object} PreferencesController\n     * @param {Object} opts - Overrides the defaults for the initial state of this.store\n     * @property {Object} store The stored object containing a users preferences, stored in local storage\n     * @property {Array} store.tokens The tokens the user wants display in their token lists\n     * @property {Object} store.accountTokens The tokens stored per account and then per network type\n     * @property {Object} store.assetImages Contains assets objects related to assets added\n     * @property {string} store.selectedAddress A hex string that matches the currently selected address in the app\n     *\n     */\n    constructor(opts = {}) {\n        super();\n\n        const initState = {\n            accountTokens: {},\n            assetImages: {},\n            tokens: [],\n\n            identities: {},\n            lostIdentities: {},\n\n            preferences: {\n                autoLockTimeLimit: undefined,\n            },\n            completedOnboarding: false,\n\n            selectedAddress: null,\n\n            network: {\n                chainId: dnerojs.networks.ChainIds.Mainnet,\n            },\n\n            delegatedSentryNodes: [],\n\n            ...opts.initState,\n        };\n\n        this.store = new ObservableStore(initState);\n\n        this.updateDelegatedSentryNodes();\n    }\n\n\n    // PUBLIC METHODS\n\n    getAssetImages() {\n        return this.store.getState().assetImages;\n    }\n\n    /**\n     * Synchronizes identity entries with known accounts.\n     * Removes any unknown identities, and returns the resulting selected address.\n     *\n     * @param {Array<string>} addresses - known to the vault.\n     * @returns {string} selectedAddress the selected address.\n     */\n    syncAddresses(addresses) {\n        if (!Array.isArray(addresses) || addresses.length === 0) {\n            throw new Error('Expected non-empty array of addresses.');\n        }\n\n        const { identities, lostIdentities } = this.store.getState();\n\n        const newlyLost = {};\n        Object.keys(identities).forEach((identity) => {\n            if (!addresses.includes(identity)) {\n                newlyLost[identity] = identities[identity];\n                delete identities[identity];\n            }\n        });\n\n        // Identities are no longer present.\n        if (Object.keys(newlyLost).length > 0) {\n            // store lost accounts\n            Object.keys(newlyLost).forEach((key) => {\n                lostIdentities[key] = newlyLost[key];\n            });\n        }\n\n        this.store.updateState({ identities, lostIdentities });\n        this.addAddresses(addresses);\n\n        // If the selected account is no longer valid,\n        // select an arbitrary other account:\n        let selectedAddr = this.getSelectedAddress();\n        if (!addresses.includes(selectedAddr)) {\n            selectedAddr = addresses[0];\n            this.setSelectedAddress(selectedAddr);\n        }\n\n        return selectedAddr;\n    }\n\n    /**\n     * Updates identities to only include specified addresses. Removes identities\n     * not included in addresses array\n     *\n     * @param {string[]} addresses - An array of hex addresses\n     *\n     */\n    setAddresses(addresses) {\n        const oldIdentities = this.store.getState().identities;\n        const oldAccountTokens = this.store.getState().accountTokens;\n\n        const identities = addresses.reduce((ids, address, index) => {\n            const oldId = oldIdentities[address] || {};\n            ids[address] = { name: `Account ${index + 1}`, address, ...oldId };\n            return ids;\n        }, {});\n        const accountTokens = addresses.reduce((tokens, address) => {\n            const oldTokens = oldAccountTokens[address] || {};\n            tokens[address] = oldTokens;\n            return tokens;\n        }, {});\n        this.store.updateState({ identities, accountTokens });\n    }\n\n    /**\n     * Removes an address from state\n     *\n     * @param {string} address - A hex address\n     * @returns {string} the address that was removed\n     */\n    removeAddress(address) {\n        const { identities } = this.store.getState();\n        const { accountTokens } = this.store.getState();\n        if (!identities[address]) {\n            throw new Error(`${address} can't be deleted cause it was not found`);\n        }\n        delete identities[address];\n        delete accountTokens[address];\n        this.store.updateState({ identities, accountTokens });\n\n        // If the selected account is no longer valid,\n        // select an arbitrary other account:\n        if (address === this.getSelectedAddress()) {\n            const selected = Object.keys(identities)[0];\n            this.setSelectedAddress(selected);\n        }\n        return address;\n    }\n\n    /**\n     * Adds addresses to the identities object without removing identities\n     *\n     * @param {string[]} addresses - An array of hex addresses\n     *\n     */\n    addAddresses(addresses) {\n        const { identities, accountTokens } = this.store.getState();\n        addresses.forEach((address) => {\n            // skip if already exists\n            if (identities[address]) {\n                return;\n            }\n            // add missing identity\n            const identityCount = Object.keys(identities).length;\n\n            if(_.isNil(accountTokens[address])){\n                accountTokens[address] = {};\n            }\n\n            identities[address] = { name: `Account ${identityCount + 1}`, address };\n        });\n        this.store.updateState({ identities, accountTokens });\n    }\n\n    /**\n     * Setter for the `selectedAddress` property\n     *\n     * @param {string} _address - A new hex address for an account\n     * @returns {Promise<void>} Promise resolves with tokens\n     *\n     */\n    setSelectedAddress(_address) {\n        const address = _address;\n        this._updateTokens(address);\n\n        const { identities, tokens } = this.store.getState();\n        const selectedIdentity = identities[address];\n        if (!selectedIdentity) {\n            throw new Error(`Identity for '${address} not found`);\n        }\n\n        selectedIdentity.lastSelected = Date.now();\n        this.store.updateState({ identities, selectedAddress: address });\n        return Promise.resolve(tokens);\n    }\n\n    /**\n     * Getter for the `selectedAddress` property\n     *\n     * @returns {string} The hex address for the currently selected account\n     *\n     */\n    getSelectedAddress() {\n        return this.store.getState().selectedAddress;\n    }\n\n    /**\n     * Contains data about tokens users add to their account.\n     * @typedef {Object} AddedToken\n     * @property {string} address - The hex address for the token contract. Will be all lower cased and hex-prefixed.\n     * @property {string} symbol - The symbol of the token, usually 3 or 4 capitalized letters\n     *  {@link https://github.com/ethereum/EIPs/blob/master/EIPS/eip-20.md#symbol}\n     * @property {boolean} decimals - The number of decimals the token uses.\n     *  {@link https://github.com/ethereum/EIPs/blob/master/EIPS/eip-20.md#decimals}\n     */\n\n    /**\n     * A getter for `tokens` and `accountTokens` related states.\n     *\n     * @param {string} [selectedAddress] - A new hex address for an account\n     * @returns {Object.<array, object, string, string>} States to interact with tokens in `accountTokens`\n     *\n     */\n    _getTokenRelatedStates(selectedAddress) {\n        const { network, accountTokens } = this.store.getState();\n        const chainId = network.chainId;\n\n        if (!selectedAddress) {\n            // eslint-disable-next-line no-param-reassign\n            selectedAddress = this.store.getState().selectedAddress;\n        }\n        if (!(selectedAddress in accountTokens)) {\n            accountTokens[selectedAddress] = {};\n        }\n        if (!(chainId in accountTokens[selectedAddress])) {\n            accountTokens[selectedAddress][chainId] = [];\n        }\n        const tokens = accountTokens[selectedAddress][chainId];\n        return { tokens, accountTokens, network, selectedAddress };\n    }\n\n    /**\n     * Updates `tokens` of current account and network.\n     *\n     * @param {string} selectedAddress - Account address to be updated with.\n     *\n     */\n    _updateTokens(selectedAddress) {\n        const { tokens } = this._getTokenRelatedStates(selectedAddress);\n        this.store.updateState({ tokens });\n    }\n\n    /**\n     * Updates `accountTokens` and `tokens` of current account and network according to it.\n     *\n     * @param {Array} tokens - Array of tokens to be updated.\n     *\n     */\n    _updateAccountTokens(tokens, assetImages) {\n        const {\n            accountTokens,\n            network,\n            selectedAddress,\n        } = this._getTokenRelatedStates();\n        accountTokens[selectedAddress][network.chainId] = tokens;\n        this.store.updateState({ accountTokens, tokens, assetImages });\n\n        this.emit('accountTokensUpdated');\n    }\n\n    /**\n     * Adds a new token to the token array, or updates the token if passed an address that already exists.\n     * Modifies the existing tokens array from the store. All objects in the tokens array array AddedToken objects.\n     * @see AddedToken {@link AddedToken}\n     *\n     * @param {string} rawAddress - Hex address of the token contract. May or may not be a checksum address.\n     * @param {string} symbol - The symbol of the token\n     * @param {number} decimals - The number of decimals the token uses.\n     * @param {string} image - The url for the token asset.\n     * @returns {Promise<array>} Promises the new array of AddedToken objects.\n     *\n     */\n    async addToken(rawAddress, symbol, decimals, image) {\n        const address = rawAddress;\n        const newEntry = { address, symbol, decimals };\n        const { tokens } = this.store.getState();\n        const assetImages = this.getAssetImages();\n        const previousEntry = tokens.find((token) => {\n            return token.address === address;\n        });\n        const previousIndex = tokens.indexOf(previousEntry);\n\n        if (previousEntry) {\n            tokens[previousIndex] = newEntry;\n        } else {\n            tokens.push(newEntry);\n        }\n        assetImages[address] = image;\n        this._updateAccountTokens(tokens, assetImages);\n        return Promise.resolve(tokens);\n    }\n\n    /**\n     * Removes a specified token from the tokens array.\n     *\n     * @param {string} rawAddress - Hex address of the token contract to remove.\n     * @returns {Promise<array>} The new array of AddedToken objects\n     *\n     */\n    removeToken(rawAddress) {\n        const { tokens } = this.store.getState();\n        const assetImages = this.getAssetImages();\n        const updatedTokens = tokens.filter((token) => token.address !== rawAddress);\n        delete assetImages[rawAddress];\n        this._updateAccountTokens(updatedTokens, assetImages);\n        return Promise.resolve(updatedTokens);\n    }\n\n    /**\n     * A getter for the `tokens` property\n     *\n     * @returns {Array} The current array of AddedToken objects\n     *\n     */\n    getTokens() {\n        return this.store.getState().tokens;\n    }\n\n    /**\n     * Sets a custom label for an account\n     * @param {string} account - the account to set a label for\n     * @param {string} name - the custom name for the account\n     * @returns {Promise<string>}\n     */\n    setAccountName(account, name) {\n        if (!account) {\n            throw new Error(\n                `setAccountLabel requires a valid address, got ${String(account)}`,\n            );\n        }\n        const address = account;\n        const { identities } = this.store.getState();\n        identities[address] = identities[address] || {};\n        identities[address].name = name;\n        this.store.updateState({ identities });\n        return Promise.resolve(name);\n    }\n\n    /**\n     * Updates the `preferences` property, which is an object. These are user-controlled features\n     * found in the settings page.\n     * @param {string} preference - The preference to enable or disable.\n     * @param {boolean} value - Indicates whether or not the preference should be enabled or disabled.\n     * @returns {Promise<object>} Promises a new object; the updated preferences object.\n     */\n    setPreference(preference, value) {\n        const currentPreferences = this.getPreferences();\n        const updatedPreferences = {\n            ...currentPreferences,\n            [preference]: value,\n        };\n\n        this.store.updateState({ preferences: updatedPreferences });\n        return Promise.resolve(updatedPreferences);\n    }\n\n    /**\n     * A getter for the `preferences` property\n     * @returns {Object} A key-boolean map of user-selected preferences.\n     */\n    getPreferences() {\n        return this.store.getState().preferences;\n    }\n\n    /**\n     * Sets the completedOnboarding state to true, indicating that the user has completed the\n     * onboarding process.\n     */\n    completeOnboarding() {\n        this.store.updateState({ completedOnboarding: true });\n        return Promise.resolve(true);\n    }\n\n    /**\n     * Updates the `network` property.\n     * @param {object} network - {chainId: String}\n     * @returns {Promise<Boolean>} Promises a new object; the updated preferences object.\n     */\n    setNetwork(network) {\n        if(network.chainId === undefined || network.chainId === null){\n            throw new Error('PreferencesController :: setNetwork - network is invalid');\n        }\n\n        this.store.updateState({ network: network });\n\n        this._updateTokens(this.getSelectedAddress());\n\n        this.emit('networkChanged', network);\n\n        return Promise.resolve(true);\n    }\n\n    /**\n     * A getter for the `network` property\n     * @returns {Object}\n     */\n    getNetwork() {\n        return this.store.getState().network;\n    }\n\n    /**\n     * Calls API to get the delegated sentry nodes\n     * @returns {Object}\n     */\n    async updateDelegatedSentryNodes(){\n        let delegatedSentryNodes = null;\n\n        try {\n            //const url = `https://api.dnerochain.org/v1/sentry/delegated-nodes`;\n            const url = `http://143.198.132.249:7554/api/v1/sentry/delegated-nodes`;\n            const response = await fetch(url);\n            const responseJson = await response.json();\n            delegatedSentryNodes = responseJson;\n            delegatedSentryNodes = _.map(delegatedSentryNodes, (node) => {\n                const [fee, address] = node.address.split(' fee - ');\n\n                return {\n                    ...node,\n                    fee: fee,\n                    address: address\n                };\n            });\n        }\n        catch (e) {\n            // No Update\n            return [];\n        }\n\n        // Update states\n        this.store.updateState({ delegatedSentryNodes });\n\n        return delegatedSentryNodes;\n    }\n}\n","import _ from 'lodash';\nimport * as dnerojs from '@dnerolabs/dnero-js';\nimport BigNumber from 'bignumber.js';\nimport ObservableStore from '../utils/ObservableStore';\nimport {SingleCallTokenBalancesAddressByChainId, DDropStakingAddressByChainId} from '../constants';\nimport {SingleCallTokenBalancesABI, DDropStakingABI} from '../constants/contracts';\n\nconst {tokensByChainId} = require('@dnerolabs/dnc20-contract-metadata');\nconst DEFAULT_INTERVAL = 60 * 1000;\n\n/**\n * This module is responsible for tracking any number of accounts and caching their current balances & transaction\n * counts.\n *\n * It also tracks transaction hashes, and checks their inclusion status on each new block.\n *\n * @typedef {Object} AccountManager\n * @property {Object} store The stored object containing all accounts to track\n * @property {Object} store.accounts The accounts currently stored in this AccountTracker\n *\n */\nexport default class AccountManager {\n    /**\n     * @param {Object} opts - Options for initializing the controller\n     */\n    constructor(opts = {}) {\n        const initState = {\n            accounts: {}\n        };\n        this.store = new ObservableStore(initState);\n        this._getProvider = opts.getProvider;\n        this._getNetwork = opts.getNetwork;\n        this._getTokens = opts.getTokens;\n        this._preferencesController = opts.preferencesController;\n        this._updateIntervalId = null;\n    }\n\n    start() {\n        // fetch account balances\n        this.updateAccounts();\n\n        if(!this._updateIntervalId){\n            this._updateIntervalId = setInterval(() => {\n                this.updateAccounts();\n            }, DEFAULT_INTERVAL);\n        }\n\n        this.detectNewTokens();\n    }\n\n    stop() {\n        if(this._updateIntervalId){\n            clearInterval(this._updateIntervalId);\n        }\n    }\n\n    /**\n     * Ensures that the locally stored accounts are in sync with a set of accounts stored externally to this\n     * AccountTracker.\n     *\n     * Once this AccountTracker's accounts are up to date with those referenced by the passed addresses, each\n     * of these accounts are given an updated balance via EthQuery.\n     *\n     * @param {Array} addresses - The array of hex addresses for accounts with which this AccountTracker's accounts should be\n     * in sync\n     *\n     */\n    syncAddresses(addresses) {\n        const { accounts } = this.store.getState();\n        const locals = Object.keys(accounts);\n\n        const accountsToAdd = [];\n        addresses.forEach((addr) => {\n            if (!locals.includes(addr)) {\n                accountsToAdd.push(addr);\n            }\n        });\n\n        const accountsToRemove = [];\n        locals.forEach((local) => {\n            if (!addresses.includes(local)) {\n                accountsToRemove.push(local);\n            }\n        });\n\n        this.addAccounts(accountsToAdd);\n        this.removeAccounts(accountsToRemove);\n    }\n\n    /**\n     * Adds new addresses to track the balances of\n     * given a balance as long this._currentBlockNumber is defined.\n     *\n     * @param {Array} addresses - An array of hex addresses of new accounts to track\n     *\n     */\n    addAccounts(addresses) {\n        const { accounts } = this.store.getState();\n        // add initial state for addresses\n        addresses.forEach((address) => {\n            accounts[address] = {};\n        });\n        // save accounts state\n        this.store.updateState({ accounts });\n\n        // fetch balances for the accounts that we added\n        if(addresses.length){\n            this.updateAccounts();\n        }\n    }\n\n    /**\n     * Removes accounts from being tracked\n     *\n     * @param {Array} addresses - array of hex addresses to stop tracking\n     *\n     */\n    removeAccounts(addresses) {\n        const { accounts } = this.store.getState();\n        // remove each state object\n        addresses.forEach((address) => {\n            delete accounts[address];\n        });\n        // save accounts state\n        this.store.updateState({ accounts });\n    }\n\n    /**\n     * Removes all addresses and associated balances\n     */\n\n    clearAccounts() {\n        this.store.updateState({ accounts: {} });\n    }\n\n    /**\n     * balanceChecker is deployed on main eth (test)nets and requires a single call\n     * for all other networks, calls this._updateAccount for each account in this.store\n     *\n     * @returns {Promise} after all account balances updated\n     *\n     */\n    async updateAccounts() {\n        const { accounts } = this.store.getState();\n        const addresses = Object.keys(accounts);\n\n        if(addresses.length === 0){\n            // No accounts to fetch\n            return true;\n        }\n\n        addresses.map((addr) => {\n            this._updateAccount(addr);\n        });\n\n        // Fetch tokens...\n        await this._updateAccountTokensViaBalanceChecker(addresses);\n    }\n\n    /**\n     * Updates the current balance of an account.\n     *\n     * @private\n     * @param {string} address - A hex address of a the account to be updated\n     * @returns {Promise} after the account balance is updated\n     *\n     */\n    async _updateAccount(address) {\n        // query balance\n        let account = null;\n        try {\n            const provider = this._getProvider();\n\n            account = await provider.getAccount(address);\n        }\n        catch (e) {\n            // This can happen if the account doesn't have any dnero/dtoken yet.\n            account = {\n                coins: {\n                    dnerowei: 0,\n                    dtokenwei: 0,\n                }\n            };\n        }\n\n        const result = {\n            address: address,\n            balances: account.coins,\n        };\n\n        // update accounts state\n        const { accounts } = this.store.getState();\n        const current = accounts[address.toLowerCase()] || accounts[address] || {};\n        // only populate if the entry is still present\n\n        accounts[address] = {\n            // keep our stakes\n            ...current,\n            ...result,\n            balances: {\n                ...current.balances,\n                ...result.balances\n            }\n        };\n        this.store.updateState({ accounts });\n    }\n\n    /**\n     * Updates current address balances from balanceChecker deployed contract instance\n     * @param {*} addresses\n     * @param {*} deployedContractAddress\n     */\n    async _updateAccountTokensViaBalanceChecker(addresses) {\n        const { accounts } = this.store.getState();\n        const provider = this._getProvider();\n        const chainId = this._getNetwork().chainId;\n        const tokens = this._getTokens();\n        let tokenAddresses = _.map(tokens, 'address');\n        tokenAddresses = _.map(tokenAddresses, _.trim);\n        const deployedContractAddress = SingleCallTokenBalancesAddressByChainId[chainId];\n\n        if(_.isNil(deployedContractAddress)){\n            // TODO not supported... call each token?\n            return;\n        }\n\n        if(tokenAddresses.length === 0){\n            // No tokens to fetch\n            return;\n        }\n\n        if(addresses.length === 0){\n            // No addresses to fetch\n            return;\n        }\n\n        try {\n            const balanceCheckContract = new dnerojs.Contract(deployedContractAddress, SingleCallTokenBalancesABI, provider);\n            const balances = await balanceCheckContract.balances(addresses, tokenAddresses);\n            // contract returns a array of length addresses.length * tokens.length so we need to partiton it\n            const balancesGroupedByAddress = _.chunk(balances, tokenAddresses.length);\n\n            addresses.forEach((address, index) => {\n                const addressTokenBalances = balancesGroupedByAddress[index];\n                const tokenBalancesByTokenAddress = _.reduce(addressTokenBalances, function(current, balance, tokenIdx) {\n                    const tokenAddress = tokenAddresses[tokenIdx];\n                    return Object.assign(current, {\n                        [tokenAddress]: balance.toString()\n                    });\n                }, {});\n                const currentAccounts = this.store.getState().accounts;\n                const currentBalances = currentAccounts[address].balances;\n                const current = accounts[address.toLowerCase()] || accounts[address];\n\n                accounts[address] = {\n                    ...current,\n                    address,\n                    balances: {\n                        ...currentBalances,\n                        ...tokenBalancesByTokenAddress\n                    }};\n            });\n\n            this.store.updateState({ accounts });\n        }\n        catch (e) {\n\n        }\n    }\n\n    async updateAccountDDropStake(address){\n        let stakingBalance = new BigNumber(0);\n        let totalShares = new BigNumber(0);\n        let estimatedDDropOwned = new BigNumber(0);\n        let delegate = null;\n\n        try {\n            const provider = this._getProvider();\n            const network = this._getNetwork();\n            const chainId = network.chainId;\n            const deployedContractAddress = DDropStakingAddressByChainId[chainId];\n            if(_.isNil(deployedContractAddress)){\n                return null;\n            }\n            const ddropStakingContract = new dnerojs.Contract(deployedContractAddress, DDropStakingABI, provider);\n            stakingBalance = await ddropStakingContract.balanceOf(address);\n\n            if(!stakingBalance.isZero()){\n                estimatedDDropOwned = await ddropStakingContract.estimatedDDropOwnedBy(address);\n                totalShares = await ddropStakingContract.totalShares();\n                delegate = await ddropStakingContract.delegates(address);\n            }\n        }\n        catch (e) {\n            // No Update\n            return null;\n        }\n\n        // update accounts state\n        const { accounts } = this.store.getState();\n        const current = accounts[address.toLowerCase()] || accounts[address];\n        // only populate if the entry is still present\n        if (!current) {\n            return null;\n        }\n\n        const votingPower = ((new BigNumber(stakingBalance.toString())).dividedBy((new BigNumber(totalShares.toString())))).multipliedBy(100);\n        const ddropStakingInfo = {\n            balance: stakingBalance.toString(),\n            totalShares: totalShares.toString(),\n            estimatedTokenOwnedWithRewards: estimatedDDropOwned.toString(),\n            votingPower: stakingBalance.isZero() ? \"0\" : votingPower.toString(),\n            votingDelegate: delegate\n        };\n\n        accounts[address] = {\n            ...current,\n            dnc20Stakes: {\n                ddrop: ddropStakingInfo\n            }\n        };\n        this.store.updateState({ accounts });\n\n        return ddropStakingInfo;\n    }\n\n    async updateAccountStakes(address){\n        let stakes = null;\n\n        try {\n            const network = this._getNetwork();\n            const chainId = network.chainId;\n            const explorerUrl = dnerojs.networks.getExplorerUrlForChainId(chainId);\n            const explorerApiUrl = `${explorerUrl}:8443/api`;\n            const listStakesUrl = `${explorerApiUrl}/stake/${address}?hasBalance=true&types[]=vcp&types[]=gcp&types[]=eenp`;\n            const response = await fetch(listStakesUrl);\n            const responseJson = await response.json();\n            stakes = _.get(responseJson, ['body', 'sourceRecords'], []);\n        }\n        catch (e) {\n            // No Update\n            return [];\n        }\n\n        // update accounts state\n        const { accounts } = this.store.getState();\n        const current = accounts[address.toLowerCase()] || accounts[address];\n        // only populate if the entry is still present\n        if (!current) {\n            return [];\n        }\n        accounts[address] = {\n            ...current,\n            stakes: stakes\n        };\n        this.store.updateState({ accounts });\n\n        // DNC20 stakes\n        await this.updateAccountDDropStake(address);\n\n        return stakes;\n    }\n\n    async detectNewTokens() {\n        const selectedAddress = this._preferencesController.getSelectedAddress();\n        const provider = this._getProvider();\n        const network = this._getNetwork();\n        const chainId = network.chainId;\n        const knownTokenList = tokensByChainId[chainId];\n        const tokens = this._getTokens();\n        let tokenAddresses = _.map(tokens, 'address');\n        let trackedTokens = new Set(_.map(tokenAddresses, _.trim));\n\n        const tokensToDetect = [];\n        for (const tokenAddress in knownTokenList) {\n            if (!trackedTokens.has(tokenAddress)) {\n                tokensToDetect.push(tokenAddress);\n            }\n        }\n\n        if(tokensToDetect.length === 0){\n            return;\n        }\n\n        const sliceOfTokensToDetect = [\n            tokensToDetect.slice(0, 1000),\n            tokensToDetect.slice(1000, tokensToDetect.length - 1),\n        ];\n        const balanceCheckContract = new dnerojs.Contract(SingleCallTokenBalancesAddressByChainId[chainId], SingleCallTokenBalancesABI, provider);\n\n        for (const tokensSlice of sliceOfTokensToDetect) {\n            let result;\n            try {\n                result = await balanceCheckContract.balances([selectedAddress], tokensSlice);\n            } catch (error) {\n                return;\n            }\n\n            const tokensWithBalance = tokensSlice.filter((_, index) => {\n                const balance = result[index];\n                return balance && !balance.isZero();\n            });\n\n            await Promise.all(\n                tokensWithBalance.map((tokenAddress) => {\n                    return this._preferencesController.addToken(\n                        tokenAddress,\n                        knownTokenList[tokenAddress].symbol,\n                        knownTokenList[tokenAddress].decimals,\n                    );\n                }),\n            );\n        }\n    }\n}\n","import ObservableStore from '../utils/ObservableStore';\nimport * as dnerojs from '@dnerolabs/dnero-js';\nimport {nanoid} from 'nanoid';\nimport _ from \"lodash\";\nimport BigNumber from \"bignumber.js\";\n\nconst { EventEmitter } = require('events');\n\nexport default class TransactionsController extends EventEmitter{\n    constructor(opts) {\n        super();\n\n        const initState = {\n            ...opts.initState,\n        };\n        this.store = new ObservableStore(initState);\n\n        this.memStore = new ObservableStore({\n            transactionRequests: [],\n            transactions: {}\n        });\n\n        this.preferencesController = opts.preferencesController;\n\n        this.signAndSendTransaction = opts.signAndSendTransaction;\n\n        this._getProvider = opts.getProvider;\n\n        this._updateAccounts = opts.updateAccounts;\n\n        this.pendingTransactionRequests = new Map();\n    }\n\n    _getTransactionRequests(){\n        return this.memStore.getState().transactionRequests || [];\n    }\n\n    _setTransactionRequests(transactionRequests){\n        this.memStore.updateState({\n            transactionRequests: transactionRequests\n        });\n    }\n\n    _addTransactionRequest(request, resolve, reject){\n        const transactionRequests = this._getTransactionRequests();\n        transactionRequests.push(request);\n        this._setTransactionRequests(transactionRequests);\n        this.pendingTransactionRequests.set(request.id, {\n            request: request,\n            resolve,\n            reject\n        });\n\n        return true;\n    }\n\n    _removeTransactionRequest(transactionRequestId){\n        let transactionRequests = this._getTransactionRequests();\n        transactionRequests = transactionRequests.filter((tx)=> {\n            return (tx.id !== transactionRequestId);\n        });\n\n        this._setTransactionRequests(transactionRequests);\n        delete this.pendingTransactionRequests[transactionRequestId];\n\n        return true;\n    }\n\n    _getTransactionRequest(transactionRequestId){\n        let transactionRequests = this._getTransactionRequests();\n        return  transactionRequests.find((tx)=> {\n            return (tx.id === transactionRequestId);\n        });\n    }\n\n    /**\n     * Validates and generates a txMeta with defaults and puts it in txStateManager\n     * store.\n     *\n     * @returns {Object}\n     */\n    async addTransactionRequest(transactionRequest) {\n        const fromAddress = this.preferencesController.getSelectedAddress();\n        const transaction = dnerojs.transactions.transactionFromJson(transactionRequest);\n        transaction.setFrom(fromAddress);\n        const gasFeeData = await this.getEstimatedGasData(transaction);\n        let transactionDepJson = (transactionRequest.dependencies || [])[0];\n\n        if(transactionDepJson){\n            const transactionDep = dnerojs.transactions.transactionFromJson(transactionDepJson);\n            transactionDep.setFrom(fromAddress);\n            const depGasFeeData = await this.getEstimatedGasData(transactionDep);\n            transactionDepJson = {\n                ...transactionDepJson,\n                txData: {\n                    ...transactionDepJson.txData,\n                    ..._.pick(depGasFeeData, ['gasPrice', 'gasLimit'])\n                },\n                gasFeeData: depGasFeeData\n            };\n            transactionRequest.dependencies = [transactionDepJson]\n        }\n\n        return new Promise((resolve, reject) => {\n            this._addTransactionRequest(Object.assign({}, transactionRequest, {\n                id: nanoid(),\n                txData: {\n                    ...transactionRequest.txData,\n                    ..._.pick(gasFeeData, ['gasPrice', 'gasLimit'])\n                },\n                gasFeeData: gasFeeData\n            }), resolve, reject);\n        });\n    }\n\n    /**\n     * Validates and generates a txMeta with defaults and puts it in txStateManager\n     * store.\n     *\n     * @returns {Object}\n     */\n    async approveTransactionRequest(transactionRequestId, onDependencySent) {\n        const provider = this._getProvider();\n        const approval = this.pendingTransactionRequests.get(transactionRequestId);\n        const transactionRequest = approval.request;\n        const fromAddress = this.preferencesController.getSelectedAddress();\n        const transactionDepJson = (transactionRequest.dependencies || [])[0];\n        if(transactionDepJson){\n            const transactionDep = dnerojs.transactions.transactionFromJson(transactionDepJson);\n            await this.signAndSendTransaction(fromAddress, transactionDep, provider);\n\n            if(onDependencySent){\n                onDependencySent();\n            }\n        }\n        const transaction = dnerojs.transactions.transactionFromJson(transactionRequest);\n        const result = await this.signAndSendTransaction(fromAddress, transaction, provider);\n\n        if(result){\n            const approval = this.pendingTransactionRequests.get(transactionRequestId);\n            this._removeTransactionRequest(transactionRequestId);\n\n            // Refresh balances because we just sent a tx\n            this._updateAccounts();\n\n            approval.resolve(result);\n\n            return result;\n        }\n\n        return true;\n    }\n\n    /**\n     * Validates and generates a txMeta with defaults and puts it in txStateManager\n     * store.\n     *\n     * @returns {Object}\n     */\n    async rejectTransactionRequest(transactionRequestId) {\n        this._removeTransactionRequest(transactionRequestId);\n        const approval = this.pendingTransactionRequests.get(transactionRequestId);\n        // approval.reject(new Error('User rejected transaction.'));\n\n        return true;\n    }\n\n    _transformTransaction(rawXact, priorityAddress) {\n        if (rawXact.type === dnerojs.constants.TxType.Send) {\n            let xact = {};\n\n            xact.type = rawXact.type;\n            xact.number = rawXact.number;\n            xact.status = rawXact.status;\n            xact.hash = rawXact.hash.toLowerCase();\n            xact.timestamp = rawXact.timestamp;\n            xact.fee = {\n                dnero: rawXact.data.fee.dnerowei,\n                dtoken: rawXact.data.fee.dtokenwei\n            };\n\n            xact.inputs = _.map(rawXact.data.inputs, (input) => {\n                return _.pick(input, ['address', 'coins']);\n            });\n            xact.outputs = _.map(rawXact.data.outputs, (output) => {\n                return _.pick(output, ['address', 'coins']);\n            });\n\n            //Sort outputs\n            if(priorityAddress){\n                var priorityAddressLC = priorityAddress.toLowerCase();\n\n                xact.outputs = _.sortBy(xact.outputs, function(output){\n                    //Ensure the priorityAddress is always first (lowest sort key) in the list\n                    return ((priorityAddressLC === output.address.toLowerCase()) ? -100 : 0);\n                });\n            }\n\n            return xact;\n        }\n\n        return null;\n    }\n\n    async updateAccountTransactions(address){\n        let txs = null;\n\n        if(_.isEmpty(address)){\n            return [];\n        }\n\n        try {\n            const network = this.preferencesController.getNetwork();\n            const chainId = network.chainId;\n            const explorerUrl = dnerojs.networks.getExplorerUrlForChainId(chainId);\n            const explorerApiUrl = `${explorerUrl}:8443/api`;\n            const listStakesUrl = `${explorerApiUrl}/accounttx/${address}`;\n            const response = await fetch(listStakesUrl);\n            const responseJson = await response.json();\n            txs = _.get(responseJson, ['body'], []);\n            txs = _.map(txs, (tx) => {\n                return this._transformTransaction(tx, address);\n            });\n            txs = _.filter(txs, (tx) => {\n                return !_.isNil(tx);\n            });\n        }\n        catch (e) {\n            // No Update\n            return [];\n        }\n\n        // update accounts state\n        const { transactions } = this.memStore.getState();\n        transactions[address] = txs;\n\n        this.memStore.updateState({\n            transactions: transactions\n        });\n\n        return txs;\n    }\n\n    /**\n     * Estimates the gas fee\n     *\n     * @returns {Object}\n     */\n    async getEstimatedGasData(transaction) {\n        if(transaction.getType() === dnerojs.constants.TxType.SmartContract){\n            if(transaction.gasLimit !== dnerojs.constants.gasLimitDefault){\n                // Gas fee was set by user...\n                return {\n                    gasPrice: transaction.gasPrice.toString(),\n                    gasLimit: transaction.gasLimit,\n                    totalGasFee: transaction.gasPrice.multipliedBy(transaction.gasLimit).toString()\n                }\n            }\n\n            const provider = this._getProvider();\n            const result = await provider.callSmartContract(transaction);\n\n            // if(!_.isEmpty(result.vm_error)){\n            //     throw new Error(result.vm_error);\n            // }\n\n            const gasLimitWithBuffer = (new BigNumber(result.gas_used)).multipliedBy(1.5);\n            const gasLimit = Math.ceil(gasLimitWithBuffer.toNumber());\n\n            return {\n                gasPrice: dnerojs.constants.gasPriceSmartContractDefault.toString(),\n                gasLimit: gasLimit,\n                totalGasFee: dnerojs.constants.gasPriceSmartContractDefault.multipliedBy(gasLimit).toString()\n            }\n        }\n        else{\n            return {\n                gasPrice: dnerojs.constants.gasPriceDefault.toString(),\n                totalGasFee: dnerojs.constants.gasPriceDefault.toString()\n            }\n        }\n    }\n}\n","import _ from 'lodash';\nimport * as dnerojs from '@dnerolabs/dnero-js';\nimport KeyringController from '../controllers/keyring';\nimport ComposableObservableStore from '../utils/ComposableObservableStore';\nimport PreferencesController from './preferences';\nimport AccountManager from './account-manager';\nimport TransactionsController from './transactions';\nimport SimpleKeyring from '../keyrings/simple';\nimport TrezorKeyring from '../keyrings/trezor';\nimport LedgerKeyring from \"../keyrings/ledger\";\nimport {\n    EthereumDerivationPath, EthereumLedgerLiveDerivationPath,\n    EthereumOtherDerivationPath,\n    NumPathsPerPage,\n    DneroDevDerivationPath\n} from \"../services/Wallet\";\nimport {updateAccountBalances} from \"../state/actions/Wallet\";\n\nconst { EventEmitter } = require('events');\n\nexport default class DneroWalletController extends EventEmitter {\n    constructor(opts) {\n        super();\n\n        this.sendUpdate = this._sendUpdate.bind(this);\n        this.opts = opts;\n\n        const initState = opts.initState || {};\n\n        this.store = new ComposableObservableStore(initState);\n        this.memStore = new ComposableObservableStore();\n\n        this.preferencesController = new PreferencesController({\n            initState: initState.preferencesController\n        });\n        this.preferencesController.on('networkChanged', (newNetwork) => {\n            const selectedAddress = this.preferencesController.getSelectedAddress();\n            const newProvider = new dnerojs.providers.HttpProvider(newNetwork.chainId);\n            this.setProvider(newProvider);\n\n            if(selectedAddress) {\n                this.accountManager.updateAccounts();\n                this.accountManager.updateAccountStakes(selectedAddress);\n                this.accountManager.detectNewTokens();\n\n                this.transactionsController.updateAccountTransactions(selectedAddress);\n            }\n        });\n        this.preferencesController.on('accountTokensUpdated', () => {\n            this.accountManager.updateAccounts();\n        });\n\n        const network = this.preferencesController.getNetwork();\n        this.provider =  new dnerojs.providers.HttpProvider(network.chainId);\n\n        const additionalKeyrings = [TrezorKeyring, LedgerKeyring]\n        this.keyringController = new KeyringController({\n            initState: initState.keyringController,\n            keyringTypes: additionalKeyrings,\n        });\n        this.keyringController.memStore.subscribe((s) =>\n            this._onKeyringVaultUpdate(s),\n        );\n\n        this.accountManager = new AccountManager({\n            getProvider: this.getProvider,\n            getNetwork: this.preferencesController.getNetwork.bind(this.preferencesController),\n            getTokens: this.preferencesController.getTokens.bind(this.preferencesController),\n            preferencesController: this.preferencesController,\n        });\n\n        this.transactionsController = new TransactionsController({\n            initState: initState.transactionsController,\n\n            getProvider: this.getProvider,\n\n            preferencesController: this.preferencesController,\n\n            signAndSendTransaction: this.keyringController.signAndSendTransaction.bind(this.keyringController),\n\n            updateAccounts: this.accountManager.updateAccounts.bind(this.accountManager)\n        });\n\n        this.store.updateStructure({\n            keyringController: this.keyringController.store,\n            preferencesController: this.preferencesController.store,\n        });\n\n        this.preferencesController.store.subscribe((data) => {\n            try {\n                if(localStorage){\n                    localStorage.setItem('preferencesController', JSON.stringify(_.pick(data, 'accountTokens')));\n                }\n            }\n            catch (e) {\n\n            }\n        });\n\n        this.memStore.updateStructure({\n            keyringController: this.keyringController.memStore,\n            preferencesController: this.preferencesController.store,\n            transactionsController: this.transactionsController.memStore,\n            accountManager: this.accountManager.store\n        });\n        this.memStore.subscribe((data) => {\n            this.sendUpdate();\n        });\n\n\n        const sendUpdate = (data) => {\n            // TODO anything?\n        };\n        this.on('update', sendUpdate);\n\n        this.RPCApi = this._setupRPCApi();\n    }\n\n    getProvider = () => {\n        return this.provider;\n    };\n\n    setProvider = (provider) => {\n        this.provider = provider;\n    };\n\n    /**\n     * The dnero-wallet-state of the various controllers, made available to the UI\n     *\n     * @returns {Object} status\n     */\n    getState() {\n        const { vault } = this.keyringController.store.getState();\n        const isInitialized = Boolean(vault);\n\n        return {\n            ...{ isInitialized },\n            ...this.memStore.getFlatState(),\n        };\n    }\n\n    /**\n     * A method for emitting the full Dnero Wallet state to all registered listeners.\n     * @private\n     */\n    _sendUpdate() {\n        this.emit('update', this.getState());\n    }\n\n\n    /**\n     * Handle a KeyringController update\n     * @param {Object} state - the KC state\n     * @returns {Promise<void>}\n     * @private\n     */\n    async _onKeyringVaultUpdate(state) {\n        const { keyrings } = state;\n        const addresses = keyrings.reduce(\n            (acc, { accounts }) => acc.concat(accounts),\n            [],\n        );\n\n        if (!addresses.length) {\n            return;\n        }\n\n        // Ensure preferences + identities controller know about all addresses\n        this.preferencesController.syncAddresses(addresses);\n        this.accountManager.syncAddresses(addresses);\n    }\n\n    /**\n     * Sets the first address in the state to the selected address\n     */\n    async selectFirstIdentity(){\n        const { identities } = this.preferencesController.store.getState();\n        const address = Object.keys(identities)[0];\n        await this.preferencesController.setSelectedAddress(address);\n    }\n\n    _setupRPCApi(){\n        return {\n            getState: this._getState.bind(this),\n\n            // Transactions\n            addTransactionRequest: this._addTransactionRequest.bind(this),\n            approveTransactionRequest: this._approveTransactionRequest.bind(this),\n            rejectTransactionRequest: this._rejectTransactionRequest.bind(this),\n\n            // Tokens\n            addToken: this._addToken.bind(this),\n            removeToken: this._removeToken.bind(this),\n\n            // Preferences\n            setSelectedAddress: this._setSelectedAddress.bind(this),\n            setSelectedNetwork: this._setSelectedNetwork.bind(this),\n\n            // Accounts\n            importAccount: this._importAccount.bind(this),\n\n            sendTransaction: this._sendTransaction.bind(this),\n\n            updateAccountStakes: this._updateAccountStakes.bind(this),\n            updateAccountBalances: this._updateAccountBalances.bind(this),\n            updateAccountTransactions: this._updateAccountTransactions.bind(this),\n\n            // Hardware wallets\n            connectHardware: this.connectHardware.bind(this),\n            forgetDevice: this.forgetDevice.bind(this),\n            checkHardwareStatus: this.checkHardwareStatus.bind(this),\n            unlockHardwareWalletAccount: this.unlockHardwareWalletAccount.bind(this),\n        };\n    }\n\n\n    async _sendTransaction(args){\n        const {transactionRequest} = args;\n\n        if(!this.getState().isInitialized){\n            throw Error('Your Dnero Wallet has not be initialized.');\n        }\n\n        const result = await this.transactionsController.addTransactionRequest(transactionRequest);\n\n        return result;\n    }\n\n    async _getState(args) {\n        const result = await this.getState();\n\n        return result;\n    }\n\n    async _addTransactionRequest(args) {\n        const {transactionRequest} = args;\n\n        const result = await this.transactionsController.addTransactionRequest(transactionRequest);\n\n        return result;\n    }\n\n    async _approveTransactionRequest(args) {\n        const {transactionRequestId, onDependencySent} = args;\n\n        const result = await this.transactionsController.approveTransactionRequest(transactionRequestId, onDependencySent);\n\n        return result;\n    }\n\n    async _rejectTransactionRequest(args) {\n        const {transactionRequestId} = args;\n\n        const result = await this.transactionsController.rejectTransactionRequest(transactionRequestId);\n\n        return result;\n    }\n\n    async _addToken(args) {\n        const {token} = args;\n        const {address, symbol, decimals, image} = token;\n\n        const result = await this.preferencesController.addToken(address, symbol, decimals, image);\n\n        return result;\n    }\n\n    async _removeToken(args) {\n        const {address} = args;\n\n        const result = await this.preferencesController.removeToken(address);\n\n        return result;\n    }\n\n    async _setSelectedAddress(args) {\n        const {address} = args;\n\n        const result = await this.preferencesController.setSelectedAddress(address);\n\n        return result;\n    }\n\n    async _setSelectedNetwork(args) {\n        const {network} = args;\n\n        const result = await this.preferencesController.setNetwork(network);\n\n        return result;\n    }\n\n    async _importAccount(args) {\n        const {importType, privateKey, encryptedJson, encryptedJsonPassword, name} = args;\n        let privateKeyToImport = null;\n\n        if(privateKey){\n            privateKeyToImport = privateKey;\n        }\n        else if(encryptedJson && encryptedJsonPassword){\n            const wallet = dnerojs.Wallet.fromEncryptedJson(encryptedJson, encryptedJsonPassword, null);\n            privateKeyToImport = wallet.privateKey;\n        }\n        else{\n            throw new Error('Invalid account.');\n        }\n\n        const keyring = await this.keyringController.addNewKeyring(\n            SimpleKeyring.type,\n            [privateKeyToImport],\n        );\n\n        const accounts = await keyring.getAccounts();\n        // update accounts in preferences controller\n        const allAccounts = await this.keyringController.getAccounts();\n        this.preferencesController.setAddresses(allAccounts);\n\n        // Set account name\n        const newAccount = accounts[0];\n        if(newAccount && name){\n            await this.preferencesController.setAccountName(newAccount, name);\n        }\n\n        // set new account as selected\n        await this.preferencesController.setSelectedAddress(newAccount);\n\n        this.accountManager.start();\n\n        return true;\n    }\n\n\n    async _updateAccountStakes(args) {\n        const {address} = args;\n\n        return this.accountManager.updateAccountStakes(address);\n    }\n\n    async _updateAccountBalances(args) {\n        const {} = args;\n\n        return this.accountManager.updateAccounts();\n    }\n\n    async _updateAccountTransactions(args) {\n        const {address} = args;\n\n        return this.transactionsController.updateAccountTransactions(address);\n    }\n\n    //\n    // Hardware\n    //\n\n    async getKeyringForDevice(deviceName, hdPath = null) {\n        let keyringName = null\n        switch (deviceName) {\n            case 'trezor':\n                keyringName = TrezorKeyring.type\n                break\n            case 'ledger':\n                keyringName = LedgerKeyring.type\n                break\n            default:\n                throw new Error(\n                    'DneroWalletController:getKeyringForDevice - Unknown device',\n                )\n        }\n        let keyring = await this.keyringController.getKeyringsByType(keyringName)[0]\n        if (!keyring) {\n            keyring = await this.keyringController.addNewKeyring(keyringName)\n        }\n        if (hdPath && keyring.setHdPath) {\n            // Transform the hdPath so it can be used properly\n            if(hdPath === EthereumDerivationPath){\n                hdPath = EthereumDerivationPath;\n            }\n            else if(hdPath === EthereumOtherDerivationPath){\n                hdPath = EthereumOtherDerivationPath;\n            }\n            else if(hdPath === EthereumLedgerLiveDerivationPath){\n                hdPath = \"m/44'/60'/0'/0/0\";\n            }\n\n            keyring.setHdPath(hdPath)\n        }\n\n        return keyring\n    }\n\n    /**\n     * Fetch account list from a trezor device.\n     *\n     * @returns [] accounts\n     */\n    async connectHardware(deviceName, page, hdPath) {\n        const keyring = await this.getKeyringForDevice(deviceName, hdPath)\n        let accounts = []\n        switch (page) {\n            case -1:\n                accounts = await keyring.getPreviousPage()\n                break\n            case 1:\n                accounts = await keyring.getNextPage()\n                break\n            default:\n                accounts = await keyring.getFirstPage()\n        }\n\n        // Merge with existing accounts\n        // and make sure addresses are not repeated\n        const oldAccounts = await this.keyringController.getAccounts()\n        const accountsToTrack = [\n            ...new Set(\n                oldAccounts.concat(accounts.map((a) => a.address.toLowerCase())),\n            ),\n        ]\n        this.accountManager.syncAddresses(accountsToTrack)\n        return accounts\n    }\n\n    /**\n     * Check if the device is unlocked\n     *\n     * @returns {Promise<boolean>}\n     */\n    async checkHardwareStatus(deviceName, hdPath) {\n        const keyring = await this.getKeyringForDevice(deviceName, hdPath)\n        return keyring.isUnlocked()\n    }\n\n    /**\n     * Clear\n     *\n     * @returns {Promise<boolean>}\n     */\n    async forgetDevice(deviceName) {\n        const keyring = await this.getKeyringForDevice(deviceName)\n        keyring.forgetDevice()\n        return true\n    }\n\n    /**\n     * Imports an account from a trezor device.\n     *\n     * @returns {} keyState\n     */\n    async unlockHardwareWalletAccount(index, deviceName, hdPath) {\n        const keyring = await this.getKeyringForDevice(deviceName, hdPath)\n\n        keyring.setAccountToUnlock(index)\n        const oldAccounts = await this.keyringController.getAccounts()\n        const keyState = await this.keyringController.addNewAccount(keyring)\n        const newAccounts = await this.keyringController.getAccounts()\n        this.preferencesController.setAddresses(newAccounts)\n        newAccounts.forEach((address) => {\n            if (!oldAccounts.includes(address)) {\n                // Select the account\n                this.preferencesController.setSelectedAddress(address)\n            }\n        });\n\n        this.accountManager.start();\n\n        const { identities } = this.preferencesController.store.getState()\n        return { ...keyState, identities }\n    }\n}\n","import * as dnerojs from '@dnerolabs/dnero-js';\nimport { ethers } from 'ethers';\nimport _ from \"lodash\";\nimport Ethereum from './Ethereum'\nimport Dnero from \"./Dnero\";\nimport Api from './Api';\nimport TrezorConnect from 'trezor-connect';\nimport Trezor from './Trezor';\nimport Ledger from './Ledger';\nimport Eth from \"@ledgerhq/hw-app-eth\";\nimport TransportWebUSB from \"@ledgerhq/hw-transport-webusb\";\nimport TransportU2F from \"@ledgerhq/hw-transport-u2f\";\nimport DneroWalletController from \"../controllers/dnero-wallet\";\n\nconst ethUtil = require('ethereumjs-util');\n\n//DO NOT TOUCH THESE!!!\nconst BaseDerivationPath = \"m/44'/60'/0'/0/\";\nexport const EthereumDerivationPath = \"m/44'/60'/0'/0/\";\nexport const EthereumOtherDerivationPath = \"m/44'/60'/0'/\";\nexport const EthereumLedgerLiveDerivationPath = \"m/44'/60'/\";\n//END\nexport const DneroDevDerivationPath = \"m/44'/500'/\";\n\nconst MnemonicPath = \"m/44'/500'/0'/0/0\";\n\nexport const NumPathsPerPage = 5;\n\nexport const WalletUnlockStrategy = {\n    KEYSTORE_FILE: 'keystore-file',\n    MNEMONIC_PHRASE: 'mnemonic-phrase',\n    COLD_WALLET: 'cold-wallet',\n    PRIVATE_KEY: 'private-key',\n};\n\nconst getDneroWalletControllerState = () => {\n    try {\n        const preferencesControllerState = localStorage.getItem('preferencesController');\n\n        return {\n            preferencesController: (_.isEmpty(preferencesControllerState) ? {} : JSON.parse(preferencesControllerState))\n        }\n    }\n    catch (e) {\n        return {}\n    }\n}\n\nexport default class Wallet {\n    static _wallet = null;\n    static _keystore = null;\n    static controller = new DneroWalletController({\n        initState: getDneroWalletControllerState()\n    });\n\n    static setWallet(wallet){\n        this._wallet = wallet;\n\n        if(wallet === null){\n            //Also clear the encrypted keystore\n            Wallet.setKeystore(null);\n        }\n    }\n\n    static getWallet(){\n        return this._wallet;\n    }\n\n    static setKeystore(keystore){\n        this._keystore = keystore;\n    }\n\n    static getKeystore(){\n        return this._keystore;\n    }\n\n    static getWalletAddress(){\n        return _.get(this._wallet, ['address'], null);\n    }\n\n    static getWalletPath(){\n        return _.get(this._wallet, ['path'], null);\n    }\n\n    static getWalletHardware(){\n        return _.get(this._wallet, ['hardware'], null);\n    }\n\n    static unlocked(){\n        return (this._wallet !== null);\n    }\n\n    static encryptToKeystore(privateKey, password){\n        let web3 = Ethereum.getWeb3();\n\n        return web3.eth.accounts.encrypt(privateKey, password);\n    }\n\n    static decryptFromKeystore(keystoreJsonV3, password){\n        let web3 = Ethereum.getWeb3();\n\n        return web3.eth.accounts.decrypt(keystoreJsonV3, password);\n    }\n\n    static walletFromMnemonic(mnemonic){\n        return ethers.Wallet.fromMnemonic(mnemonic, MnemonicPath);\n    }\n\n    static walletFromPrivateKey(privateKey){\n        let web3 = Ethereum.getWeb3();\n\n        return web3.eth.accounts.privateKeyToAccount(privateKey);\n    }\n\n    static async walletFromTrezor(page){\n        // window.__TREZOR_CONNECT_SRC = 'https://localhost:8088/'; //TODO: for dev\n\n        TrezorConnect.manifest({\n            email: 'support@dnerochain.org',\n            appUrl: 'https://wallet.dnerochain.org',\n            keepSession: true\n        });\n\n\n        let bundle = [];\n        for(var i = 0; i < 50; i++){\n            bundle.push({ path: BaseDerivationPath + (page * NumPathsPerPage + i), showOnTrezor: false });\n        }\n\n        const result = await TrezorConnect.ethereumGetAddress({\n            bundle: bundle,\n            keepSession: true\n        });\n\n        return result;\n    }\n\n    static async walletFromLedger(page, derivationPath){\n        let transport;\n        if(navigator.userAgent.toLowerCase().indexOf('firefox') > -1){\n            transport = await TransportU2F.create();\n        }\n        else {\n            transport = await TransportWebUSB.create();\n        }\n        const app = new Eth(transport);\n\n        let result = [], res = {};\n        for(var i = 0; i < 5; i++){\n            var path = \"\";\n            if (derivationPath === DneroDevDerivationPath) {\n                path = DneroDevDerivationPath + (page * NumPathsPerPage + i) + \"'/0/0\";\n            } else if(derivationPath === EthereumDerivationPath){\n                path = EthereumDerivationPath + (page * NumPathsPerPage + i);\n            }\n            else if(derivationPath === EthereumOtherDerivationPath){\n                path = EthereumOtherDerivationPath + (page * NumPathsPerPage + i);\n            }\n            else if(derivationPath === EthereumLedgerLiveDerivationPath){\n                path = EthereumLedgerLiveDerivationPath + (page * NumPathsPerPage + i) + \"'/0/0\";\n            }\n            res = await app.getAddress(path, false, false);\n\n            result.push({address: res.address, serializedPath: path});\n\n        }\n\n        // transport.close();\n        return result;\n    }\n\n    static createWallet(password){\n        const random = dnerojs.Wallet.createRandom();\n        const mnemonic = random.mnemonic.phrase;\n        let wallet = this.walletFromMnemonic(mnemonic);\n        let keystore = this.encryptToKeystore(wallet.privateKey, password);\n\n        return {\n            wallet: wallet,\n            keystore: keystore\n        };\n    }\n\n    static async unlockWallet(strategy, password, data){\n        let wallet = null;\n        let { keystore, mnemonic, privateKey, hardware, address, path } = data;\n\n        try{\n            if(strategy === WalletUnlockStrategy.KEYSTORE_FILE){\n                if(typeof keystore === 'string' || keystore instanceof String){\n                    //Parse the keystore file\n                    keystore = JSON.parse(keystore);\n                }\n\n                wallet = Wallet.decryptFromKeystore(keystore, password);\n\n                await this.controller.RPCApi.importAccount({\n                    privateKey: wallet.privateKey\n                });\n            }\n            else if(strategy === WalletUnlockStrategy.MNEMONIC_PHRASE){\n                mnemonic = mnemonic.toString();\n                mnemonic = _.trim(mnemonic);\n\n                wallet = Wallet.walletFromMnemonic(mnemonic.toString());\n\n                await this.controller.RPCApi.importAccount({\n                    privateKey: wallet.privateKey\n                });\n            }\n            else if(strategy === WalletUnlockStrategy.PRIVATE_KEY){\n                privateKey = _.trim(privateKey);\n\n                if(privateKey.startsWith(\"0x\") === false){\n                    privateKey = \"0x\" + privateKey;\n                }\n\n                let privateKeyBuffer = ethUtil.toBuffer(privateKey);\n\n                if(!ethUtil.isValidPrivate(privateKeyBuffer)){\n                    throw new Error(\"Private key does not satisfy the curve requirements (ie. it is invalid)\");\n                }\n\n                wallet = Wallet.walletFromPrivateKey(privateKey);\n\n                await this.controller.RPCApi.importAccount({\n                    privateKey: privateKey\n                });\n            }\n            else if(strategy === WalletUnlockStrategy.COLD_WALLET){\n                wallet = {};\n                wallet.address = address;\n            }\n\n            if(wallet){\n                //Only store the address in memory\n                Wallet.setWallet({address: wallet.address, path: path, hardware: hardware});\n\n                if(strategy !== WalletUnlockStrategy.COLD_WALLET && (keystore === null || keystore === undefined)){\n                    //The user is restoring a wallet, let's encrypt their keystore using their session password\n                    keystore = Wallet.encryptToKeystore(wallet.privateKey, password);\n                }\n\n                Wallet.setKeystore(keystore);\n            }\n\n            return wallet;\n        }\n        catch (e) {\n            let message = null;\n\n            if(strategy === WalletUnlockStrategy.KEYSTORE_FILE){\n                message = \"Wrong password OR invalid keystore.\";\n            }\n            else if(strategy === WalletUnlockStrategy.MNEMONIC_PHRASE){\n                message = \"No wallet found for this mnemonic phrase.\";\n            }\n            else if(strategy === WalletUnlockStrategy.PRIVATE_KEY){\n                message = \"No wallet found for this private key.\";\n            }\n\n            throw new Error(message);\n        }\n    }\n\n    static async getDneroTxSequence(address, network){\n        let response = await Api.fetchSequence(address, {network: network});\n        let responseJSON = await response.json();\n        let sequence = parseInt(responseJSON['sequence']) + 1;\n\n        return sequence;\n    }\n\n    static verifyPassword(password){\n        try {\n            let hardware = Wallet.getWalletHardware();\n\n            if(hardware === \"trezor\"){\n                return true;\n            }\n            else if(hardware === \"ledger\"){\n                return true;\n            }\n            else {\n                let keystore = Wallet.getKeystore();\n                let wallet = Wallet.decryptFromKeystore(keystore, password);\n\n                return !!wallet;\n            }\n        }\n        catch (e) {\n            return false;\n        }\n    }\n\n    static async signTransaction(network, unsignedTx, password){\n        let hardware = Wallet.getWalletHardware();\n\n        if(hardware === \"trezor\"){\n            return Trezor.signTransaction(unsignedTx);\n        }\n        else if(hardware === \"ledger\"){\n            return Ledger.signTransaction(unsignedTx);\n        }\n        else {\n            let keystore = Wallet.getKeystore();\n            let wallet = Wallet.decryptFromKeystore(keystore, password);\n\n            if(wallet){\n                //User had the correct password\n                return Dnero.signTransaction(unsignedTx, wallet.privateKey);\n            }\n            else{\n                throw new Error('Wrong password. Your transaction could not be signed.');\n            }\n        }\n    }\n\n    static exportKeystore(currentPassword, newPassword){\n        let keystore = Wallet.getKeystore();\n        let wallet = Wallet.decryptFromKeystore(keystore, currentPassword);\n\n        if(wallet){\n            let keystore = Wallet.encryptToKeystore(wallet.privateKey, newPassword);\n\n            return keystore;\n        }\n        else{\n            throw new Error('Wrong password.  Your keystore could not be exported.');\n        }\n    }\n}\n","import * as actionTypes from '../types/ui';\n\nexport function showModal(modal){\n    return {\n        type: actionTypes.SHOW_MODAL,\n        modal: modal\n    }\n}\n\nexport function hideModal(){\n    return {\n        type: actionTypes.HIDE_MODAL\n    }\n}\n\nexport function hideModals(){\n    return {\n        type: actionTypes.HIDE_MODALS\n    }\n}\n\nexport function showLoader(message) {\n    return {\n        type: actionTypes.SHOW_LOADER,\n        message: message,\n    };\n}\n\nexport function hideLoader() {\n    return {\n        type: actionTypes.HIDE_LOADER,\n    };\n}\n","import DneroJS from '../libs/dnerojs.esm';\nimport TrezorConnect from 'trezor-connect';\nimport Web3 from 'web3';\nimport Wallet from './Wallet'\nimport Dnero from \"./Dnero.js\"\n\nconst rpcURL = \"https://mainnet.infura.io/v3/40980e2189924c8abfc5f60dd2e5dc4b\";\nconst web3 = new Web3(rpcURL);\n\nexport default class Trezor {\n    static async signTransaction(unsignedTx){\n        let payload = Dnero.prepareTxPayload(unsignedTx);\n\n        const trezorSignParams = {\n            path: Wallet.getWalletPath(),\n            transaction: {\n                chainId: 1,\n                nonce: web3.utils.toHex('0'),\n                gasPrice: web3.utils.toHex('0'),\n                gasLimit: web3.utils.toHex('0'),\n                to: \"0000000000000000000000000000000000000000\",\n                value: web3.utils.toHex('0'),\n                data: payload,\n            },\n        };\n        const signedTx = await TrezorConnect.ethereumSignTransaction(trezorSignParams);\n        if (signedTx.payload.error) {\n            throw signedTx.payload.error;\n        }\n        let signature = signedTx.payload.r + signedTx.payload.s.slice(2) + (parseInt(signedTx.payload.v, 16) - 37).toString().padStart(2, '0');\n        unsignedTx.setSignature(signature);\n        let signedRawTxBytes = DneroJS.TxSigner.serializeTx(unsignedTx);\n        let signedTxRaw = signedRawTxBytes.toString('hex');\n\n        //Remove the '0x' until the RPC endpoint supports '0x' prefixes\n        // signedTxRaw = signedTxRaw.substring(2);\n\n        if(signedTxRaw){\n            return signedTxRaw;\n        }\n        else{\n            throw new Error(\"Failed to sign transaction.\");\n        }\n    }\n}\n","import DneroJS from '../libs/dnerojs.esm';\nimport TransportWebUSB from \"@ledgerhq/hw-transport-webusb\";\nimport TransportU2F from \"@ledgerhq/hw-transport-u2f\";\nimport Eth from \"@ledgerhq/hw-app-eth\";\nimport Wallet from './Wallet';\nimport Dnero from \"./Dnero.js\";\nimport { DneroDevDerivationPath } from './Wallet';\n\nexport default class Ledger {\n    static async signTransaction(ethApp, path, unsignedTx){\n        let chainID = Dnero.getChainID();\n        let ethTxWrapper = unsignedTx.signBytes(chainID).slice(2); // remove the '0x' prefix\n        let sig = await ethApp.signTransaction(path, ethTxWrapper);\n\n        let signature = '0x' + sig.r + sig.s + (parseInt(sig.v, 16) - 27).toString().padStart(2, '0');\n        unsignedTx.setSignature(signature);\n\n        let signedRawTxBytes = DneroJS.TxSigner.serializeTx(unsignedTx);\n        let signedTxRaw = signedRawTxBytes.toString('hex');\n\n        //Remove the '0x' until the RPC endpoint supports '0x' prefixes\n        signedTxRaw = signedTxRaw.substring(2);\n\n        if(signedTxRaw){\n            return signedTxRaw;\n        }\n        else{\n            throw new Error(\"Failed to sign transaction.\");\n        }\n    }\n\n    static async signTransactionLegacy(unsignedTx){\n        let chainID = Dnero.getChainID();\n        let ethTxWrapper = unsignedTx.signBytes(chainID).slice(2); // remove the '0x' prefix\n        let path = Wallet.getWalletPath();\n        let transport;\n        if(navigator.userAgent.toLowerCase().indexOf('firefox') > -1){\n            transport = await TransportU2F.create();\n        }\n        else {\n            transport = await TransportWebUSB.create();\n        }\n        var eth = new Eth(transport);\n        let sig = await eth.signTransaction(Wallet.getWalletPath(), ethTxWrapper);\n        // transport.close();\n\n        let signature = '0x' + sig.r + sig.s + (parseInt(sig.v, 16) - 27).toString().padStart(2, '0');\n        unsignedTx.setSignature(signature);\n\n        let signedRawTxBytes = DneroJS.TxSigner.serializeTx(unsignedTx);\n        let signedTxRaw = signedRawTxBytes.toString('hex');\n\n        //Remove the '0x' until the RPC endpoint supports '0x' prefixes\n        signedTxRaw = signedTxRaw.substring(2);\n\n        if(signedTxRaw){\n            return signedTxRaw;\n        }\n        else{\n            throw new Error(\"Failed to sign transaction.\");\n        }\n    }\n}\n","import _ from 'lodash';\nimport Trezor from \"../../services/Trezor\";\nconst { EventEmitter } = require('events')\nconst ethUtil = require('ethereumjs-util')\nconst HDKey = require('hdkey')\nconst TrezorConnect = require('trezor-connect').default\nconst hdPathString = `m/44'/60'/0'/0`\nconst keyringType = 'Trezor Hardware'\nconst pathBase = 'm'\nconst MAX_INDEX = 1000\nconst DELAY_BETWEEN_POPUPS = 1000\nconst TREZOR_CONNECT_MANIFEST = {\n    email: 'support@dnerochain.org',\n    appUrl: 'https://wallet.dnerochain.org',\n    keepSession: true\n};\n\nclass TrezorKeyring extends EventEmitter {\n    constructor (opts = {}) {\n        super()\n        this.type = keyringType\n        this.accounts = []\n        this.hdk = new HDKey()\n        this.page = 0\n        this.perPage = 5\n        this.unlockedAccount = 0\n        this.paths = {}\n        this.deserialize(opts)\n        TrezorConnect.manifest(TREZOR_CONNECT_MANIFEST)\n    }\n\n    serialize () {\n        return Promise.resolve({\n            hdPath: this.hdPath,\n            accounts: this.accounts,\n            page: this.page,\n            paths: this.paths,\n            perPage: this.perPage,\n            unlockedAccount: this.unlockedAccount,\n        })\n    }\n\n    deserialize (opts = {}) {\n        this.hdPath = opts.hdPath || hdPathString\n        this.accounts = opts.accounts || []\n        this.page = opts.page || 0\n        this.perPage = opts.perPage || 5\n        return Promise.resolve()\n    }\n\n    isUnlocked () {\n        return !!(this.hdk && this.hdk.publicKey)\n    }\n\n    unlock () {\n        if (this.isUnlocked()) return Promise.resolve('already unlocked')\n        return new Promise((resolve, reject) => {\n            TrezorConnect.getPublicKey({\n                path: this.hdPath,\n                coin: 'ETH',\n            }).then(response => {\n                if (response.success) {\n                    this.hdk.publicKey = new Buffer(response.payload.publicKey, 'hex')\n                    this.hdk.chainCode = new Buffer(response.payload.chainCode, 'hex')\n                    resolve('just unlocked')\n                } else {\n                    reject(new Error(response.payload && response.payload.error || 'Unknown error'))\n                }\n            }).catch(e => {\n                reject(new Error(e && e.toString() || 'Unknown error'))\n            })\n        })\n    }\n\n    setAccountToUnlock (index) {\n        this.unlockedAccount = parseInt(index, 10)\n    }\n\n    addAccounts (n = 1) {\n        return new Promise((resolve, reject) => {\n            this.unlock()\n                .then(_ => {\n                    const from = this.unlockedAccount\n                    const to = from + n\n                    this.accounts = []\n\n                    for (let i = from; i < to; i++) {\n                        const address = this._addressFromIndex(pathBase, i)\n                        this.accounts.push(address)\n                        this.page = 0\n                    }\n                    resolve(this.accounts)\n                })\n                .catch(e => {\n                    reject(e)\n                })\n        })\n    }\n\n    getFirstPage () {\n        this.page = 0\n        return this._getPage(1)\n    }\n\n    getNextPage () {\n        return this._getPage(1)\n    }\n\n    getPreviousPage () {\n        return this._getPage(-1)\n    }\n\n    _getPage (increment) {\n        this.page += increment\n\n        if (this.page <= 0) { this.page = 1 }\n\n        return new Promise((resolve, reject) => {\n            this.unlock()\n                .then(_ => {\n\n                    const from = (this.page - 1) * this.perPage\n                    const to = from + this.perPage\n\n                    const accounts = []\n\n                    for (let i = from; i < to; i++) {\n                        const address = this._addressFromIndex(pathBase, i)\n                        accounts.push({\n                            address: address,\n                            balance: null,\n                            index: i,\n                        })\n                        this.paths[ethUtil.toChecksumAddress(address)] = i\n\n                    }\n                    resolve(accounts)\n                })\n                .catch(e => {\n                    reject(e)\n                })\n        })\n    }\n\n    getAccounts () {\n        return Promise.resolve(this.accounts.slice())\n    }\n\n    removeAccount (address) {\n        if (!this.accounts.map(a => a.toLowerCase()).includes(address.toLowerCase())) {\n            throw new Error(`Address ${address} not found in this keyring`)\n        }\n        this.accounts = this.accounts.filter(a => a.toLowerCase() !== address.toLowerCase())\n    }\n\n    async signAndSendTransaction (fromAddress, transaction, provider) {\n        const unlockResult = await this.unlock();\n\n        if(_.isNil(transaction.getSequenceOverride())){\n            let sequence = await provider.getTransactionCount(fromAddress);\n            sequence = sequence + 1;\n            transaction.setSequence(sequence);\n        }\n        transaction.setFrom(ethUtil.toChecksumAddress(fromAddress));\n        const signedTxRaw = await Trezor.signTransaction(transaction);\n        const result = provider.sendTransaction(signedTxRaw);\n\n        return Promise.resolve(result);\n    }\n\n    signMessage (withAccount, data) {\n        return Promise.reject(new Error('Not supported on this device'))\n    }\n\n    // For personal_sign, we need to prefix the message:\n    signPersonalMessage (withAccount, message) {\n        return Promise.reject(new Error('Not supported on this device'))\n    }\n\n    signTypedData (withAccount, typedData) {\n        // Waiting on trezor to enable this\n        return Promise.reject(new Error('Not supported on this device'))\n    }\n\n    exportAccount (address) {\n        return Promise.reject(new Error('Not supported on this device'))\n    }\n\n    forgetDevice () {\n        this.accounts = []\n        this.hdk = new HDKey()\n        this.page = 0\n        this.unlockedAccount = 0\n        this.paths = {}\n    }\n\n    /* PRIVATE METHODS */\n\n    _normalize (buf) {\n        return ethUtil.bufferToHex(buf).toString()\n    }\n\n    _addressFromIndex (pathBase, i) {\n        const dkey = this.hdk.derive(`${pathBase}/${i}`)\n        const address = ethUtil\n            .publicToAddress(dkey.publicKey, true)\n            .toString('hex');\n        return ethUtil.toChecksumAddress(address).toLowerCase()\n    }\n\n    _pathFromAddress (address) {\n        const checksummedAddress = ethUtil.toChecksumAddress(address)\n        let index = this.paths[checksummedAddress]\n        if (typeof index === 'undefined') {\n            for (let i = 0; i < MAX_INDEX; i++) {\n                if (checksummedAddress === this._addressFromIndex(pathBase, i)) {\n                    index = i\n                    break\n                }\n            }\n        }\n\n        if (typeof index === 'undefined') {\n            throw new Error('Unknown address')\n        }\n        return `${this.hdPath}/${index}`\n    }\n}\n\nTrezorKeyring.type = keyringType;\n\nexport default TrezorKeyring;\n","import TransportU2F from \"@ledgerhq/hw-transport-u2f\";\nimport TransportWebUSB from \"@ledgerhq/hw-transport-webusb\";\nimport Eth from \"@ledgerhq/hw-app-eth\";\nimport _ from \"lodash\";\nimport Ledger from \"../../services/Ledger\";\n\nconst {EventEmitter} = require('events')\nconst HDKey = require('hdkey')\nconst ethUtil = require('ethereumjs-util')\n\nconst hdPathString = `m/44'/60'/0'`\nconst type = 'Ledger Hardware'\nconst pathBase = 'm'\nconst MAX_INDEX = 1000\n\nclass LedgerKeyring extends EventEmitter {\n    constructor (opts = {}) {\n        super()\n        this.accountIndexes = {}\n        this.type = type\n        this.page = 0\n        this.perPage = 5\n        this.unlockedAccount = 0\n        this.hdk = new HDKey()\n        this.paths = {}\n        this.deserialize(opts)\n    }\n\n    serialize () {\n        return Promise.resolve({\n            hdPath: this.hdPath,\n            accounts: this.accounts,\n            accountIndexes: this.accountIndexes,\n        })\n    }\n\n    deserialize (opts = {}) {\n        this.hdPath = opts.hdPath || hdPathString\n        this.accounts = opts.accounts || []\n        this.accountIndexes = opts.accountIndexes || {}\n\n        if (this._isBIP44()) {\n            // Remove accounts that don't have corresponding account indexes\n            this.accounts = this.accounts\n                .filter(account => Object.keys(this.accountIndexes).includes(ethUtil.toChecksumAddress(account)))\n        }\n\n        return Promise.resolve()\n    }\n\n    isUnlocked () {\n        return !!(this.hdk && this.hdk.publicKey)\n    }\n\n    setAccountToUnlock (index) {\n        this.unlockedAccount = parseInt(index, 10)\n    }\n\n    setHdPath (hdPath) {\n        // Reset HDKey if the path changes\n        if (this.hdPath !== hdPath) {\n            this.hdk = new HDKey()\n        }\n        this.hdPath = hdPath\n    }\n\n    unlock (hdPath) {\n        if (this.isUnlocked() && !hdPath) return Promise.resolve('already unlocked')\n        const path = hdPath ? this._toLedgerPath(hdPath) : this.hdPath\n        return new Promise(async (resolve, reject) => {\n            try {\n                const app = await this._getETH();\n                const payload = await app.getAddress(path, false, true);\n                this.hdk.publicKey = new Buffer(payload.publicKey, 'hex');\n                this.hdk.chainCode = new Buffer(payload.chainCode, 'hex');\n\n                resolve(payload.address.toLowerCase());\n            }\n            catch (e) {\n                reject(new Error(e.message || 'Unknown error'))\n            }\n        })\n    }\n\n    addAccounts (n = 1) {\n        return new Promise((resolve, reject) => {\n            this.unlock()\n                .then(async _ => {\n                    const from = this.unlockedAccount\n                    const to = from + n\n                    this.accounts = []\n                    for (let i = from; i < to; i++) {\n                        let address\n                        if (this._isBIP44()) {\n                            const path = this._getPathForIndex(i)\n                            address = await this.unlock(path)\n                            this.accountIndexes[ethUtil.toChecksumAddress(address)] = i\n                        } else {\n                            address = this._addressFromIndex(pathBase, i)\n                        }\n                        this.accounts.push(address)\n                        this.page = 0\n                    }\n                    resolve(this.accounts)\n                })\n                .catch(e => {\n                    reject(e)\n                })\n        })\n    }\n\n    getFirstPage () {\n        this.page = 0\n        return this._getPage(1)\n    }\n\n    getNextPage () {\n        return this._getPage(1)\n    }\n\n    getPreviousPage () {\n        return this._getPage(-1)\n    }\n\n    getAccounts () {\n        return Promise.resolve(this.accounts.slice())\n    }\n\n    removeAccount (address) {\n        if (!this.accounts.map(a => a.toLowerCase()).includes(address.toLowerCase())) {\n            throw new Error(`Address ${address} not found in this keyring`)\n        }\n        this.accounts = this.accounts.filter(a => a.toLowerCase() !== address.toLowerCase())\n        delete this.accountIndexes[ethUtil.toChecksumAddress(address)]\n    }\n\n    async signAndSendTransaction (fromAddress, transaction, provider) {\n        const unlockResult = await this.unlock();\n        let hdPath;\n        if (this._isBIP44()) {\n            const checksummedAddress = ethUtil.toChecksumAddress(fromAddress)\n            if (!Object.keys(this.accountIndexes).includes(checksummedAddress)) {\n                throw (new Error(`Ledger: Index for address '${checksummedAddress}' not found`))\n            }\n            hdPath = this._getPathForIndex(this.accountIndexes[checksummedAddress])\n        } else {\n            hdPath = this._toLedgerPath(this._pathFromAddress(fromAddress))\n        }\n\n        if(_.isNil(transaction.getSequenceOverride())){\n            let sequence = await provider.getTransactionCount(fromAddress);\n            sequence = sequence + 1;\n            transaction.setSequence(sequence);\n        }\n        transaction.setFrom(ethUtil.toChecksumAddress(fromAddress));\n\n        const app = await this._getETH();\n        const signedTxRaw = await Ledger.signTransaction(app, hdPath, transaction);\n        const result = provider.sendTransaction(signedTxRaw);\n\n        return Promise.resolve(result);\n    }\n\n    signMessage (withAccount, data) {\n        throw new Error('Not supported on this device')\n    }\n\n    // For personal_sign, we need to prefix the message:\n    signPersonalMessage (withAccount, message) {\n        throw new Error('Not supported on this device')\n    }\n\n    signTypedData (withAccount, typedData) {\n        throw new Error('Not supported on this device')\n    }\n\n    exportAccount (address) {\n        throw new Error('Not supported on this device')\n    }\n\n    forgetDevice () {\n        this.accounts = []\n        this.page = 0\n        this.unlockedAccount = 0\n        this.paths = {}\n        this.hdk = new HDKey()\n    }\n\n    /* PRIVATE METHODS */\n\n    async _getPage (increment) {\n        this.page += increment\n\n        if (this.page <= 0) { this.page = 1 }\n        const from = (this.page - 1) * this.perPage\n        const to = from + this.perPage\n\n        await this.unlock()\n        let accounts\n        if (this._isBIP44()) {\n            accounts = await this._getAccountsBIP44(from, to)\n        } else {\n            accounts = this._getAccountsLegacy(from, to)\n        }\n        return accounts\n    }\n\n    async _getAccountsBIP44 (from, to) {\n        const accounts = []\n\n        for (let i = from; i < to; i++) {\n            const path = this._getPathForIndex(i)\n            const address = await this.unlock(path)\n            accounts.push({\n                address: address.toLowerCase(),\n                balance: null,\n                index: i,\n            })\n        }\n        return accounts\n    }\n\n    _getAccountsLegacy (from, to) {\n        const accounts = []\n\n        for (let i = from; i < to; i++) {\n            const address = this._addressFromIndex(pathBase, i)\n            accounts.push({\n                address: address,\n                balance: null,\n                index: i,\n            })\n            this.paths[ethUtil.toChecksumAddress(address)] = i\n        }\n        return accounts\n    }\n\n    _padLeftEven (hex) {\n        return hex.length % 2 !== 0 ? `0${hex}` : hex\n    }\n\n    _normalize (buf) {\n        return this._padLeftEven(ethUtil.bufferToHex(buf).toLowerCase())\n    }\n\n    _addressFromIndex (pathBase, i) {\n        const dkey = this.hdk.derive(`${pathBase}/${i}`)\n        const address = ethUtil\n            .publicToAddress(dkey.publicKey, true)\n            .toString('hex')\n        return ethUtil.toChecksumAddress(address).toLowerCase()\n    }\n\n    _pathFromAddress (address) {\n        const checksummedAddress = ethUtil.toChecksumAddress(address)\n        let index = this.paths[checksummedAddress]\n        if (typeof index === 'undefined') {\n            for (let i = 0; i < MAX_INDEX; i++) {\n                if (checksummedAddress === this._addressFromIndex(pathBase, i)) {\n                    index = i\n                    break\n                }\n            }\n        }\n\n        if (typeof index === 'undefined') {\n            throw new Error('Unknown address')\n        }\n        return this._getPathForIndex(index)\n    }\n\n    _getPathForIndex (index) {\n        // Check if the path is BIP 44 (Ledger Live)\n        return this._isBIP44() ? `m/44'/60'/${index}'/0/0` : `${this.hdPath}${index}`\n    }\n\n    _isBIP44 () {\n        return this.hdPath === `m/44'/60'/0'/0/0`\n    }\n\n    _toLedgerPath (path) {\n        return path.toString().replace('m/', '')\n    }\n\n    async _getETH () {\n        let transport;\n        if(navigator.userAgent.toLowerCase().indexOf('firefox') > -1){\n            transport = await TransportU2F.create();\n        }\n        else {\n            transport = await TransportWebUSB.create();\n        }\n        const app = new Eth(transport);\n\n        return app;\n    }\n}\n\nLedgerKeyring.type = type;\n\nexport default LedgerKeyring;\n","import * as dnerojs from '@dnerolabs/dnero-js';\nimport DneroJS from \"../libs/dnerojs.esm\";\n\nexport const SingleCallTokenBalancesAddressByChainId = {\n    [dnerojs.networks.ChainIds.Mainnet]: '0xb6ecbc094abd0ff7cf030ec9e81f6ca8045b87f9',\n    [dnerojs.networks.ChainIds.Testnet]: '0xf0cfe34a7e053520f08bf0a982391810ece9c582',\n    [dnerojs.networks.ChainIds.Privatenet]: '0xedba30e32e11ae95ca9c000b8de97c7af087c7de'\n};\n\nexport const DDropStakingAddressByChainId = {\n    [dnerojs.networks.ChainIds.Mainnet]: '0xA89c744Db76266ecA60e2b0F62Afcd1f8581b7ed',\n    [dnerojs.networks.ChainIds.Testnet]: '0xA8bfA60203E55f86Dc7013CBf3d8fF85bb1d3cC7',\n};\n\nexport const DDropAddressByChainId = {\n    [dnerojs.networks.ChainIds.Mainnet]: '0x1336739B05C7Ab8a526D40DCC0d04a826b5f8B03',\n    [dnerojs.networks.ChainIds.Testnet]: '0x08a0c0e8EFd07A98db11d79165063B6Bc2469ADF',\n};\n\nexport const StakePurposeForDDROP = 1000;\n\nexport const Urls = {\n    PreventingLostTokens: 'https://docs.dnerochain.org/docs/preventing-lost-eth-erc20-tokens'\n};\n\nexport const FaucetAvailable = false;\n\n\nexport function getMinStakeAmount(purpose){\n    if(purpose === dnerojs.constants.StakePurpose.StakeForValidator){\n        return 200000.0;\n    }\n    else if(purpose === dnerojs.constants.StakePurpose.StakeForSentry){\n        return 1000.0;\n    }\n    else if(purpose === dnerojs.constants.StakePurpose.StakeForEliteEdge){\n        return 10000.0;\n    }\n\n    //Unknown\n    return 0.0;\n}\n\nexport function getMaxStakeAmount(purpose){\n    if(purpose === dnerojs.constants.StakePurpose.StakeForEliteEdge){\n        return 500000.0;\n    }\n\n    //No max\n    return 100000000000.0;\n}\n\nexport function getMaxDelegatedStakeAmount(purpose){\n    if(purpose === dnerojs.constants.StakePurpose.StakeForSentry){\n        //No max\n        return 100000000000.0;\n    }\n\n    //Unknown\n    return 0.0;\n}\n","import {BigNumber} from 'bignumber.js';\nimport Ethereum from \"./Ethereum\";\nimport DneroJS from '../libs/dnerojs.esm';\nimport TokenTypes from \"../constants/TokenTypes\";\nimport Config from '../Config';\nimport RLP from 'eth-lib/lib/rlp';\nimport Bytes from 'eth-lib/lib/bytes';\nimport {NetworkExplorerUrls} from '../constants/Networks';\n\nexport default class Dnero {\n    static _chainId = Config.defaultDneroChainID;\n\n    static setChainID(newChainID){\n        this._chainId = newChainID;\n    }\n\n    static getChainID(){\n        return this._chainId;\n    }\n\n    static getTransactionExplorerUrl(transaction){\n        const chainId = this.getChainID();\n        const urlBase = NetworkExplorerUrls[chainId];\n\n        return`${urlBase}/txs/${transaction.hash}`;\n    }\n\n    static getAccountExplorerUrl(account){\n        const chainId = this.getChainID();\n        const urlBase = NetworkExplorerUrls[chainId];\n\n        return`${urlBase}/account/${account}`;\n    }\n\n    static getTransactionFee(){\n        return 0.3;\n    }\n\n    static getSmartContractGasPrice(){\n        //10^12 x 4 DTokenWei\n        return 0.000004;\n    }\n\n\n    static unsignedSendTx(txData, sequence) {\n        let { tokenType, from, to, amount, transactionFee} = txData;\n        const ten18 = (new BigNumber(10)).pow(18); // 10^18, 1 Dnero = 10^18 DneroWei, 1 Gamma = 10^ DTokenWei\n        const dneroWeiToSend = (tokenType === TokenTypes.DNERO ? (new BigNumber(amount)).multipliedBy(ten18) : (new BigNumber(0)));\n        const dtokenWeiToSend = (tokenType === TokenTypes.DNERO_TOKEN ? (new BigNumber(amount)).multipliedBy(ten18) : (new BigNumber(0)));\n        const feeInDTokenWei  = (new BigNumber(transactionFee)).multipliedBy(ten18); // Any fee >= 10^12 DTokenWei should work, higher fee yields higher priority\n        const senderAddr =  from;\n        const receiverAddr = to;\n        const senderSequence = sequence;\n        const outputs = [\n            {\n                address: receiverAddr,\n                dneroWei: dneroWeiToSend,\n                dtokenWei: dtokenWeiToSend,\n            }\n        ];\n\n        let tx = new DneroJS.SendTx(senderAddr, outputs, feeInDTokenWei, senderSequence);\n\n        return tx;\n    }\n\n    static unsignedDepositStakeTx(txData, sequence) {\n        let { tokenType, from, holder, amount, transactionFee, purpose} = txData;\n        const ten18 = (new BigNumber(10)).pow(18); // 10^18, 1 Dnero = 10^18 DneroWei, 1 Gamma = 10^ DTokenWei\n        const amountWeiToSend = (new BigNumber(amount)).multipliedBy(ten18);\n        const feeInDTokenWei  = (new BigNumber(transactionFee)).multipliedBy(ten18); // Any fee >= 10^12 DTokenWei should work, higher fee yields higher priority\n        const source =  from;\n        const senderSequence = sequence;\n\n        let tx = null;\n\n        if(purpose === DneroJS.StakePurposes.StakeForValidator){\n            tx = new DneroJS.DepositStakeTx(source, holder, amountWeiToSend, feeInDTokenWei, purpose, senderSequence);\n        }\n        else if(purpose === DneroJS.StakePurposes.StakeForSentry){\n            tx = new DneroJS.DepositStakeV2Tx(source, holder, amountWeiToSend, feeInDTokenWei, purpose, senderSequence);\n        }\n        else if(purpose === DneroJS.StakePurposes.StakeForEliteEdge){\n            tx = new DneroJS.DepositStakeV2Tx(source, holder, amountWeiToSend, feeInDTokenWei, purpose, senderSequence);\n        }\n\n        return tx;\n    }\n\n    static unsignedWithdrawStakeTx(txData, sequence) {\n        let { tokenType, from, holder, transactionFee, purpose} = txData;\n\n        const ten18 = (new BigNumber(10)).pow(18); // 10^18, 1 Dnero = 10^18 DneroWei, 1 Gamma = 10^ DTokenWei\n        const feeInDTokenWei  = (new BigNumber(transactionFee)).multipliedBy(ten18); // Any fee >= 10^12 DTokenWei should work, higher fee yields higher priority\n        const source =  from;\n        const senderSequence = sequence;\n\n        let tx = new DneroJS.WithdrawStakeTx(source, holder, feeInDTokenWei, purpose, senderSequence);\n\n        return tx;\n    }\n\n    static unsignedSmartContractTx(txData, sequence) {\n        let { from, to, data, value, transactionFee, gasLimit} = txData;\n\n        const ten18 = (new BigNumber(10)).pow(18); // 10^18, 1 Dnero = 10^18 DneroWei, 1 Gamma = 10^ DTokenWei\n        const feeInDTokenWei  = (new BigNumber(transactionFee)).multipliedBy(ten18); // Any fee >= 10^12 DTokenWei should work, higher fee yields higher priority\n        const senderSequence = sequence;\n        const gasPrice = feeInDTokenWei;\n\n        let tx = new DneroJS.SmartContractTx(from, to, gasLimit, gasPrice, data, value, senderSequence);\n\n        return tx;\n    }\n\n    static isAddress(address){\n        return Ethereum.isAddress(address);\n    }\n\n    static isValidHolderSummary(purpose, holderSummary){\n        return DneroJS.DepositStakeV2Tx.isValidHolderSummary(purpose, holderSummary);\n    }\n\n    static async signTransaction(unsignedTx, privateKey){\n        let chainID = Dnero.getChainID();\n        // let unsignedTx = Dnero.unsignedSendTx(txData, sequence);\n        let signedRawTxBytes = DneroJS.TxSigner.signAndSerializeTx(chainID, unsignedTx, privateKey);\n        let signedTxRaw = signedRawTxBytes.toString('hex');\n\n        //Remove the '0x' until the RPC endpoint supports '0x' prefixes\n        signedTxRaw = signedTxRaw.substring(2);\n\n        if(signedTxRaw){\n            return signedTxRaw;\n        }\n        else{\n            throw new Error(\"Failed to sign transaction.\");\n        }\n    }\n\n    static prepareTxPayload(unsignedTx){\n        let chainID = Dnero.getChainID();\n        let encodedChainID = RLP.encode(Bytes.fromString(chainID));\n        let encodedTxType = RLP.encode(Bytes.fromNumber(unsignedTx.getType()));\n        let encodedTx = RLP.encode(unsignedTx.rlpInput());\n        let payload = encodedChainID + encodedTxType.slice(2) + encodedTx.slice(2);\n        return payload.toString('hex');\n    }\n}\n","export default {\n    RECEIVE: 'receive',\n    SEND: 'send',\n    SEND_CONFIRMATION: 'send-confirmation',\n    PRIVATE_KEY: 'private-key',\n    DEPOSIT_STAKE: 'deposit-stake',\n    DEPOSIT_STAKE_CONFIRMATION: 'deposit-stake-confirmation',\n    WITHDRAW_STAKE: 'withdraw-stake',\n    WITHDRAW_STAKE_CONFIRMATION: 'withdraw-stake-confirmation',\n    SMART_CONTRACT_CONFIRMATION: 'smart-contract-confrimation',\n    NETWORK_SELECTOR: 'network-selector',\n    SENTRY_NODE_DELEGATE_SELECTOR: 'sentry-node-delegate-selector',\n\n    CONFIRM_TRANSACTION: 'confirm-transaction',\n    CREATE_TRANSACTION: 'create-transaction',\n    DELEGATED_NODE_SELECTOR: 'delegated-node-selector',\n    TRACK_TOKEN: 'track-token'\n};\n","import isString from 'lodash/isString';\nimport isNumber from 'lodash/isNumber';\nimport BigNumber from 'bignumber.js';\nimport Bytes from 'eth-lib/lib/bytes';\nimport RLP from 'eth-lib/lib/rlp';\nimport Hash from 'eth-lib/lib/hash';\n\nclass Tx{\n    constructor(){\n\n    }\n\n    signBytes(chainID){\n\n    }\n\n    getType(){\n\n    }\n\n    rlpInput(){\n\n    }\n}\n\n// /**\n//  * Check if string is HEX, requires a 0x in front\n//  *\n//  * @method isHexStrict\n//  *\n//  * @param {String} hex to be checked\n//  *\n//  * @returns {Boolean}\n//  */\nconst isHexStrict = (hex) => {\n    return (isString(hex) || isNumber(hex)) && /^(-)?0x[0-9a-f]*$/i.test(hex);\n};\n\n/**\n * Convert a hex string to a byte array\n *\n * Note: Implementation from crypto-js\n *\n * @method hexToBytes\n *\n * @param {String} hex\n *\n * @returns {Array} the byte array\n */\nconst hexToBytes = (hex) => {\n    hex = hex.toString(16);\n\n    if (!isHexStrict(hex)) {\n        throw new Error(`Given value \"${hex}\" is not a valid hex string.`);\n    }\n\n    hex = hex.replace(/^0x/i, '');\n    hex = hex.length % 2 ? '0' + hex : hex;\n\n    let bytes = [];\n    for (let c = 0; c < hex.length; c += 2) {\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n    }\n\n    return bytes;\n};\n\n// Convert a byte array to a hex string\nconst bytesToHex = function(bytes) {\n    for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n    }\n    return hex.join(\"\");\n};\n\nBigNumber.prototype.pad = function(size) {\n    var s = String(this);\n    while (s.length < (size || 2)) {s = \"0\" + s;}\n    return s;\n};\n\nconst bnFromString = str => {\n    const base = str.slice(0, 2) === \"0x\" ? 16 : 10;\n    const bigNum = new BigNumber(str, base);\n    const bigNumWithPad = \"0x\" + bigNum.pad(2);\n    return bigNumWithPad; // Jieyi: return \"0x00\" instead of \"0x\" to be compatible with the Golang/Java signature\n};\n\nconst encodeWei = (wei) =>{\n    if(wei === null || wei === undefined){\n        return Bytes.fromNat(\"0x0\");\n    }\n    else if(wei.isEqualTo(new BigNumber(0))){\n        return Bytes.fromNat(\"0x0\");\n    }\n    else{\n        return Bytes.fromNumber(wei);\n    }\n};\n\nclass Coins{\n    constructor(dneroWei, dtokenWei){\n        this.dneroWei = dneroWei;\n        this.dtokenWei = dtokenWei;\n    }\n\n    // encodeWei(wei){\n    //     if(wei === null || wei === undefined){\n    //         return Bytes.fromNat(\"0x0\");\n    //     }\n    //     else if(wei.isEqualTo(new BigNumber(0))){\n    //         return Bytes.fromNat(\"0x0\");\n    //     }\n    //     else{\n    //         return Bytes.fromNumber(wei);\n    //     }\n    // }\n\n    rlpInput(){\n\n        let rlpInput = [\n            encodeWei(this.dneroWei),\n            encodeWei(this.dtokenWei),\n            //(this.dneroWei.isEqualTo(new BigNumber(0))) ? Bytes.fromNat(\"0x0\") : Bytes.fromNumber(this.dneroWei),\n            //(this.dtokenWei.isEqualTo(new BigNumber(0))) ? Bytes.fromNat(\"0x0\") : Bytes.fromNumber(this.dtokenWei)\n        ];\n\n        return rlpInput;\n    }\n}\n\nclass TxInput{\n    constructor(address, dneroWei, dtokenWei, sequence) {\n        this.address = address;\n        this.sequence = sequence;\n        this.signature = \"\";\n\n        if(dneroWei || dtokenWei){\n            this.coins = new Coins(dneroWei, dtokenWei);\n        }\n        else{\n            //TODO should this be undefined or null?\n            this.coins = new Coins(null, null);\n        }\n    }\n\n    setSignature(signature) {\n        this.signature = signature;\n    }\n\n    rlpInput(){\n        let address = null;\n\n        if(this.address){\n            address = this.address.toLowerCase();\n        }\n        else{\n            address = Bytes.fromNat(\"0x0\");\n        }\n\n        let rplInput = [\n            address,\n            this.coins.rlpInput(),\n            Bytes.fromNumber(this.sequence),\n            this.signature\n        ];\n\n        return rplInput;\n    }\n}\n\nclass TxOutput {\n    constructor(address, dneroWei, dtokenWei) {\n        this.address = address;\n\n        if(dneroWei || dtokenWei){\n            this.coins = new Coins(dneroWei, dtokenWei);\n        }\n        else{\n            //TODO should this be undefined or null?\n            this.coins = new Coins(null, null);\n        }\n    }\n\n    rlpInput(){\n        let address = null;\n\n        if(this.address){\n            address = this.address.toLowerCase();\n        }\n        else{\n            //Empty address\n            address = \"0x0000000000000000000000000000000000000000\";\n        }\n\n        let rplInput = [\n            address,\n            this.coins.rlpInput()\n        ];\n\n        return rplInput;\n    }\n}\n\nconst TxType = {\n    TxTypeCoinbase: 0,\n    TxTypeSlash: 1,\n    TxTypeSend: 2,\n    TxTypeReserveFund: 3,\n    TxTypeReleaseFund: 4,\n    TxTypeServicePayment: 5,\n    TxTypeSplitRule: 6,\n    TxTypeSmartContract: 7,\n    TxTypeDepositStake: 8,\n    TxTypeWithdrawStake: 9,\n    TxTypeDepositStakeV2: 10,\n};\n\nclass EthereumTx{\n    constructor(payload){\n        this.nonce = \"0x0\";\n        this.gasPrice = \"0x0\";\n        this.gas = \"0x0\";\n        this.to = \"0x0000000000000000000000000000000000000000\";\n        this.value = \"0x0\";\n        this.input = payload;\n    }\n\n    rlpInput() {\n        let rplInput= [\n            Bytes.fromNat(this.nonce),\n            Bytes.fromNat(this.gasPrice),\n            Bytes.fromNat(this.gas),\n            this.to.toLowerCase(),\n            Bytes.fromNat(this.value),\n            this.input,\n        ];\n\n        return rplInput;\n    }\n}\n\nclass SendTx extends Tx{\n    constructor(senderAddr, outputs, feeInDTokenWei, senderSequence){\n        super();\n\n        let totalDneroWeiBN = new BigNumber(0);\n        let totalDtokenWeiBN = new BigNumber(0);\n        let feeInDTokenWeiBN = BigNumber.isBigNumber(feeInDTokenWei) ? feeInDTokenWei : (new BigNumber(feeInDTokenWei));\n\n        for(var i = 0; i < outputs.length; i++){\n            let output = outputs[i];\n            let dneroWei = output.dneroWei;\n            let dtokenWei = output.dtokenWei;\n\n            let dneroWeiBN = BigNumber.isBigNumber(dneroWei) ? dneroWei : (new BigNumber(dneroWei));\n            let dtokenWeiBN = BigNumber.isBigNumber(dtokenWei) ? dtokenWei : (new BigNumber(dtokenWei));\n\n            totalDneroWeiBN = totalDneroWeiBN.plus(dneroWeiBN);\n            totalDtokenWeiBN = totalDtokenWeiBN.plus(dtokenWeiBN);\n        }\n\n        this.fee = new Coins(new BigNumber(0), feeInDTokenWeiBN);\n\n        let txInput = new TxInput(senderAddr, totalDneroWeiBN, totalDtokenWeiBN.plus(feeInDTokenWeiBN), senderSequence);\n        this.inputs = [txInput];\n\n        this.outputs = [];\n        for(var j = 0; j < outputs.length; j++){\n            let output = outputs[j];\n            let address = output.address;\n            let dneroWei = output.dneroWei;\n            let dtokenWei = output.dtokenWei;\n\n            let dneroWeiBN = BigNumber.isBigNumber(dneroWei) ? dneroWei : (new BigNumber(dneroWei));\n            let dtokenWeiBN = BigNumber.isBigNumber(dtokenWei) ? dtokenWei : (new BigNumber(dtokenWei));\n\n            let txOutput = new TxOutput(address, dneroWeiBN, dtokenWeiBN);\n\n            this.outputs.push(txOutput);\n        }\n    }\n\n    setSignature(signature){\n        //TODO support multiple inputs\n        let input = this.inputs[0];\n        input.setSignature(signature);\n    }\n\n    signBytes(chainID){\n        let sigz = [];\n        //let input = this.inputs[0];\n\n        // Detach the existing signatures from the input if any, so that we don't sign the signature\n        //let originalSignature = input.signature;\n        //input.signature = \"\";\n\n        // Detach the existing signatures from the input if any, so that we don't sign the signature\n        for(var i = 0; i < this.inputs.length; i++){\n            let input = this.inputs[i];\n\n            sigz[i] = input.signature;\n            input.signature = \"\";\n        }\n\n        let encodedChainID = RLP.encode(Bytes.fromString(chainID));\n        let encodedTxType = RLP.encode(Bytes.fromNumber(this.getType()));\n        let encodedTx = RLP.encode(this.rlpInput());\n        let payload = encodedChainID + encodedTxType.slice(2) + encodedTx.slice(2);\n\n        // For ethereum tx compatibility, encode the tx as the payload\n        let ethTxWrapper = new EthereumTx(payload);\n        let signedBytes = RLP.encode(ethTxWrapper.rlpInput()); // the signBytes conforms to the Ethereum raw tx format\n\n        console.log(\"SendTx :: signBytes :: txRawBytes = \" + signedBytes);\n\n        // Attach the original signature back to the inputs\n        //input.signature = originalSignature;\n\n        // Attach the original signature back to the inputs\n        for(var j = 0; j < this.inputs.length; j++){\n            let input = this.inputs[j];\n\n            input.signature = sigz[j];\n        }\n\n        return signedBytes;\n    }\n\n    getType(){\n        return TxType.TxTypeSend;\n    }\n\n    rlpInput(){\n        let numInputs = this.inputs.length;\n        let numOutputs = this.outputs.length;\n        let inputBytesArray = [];\n        let outputBytesArray = [];\n\n        for(let i = 0; i < numInputs; i ++) {\n            inputBytesArray[i] = this.inputs[i].rlpInput();\n        }\n\n        for (let i = 0; i < numOutputs; i ++) {\n            outputBytesArray[i] = this.outputs[i].rlpInput();\n        }\n\n        let rlpInput = [\n            this.fee.rlpInput(),\n            inputBytesArray,\n            outputBytesArray\n        ];\n\n        return rlpInput;\n    }\n}\n\nconst StakePurposes = {\n    StakeForValidator: 0,\n    StakeForSentry: 1,\n    StakeForEliteEdge: 2\n};\n\nclass StakeTx extends Tx{\n\n}\n\nclass DepositStakeTx extends StakeTx{\n    constructor(source, holderAddress, stakeInDneroWei, feeInDTokenWei, purpose, senderSequence){\n        super();\n\n        let feeInDTokenWeiBN = BigNumber.isBigNumber(feeInDTokenWei) ? feeInDTokenWei : (new BigNumber(feeInDTokenWei));\n        this.fee = new Coins(new BigNumber(0), feeInDTokenWeiBN);\n\n        let stakeInDneroWeiBN = BigNumber.isBigNumber(stakeInDneroWei) ? stakeInDneroWei : (new BigNumber(stakeInDneroWei));\n        this.source = new TxInput(source, stakeInDneroWeiBN, null, senderSequence);\n\n        this.purpose = purpose;\n\n        //Parse out the info from the holder (summary) param\n        if(!holderAddress.startsWith('0x')){\n            holderAddress = \"0x\" + holderAddress;\n        }\n\n        //Ensure correct size\n        if(holderAddress.length !== 42) {\n            //TODO: throw error\n            console.log(\"Holder must be a valid address\");\n        }\n\n        this.holder = new TxOutput(holderAddress, null, null);\n    }\n\n    setSignature(signature){\n        let input = this.source;\n        input.setSignature(signature);\n    }\n\n    signBytes(chainID){\n        // Detach the existing signature from the source if any, so that we don't sign the signature\n        let sig = this.source.signature;\n\n        this.source.signature = \"\";\n\n        let encodedChainID = RLP.encode(Bytes.fromString(chainID));\n        let encodedTxType = RLP.encode(Bytes.fromNumber(this.getType()));\n        let encodedTx = RLP.encode(this.rlpInput());\n        let payload = encodedChainID + encodedTxType.slice(2) + encodedTx.slice(2);\n\n        // For ethereum tx compatibility, encode the tx as the payload\n        let ethTxWrapper = new EthereumTx(payload);\n        let signedBytes = RLP.encode(ethTxWrapper.rlpInput()); // the signBytes conforms to the Ethereum raw tx format\n\n        // Attach the original signature back to the source\n        this.source.signature = sig;\n\n        return signedBytes;\n    }\n\n    getType(){\n        return TxType.TxTypeDepositStake;\n    }\n\n    rlpInput(){\n        let rlpInput = [\n            this.fee.rlpInput(),\n            this.source.rlpInput(),\n            this.holder.rlpInput(),\n\n            (this.purpose === 0 ? Bytes.fromNat(\"0x0\") : Bytes.fromNumber(this.purpose)),\n        ];\n\n        return rlpInput;\n    }\n}\n\nclass DepositStakeV2Tx extends StakeTx{\n    static isValidHolderSummary(purpose, holderSummary){\n        if(holderSummary){\n            let summary = holderSummary;\n            if(!holderSummary.startsWith('0x')){\n                summary = \"0x\" + holderSummary;\n            }\n\n            let expectedLen = 460; // Sentry Nodes\n            if(purpose === StakePurposes.StakeForEliteEdge){\n                expectedLen = 524;\n            }\n\n            return (summary.length === expectedLen);\n        }\n        else{\n            return false;\n        }\n    }\n\n    constructor(source, holderSummary, amount, feeInDTokenWei, purpose, senderSequence){\n        super();\n\n        let feeInDTokenWeiBN = BigNumber.isBigNumber(feeInDTokenWei) ? feeInDTokenWei : (new BigNumber(feeInDTokenWei));\n        this.fee = new Coins(new BigNumber(0), feeInDTokenWeiBN);\n\n        let stakeInWeiBN = BigNumber.isBigNumber(amount) ? amount : (new BigNumber(amount));\n\n        if(purpose === StakePurposes.StakeForEliteEdge){\n            // DTOKEN staking\n            this.source = new TxInput(source, null, stakeInWeiBN, senderSequence);\n        }\n        else{\n            // DNERO staking\n            this.source = new TxInput(source, stakeInWeiBN, null, senderSequence);\n        }\n\n        this.purpose = purpose;\n\n        //Parse out the info from the holder (summary) param\n        if(!holderSummary.startsWith('0x')){\n            holderSummary = \"0x\" + holderSummary;\n        }\n\n        //Ensure correct size\n        if(!DepositStakeV2Tx.isValidHolderSummary(purpose, holderSummary)) {\n            //TODO: throw error\n            console.log(\"Holder must be a valid node summary\");\n        }\n\n        //let sentryKeyBytes = Bytes.fromString(holderSummary);\n        let nodeKeyBytes = Bytes.toArray(holderSummary);\n\n        //slice instead of subarray\n        let holderAddressBytes = nodeKeyBytes.slice(0, 20);\n\n        this.blsPubkeyBytes = nodeKeyBytes.slice(20, 68);\n        this.blsPopBytes = nodeKeyBytes.slice(68, 164);\n        this.holderSigBytes = nodeKeyBytes.slice(164, 229);\n\n        let holderAddress = Bytes.fromArray(holderAddressBytes);\n\n        this.holder = new TxOutput(holderAddress, null, null);\n    }\n\n    setSignature(signature){\n        let input = this.source;\n        input.setSignature(signature);\n    }\n\n    signBytes(chainID){\n        // Detach the existing signature from the source if any, so that we don't sign the signature\n        let sig = this.source.signature;\n\n\n        this.source.signature = \"\";\n\n        let encodedChainID = RLP.encode(Bytes.fromString(chainID));\n        let encodedTxType = RLP.encode(Bytes.fromNumber(this.getType()));\n        let encodedTx = RLP.encode(this.rlpInput());\n        let payload = encodedChainID + encodedTxType.slice(2) + encodedTx.slice(2);\n\n        // For ethereum tx compatibility, encode the tx as the payload\n        let ethTxWrapper = new EthereumTx(payload);\n        let signedBytes = RLP.encode(ethTxWrapper.rlpInput()); // the signBytes conforms to the Ethereum raw tx format\n\n        // Attach the original signature back to the source\n        this.source.signature = sig;\n\n        return signedBytes;\n    }\n\n    getType(){\n        return TxType.TxTypeDepositStakeV2;\n    }\n\n    rlpInput(){\n        let rlpInput = [\n            this.fee.rlpInput(),\n            this.source.rlpInput(),\n            this.holder.rlpInput(),\n\n            Bytes.fromNumber(this.purpose),\n\n            Bytes.fromArray(this.blsPubkeyBytes),\n            Bytes.fromArray(this.blsPopBytes),\n            Bytes.fromArray(this.holderSigBytes)\n        ];\n\n        return rlpInput;\n    }\n}\n\nclass WithdrawStakeTx extends StakeTx{\n    constructor(source, holder, feeInDTokenWei, purpose, senderSequence){\n        super();\n\n        let feeInDTokenWeiBN = BigNumber.isBigNumber(feeInDTokenWei) ? feeInDTokenWei : (new BigNumber(feeInDTokenWei));\n        this.fee = new Coins(new BigNumber(0), feeInDTokenWeiBN);\n\n        this.source = new TxInput(source, null, null, senderSequence);\n\n        this.holder = new TxOutput(holder, null, null);\n\n        this.purpose = purpose;\n    }\n\n    setSignature(signature){\n        let input = this.source;\n        input.setSignature(signature);\n    }\n\n    signBytes(chainID){\n        // Detach the existing signature from the source if any, so that we don't sign the signature\n        let sig = this.source.signature;\n        this.source.signature = \"\";\n\n        let encodedChainID = RLP.encode(Bytes.fromString(chainID));\n        let encodedTxType = RLP.encode(Bytes.fromNumber(this.getType()));\n        let encodedTx = RLP.encode(this.rlpInput());\n        let payload = encodedChainID + encodedTxType.slice(2) + encodedTx.slice(2);\n\n        // For ethereum tx compatibility, encode the tx as the payload\n        let ethTxWrapper = new EthereumTx(payload);\n        let signedBytes = RLP.encode(ethTxWrapper.rlpInput()); // the signBytes conforms to the Ethereum raw tx format\n\n        console.log(\"SendTx :: signBytes :: txRawBytes = \" + signedBytes);\n\n        // Attach the original signature back to the source\n        this.source.signature = sig;\n\n        return signedBytes;\n    }\n\n    getType(){\n        return TxType.TxTypeWithdrawStake;\n    }\n\n    rlpInput(){\n        let rlpInput = [\n            this.fee.rlpInput(),\n            this.source.rlpInput(),\n            this.holder.rlpInput(),\n\n            (this.purpose === 0 ? Bytes.fromNat(\"0x0\") : Bytes.fromNumber(this.purpose)),\n        ];\n\n        return rlpInput;\n    }\n}\n\nconst elliptic = (window.elliptic || require(\"elliptic\"));\nconst secp256k1 = new elliptic.ec(\"secp256k1\"); // eslint-disable-line\nconst SHA3_NULL_S = '0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470';\n\nconst sha3 = (value) => {\n    if (isHexStrict(value) && /^0x/i.test(value.toString())) {\n        value = hexToBytes(value);\n    }\n\n    const returnValue = Hash.keccak256(value); // jshint ignore:line\n\n    if (returnValue === SHA3_NULL_S) {\n        return null;\n    } else {\n        return returnValue;\n    }\n};\n\nconst encodeSignature = ([v, r, s]) => Bytes.flatten([r, s, v]);\n\nconst makeSigner = addToV => (hash, privateKey) => {\n  const ecKey = secp256k1.keyFromPrivate(new Buffer(privateKey.slice(2), \"hex\"));\n  const signature = ecKey.sign(new Buffer(hash.slice(2), \"hex\"), { canonical: true });\n  return encodeSignature([\n      bnFromString(Bytes.fromNumber(addToV + signature.recoveryParam)),\n      Bytes.pad(32, Bytes.fromNat(\"0x\" + signature.r.toString(16))),\n      Bytes.pad(32, Bytes.fromNat(\"0x\" + signature.s.toString(16)))\n    ]);\n};\n\nconst sign = makeSigner(0);\n\nclass TxSigner {\n\n    static signAndSerializeTx(chainID, tx, privateKey) {\n        let signedTx = this.signTx(chainID, tx, privateKey);\n        let signedRawBytes = this.serializeTx(signedTx);\n\n        return signedRawBytes;\n    }\n\n    static signTx(chainID, tx, privateKey) {\n        let txRawBytes = tx.signBytes(chainID);\n        let txHash = sha3(txRawBytes);\n        let signature = sign(txHash, privateKey);\n        tx.setSignature(signature);\n\n        return tx\n    }\n\n    static serializeTx(tx) {\n        let encodedTxType = RLP.encode(Bytes.fromNumber(tx.getType()));\n        let encodedTx = RLP.encode(tx.rlpInput());// this time encode with signature\n        let signedRawBytes = encodedTxType + encodedTx.slice(2);\n\n        return signedRawBytes;\n    }\n}\n\nvar Web3Utils = require('web3-utils');\n\nclass SmartContractTx extends Tx{\n    constructor(fromAddress, toAddress, gasLimit, gasPrice, data, value, senderSequence){\n        super();\n\n        let valueWeiBN = BigNumber.isBigNumber(value) ? value : (new BigNumber(value));\n\n        this.from = new TxInput(fromAddress, null, valueWeiBN, senderSequence);\n        this.to = new TxOutput(toAddress, null, null);\n\n        this.gasLimit = gasLimit;\n        this.gasPrice = gasPrice;\n\n        if(data.toLowerCase().startsWith(\"0x\") === false){\n            data = \"0x\" + data;\n        }\n\n        this.data = Bytes.toArray(data);\n    }\n\n    setSignature(signature){\n        let input = this.from;\n        input.setSignature(signature);\n    }\n\n    signBytes(chainID){\n        // Detach the existing signature from the source if any, so that we don't sign the signature\n        let sig = this.from.signature;\n\n        this.from.signature = \"\";\n\n        let encodedChainID = RLP.encode(Bytes.fromString(chainID));\n        let encodedTxType = RLP.encode(Bytes.fromNumber(this.getType()));\n        let encodedTx = RLP.encode(this.rlpInput());\n        let payload = encodedChainID + encodedTxType.slice(2) + encodedTx.slice(2);\n\n        // For ethereum tx compatibility, encode the tx as the payload\n        let ethTxWrapper = new EthereumTx(payload);\n        let signedBytes = RLP.encode(ethTxWrapper.rlpInput()); // the signBytes conforms to the Ethereum raw tx format\n\n        // Attach the original signature back to the source\n        this.from.signature = sig;\n\n        return signedBytes;\n    }\n\n    getType(){\n        return TxType.TxTypeSmartContract;\n    }\n\n    rlpInput(){\n        let rlpInput = [\n            this.from.rlpInput(),\n            this.to.rlpInput(),\n\n            Bytes.fromNumber(this.gasLimit),\n            encodeWei(this.gasPrice),\n\n            Bytes.fromArray(this.data)\n        ];\n\n        return rlpInput;\n    }\n}\n\nvar index = {\n    SendTx,\n    DepositStakeTx: DepositStakeTx,\n    DepositStakeV2Tx: DepositStakeV2Tx,\n    WithdrawStakeTx,\n    SmartContractTx,\n    TxSigner,\n    StakePurposes,\n    Utils: {\n        hexToBytes,\n        bytesToHex\n    }\n};\n\nexport default index;\n","import _ from 'lodash';\nimport * as dnerojs from '@dnerolabs/dnero-js';\nimport {DDropAddressByChainId} from './index';\n\nconst {tokensByChainId} = require('@dnerolabs/dnc20-contract-metadata');\n\nconst getTokenIconUrl = (fileName) => {\n    if(_.isEmpty(fileName)){\n        return null;\n    }\n    return `https://s3.us-east-2.amazonaws.com/assets.dnerochain.org/tokens/${fileName}`;\n    // return `https://assets.dnerochain.org/tokens/${fileName}`;\n};\n\nconst DneroAsset = {\n    id: 'dnero',\n    name: 'Dnero',\n    symbol: 'DNERO',\n    contractAddress: null,\n    decimals: 18,\n    iconUrl: getTokenIconUrl('dnero.png'),\n    balanceKey: 'dnerowei'\n};\n\nconst DTokenAsset = {\n    id: 'dtoken',\n    name: 'Dnero Token',\n    symbol: 'DTOKEN',\n    contractAddress: null,\n    decimals: 18,\n    iconUrl: getTokenIconUrl('dtoken.png'),\n    balanceKey: 'dtokenwei'\n};\n\nconst NativeAssets = [\n    DneroAsset,\n    DTokenAsset\n];\n\nconst DDropAsset = (chainId) => {\n    const ddropAddress = DDropAddressByChainId[chainId];\n    let DNC20Asset = null;\n\n    if(ddropAddress){\n        DNC20Asset = {\n            id: ddropAddress,\n            name: 'DDROP',\n            symbol: 'DDROP',\n            contractAddress: ddropAddress,\n            address: ddropAddress,\n            decimals: 18,\n            iconUrl: getTokenIconUrl(_.get(tokensByChainId, [chainId, ddropAddress, 'logo'])),\n            balanceKey: ddropAddress\n        };\n    }\n\n    return DNC20Asset;\n};\n\nconst DefaultAssets = (chainId) => {\n    const ddropAddress = DDropAddressByChainId[chainId];\n    let DNC20Assets = [];\n    let ddropAsset = DDropAsset(chainId);\n\n    if(ddropAddress){\n        DNC20Assets.push(ddropAsset);\n    }\n\n    return _.concat(NativeAssets, DNC20Assets);\n};\n\nconst getAllAssets = (chainId, tokens) => {\n    const ddropAddress = DDropAddressByChainId[chainId];\n    const tokenAssets = tokens.map(tokenToAsset);\n    const tokenAssetsWithoutTdrop = _.filter(tokenAssets, (asset) => {\n        return asset.contractAddress?.toLowerCase() !== ddropAddress?.toLowerCase();\n    });\n\n    return _.concat(DefaultAssets(chainId), tokenAssetsWithoutTdrop);\n};\n\nconst tokenToAsset = (token) => {\n    const knownToken = (tokensByChainId[dnerojs.networks.ChainIds.Mainnet][token.address] || tokensByChainId[dnerojs.networks.ChainIds.Testnet][token.address]);\n\n    return {\n        id: token.address,\n        name: token.symbol,\n        symbol: token.symbol,\n        contractAddress: token.address,\n        decimals: token.decimals,\n        iconUrl: (knownToken ? getTokenIconUrl(knownToken.logo) : null),\n        balanceKey: token.address\n    };\n};\n\nexport {\n    DefaultAssets,\n\n    DneroAsset,\n    DTokenAsset,\n    DDropAsset,\n\n    tokenToAsset,\n\n    getAllAssets,\n};\n","import React from 'react';\n\nexport default class Alerts {\n    static _reactAlertRef = React.createRef();\n\n    static getRef(){\n        return this._reactAlertRef;\n    }\n\n    static _show(type, message){\n        let reactAlert = Alerts.getRef().current;\n        let showFn = reactAlert[type];\n\n        showFn(message);\n    }\n\n    static showInfo(message){\n        this._show('info', message);\n    }\n\n    static showSuccess(message){\n        this._show('success', message);\n    }\n\n    static showError(message){\n        this._show('error', message);\n    }\n}","import _ from 'lodash';\nimport Api from '../../services/Api'\nimport { reduxFetch } from'./Api'\nimport {FETCH_WALLET_BALANCES, SET_WALLET_ADDRESS, RESET, SET_NETWORK} from \"../types/Wallet\";\nimport Wallet, {WalletUnlockStrategy} from '../../services/Wallet'\nimport TemporaryState from \"../../services/TemporaryState\";\nimport {resetTransactionsState} from './Transactions'\nimport Router from \"../../services/Router\";\nimport Alerts from '../../services/Alerts'\nimport {onLine} from \"../../utils/Utils\";\nimport Config from \"../../Config\";\nimport {hideLoader, hideModal, showLoader} from \"./ui\";\nimport Dnero from \"../../services/Dnero\";\n\n\nexport function setNetwork(networkId){\n    Dnero.setChainID(networkId);\n    Wallet.controller.preferencesController.setNetwork({\n        chainId: networkId\n    });\n\n    return async function(dispatch, getState){\n        dispatch({\n                type: SET_NETWORK,\n                network: networkId\n            }\n        );\n    };\n}\n\nexport function fetchWalletBalances(){\n\n\n    let address = Wallet.getWalletAddress();\n\n    return reduxFetch(FETCH_WALLET_BALANCES, function(){\n        return Api.fetchWallet(address, {network: Dnero.getChainID()});\n    });\n}\n\nexport function resetWalletState(){\n    return {\n        type: RESET,\n    }\n}\n\nexport function setWalletAddress(address){\n    return {\n        type: SET_WALLET_ADDRESS,\n        address: address\n    }\n}\n\nexport function unlockWallet(strategy, password, data){\n    return async function(dispatch, getState){\n        let wallet = null;\n\n        try {\n            wallet = await Wallet.unlockWallet(strategy, password, data);\n        }\n        catch (e) {\n            Alerts.showError(e.message);\n        }\n\n        if(wallet){\n            dispatch(setWalletAddress(wallet.address));\n\n            if(onLine()){\n                //Navigate to the wallet\n                Router.push('/wallet');\n            }\n            else{\n                //Navigate to the offline until they enable their network again\n                Router.push('/offline');\n            }\n        }\n    };\n}\n\nexport function logout(){\n    return async function(dispatch, getState){\n        //Clear the wallet\n        Wallet.setWallet(null);\n\n        //Restore the default chainId\n        Dnero.setChainID(Config.defaultDneroChainID);\n\n        //Delete the temp state\n        TemporaryState.setWalletData(null);\n\n        //Reset wallet state\n        dispatch(resetWalletState());\n\n        //Reset transactions state\n        dispatch(resetTransactionsState());\n\n        //Navigate away\n        Router.push('/unlock');\n\n        // Reload the app\n        window.location.reload();\n    };\n}\n\nexport function updateAccountBalances(shouldShowLoader){\n    return async function(dispatch, getState){\n        if(shouldShowLoader){\n            dispatch(showLoader());\n        }\n\n        const result = await Wallet.controller.RPCApi.updateAccountBalances({});\n\n        if(shouldShowLoader){\n            dispatch(hideLoader());\n        }\n    };\n}\n\nexport function updateAccountStakes(address, shouldShowLoader){\n    return async function(dispatch, getState){\n        if(shouldShowLoader){\n            dispatch(showLoader());\n        }\n\n        const result = await Wallet.controller.RPCApi.updateAccountStakes({\n            address: address\n        });\n\n        if(shouldShowLoader) {\n            dispatch(hideLoader());\n        }\n    };\n}\n\n//\n// Tokens\n//\n\nexport function addToken(tokenData) {\n    return async (dispatch) => {\n        try {\n            dispatch(showLoader());\n\n            const result = await Wallet.controller.RPCApi.addToken({\n                token: tokenData\n            });\n\n            dispatch(hideModal());\n\n            dispatch(hideLoader());\n\n            return result;\n        }\n        catch (error) {\n            dispatch(hideLoader());\n            return false;\n        }\n    };\n}\n\nexport function removeToken(address) {\n    return async (dispatch) => {\n        try {\n            dispatch(showLoader());\n\n            const result = await Wallet.controller.RPCApi.removeToken({\n                address: address\n            });\n\n            dispatch(hideLoader());\n\n            return result;\n        }\n        catch (error) {\n            dispatch(hideLoader());\n            return false;\n        }\n    };\n}\n\n\nexport function connectHardware(deviceName, page, hdPath) {\n    return async (dispatch) => {\n        dispatch(showLoader(`Looking for your ${_.capitalize(deviceName)}...`));\n\n        let accounts\n        try {\n            accounts = await Wallet.controller.connectHardware(\n                deviceName,\n                page,\n                hdPath,\n            )\n        } catch (error) {\n            dispatch(hideLoader())\n            Alerts.showError(error.message);\n            throw error\n        }\n        dispatch(hideLoader())\n\n        return accounts\n    }\n}\n\nexport function unlockHardwareWalletAccount(index, address, deviceName, hdPath) {\n    return (dispatch) => {\n        dispatch(showLoader())\n        return new Promise(async (resolve, reject) => {\n            await Wallet.controller.unlockHardwareWalletAccount(\n                index,\n                deviceName,\n                hdPath,\n                (err) => {\n                    if (err) {\n                        Alerts.showError(err.message);\n                        reject(err)\n                        return\n                    }\n\n                    dispatch(hideLoader())\n                    resolve()\n                },\n            );\n\n            dispatch(hideLoader())\n\n\n            dispatch(unlockWallet(\n                WalletUnlockStrategy.COLD_WALLET,\n                null,\n                {hardware: deviceName, path: hdPath, address: address}));\n        })\n    }\n}\n","import _ from 'lodash';\nimport {zipMap} from \"../utils/Utils\";\n\nconst Networks =  {\n    __deprecated__ETHEREUM: 'ethereum',\n    DNERO_TESTNET: 'testnet',\n    DNERO_TESTNET_AMBER: 'testnet_amber',\n    DNERO_TESTNET_SAPPHIRE: 'testnet_sapphire',\n    DNERO_MAINNET: 'mainnet',\n    DNERO_PRIVATENET: 'privatenet',\n};\n\nexport const NetworksWithDescriptions = [\n    {\n        id: Networks.DNERO_MAINNET,\n        name: \"Mainnet\",\n        description: \"DNERO mainnet (Default)\",\n        // faucetId: \"mainnet\"\n    },\n    {\n        id: Networks.DNERO_TESTNET,\n        name: \"Testnet\",\n        description: \"DNERO testnet\",\n        faucetId: \"testnet\"\n    },\n    {\n        id: Networks.DNERO_TESTNET_AMBER,\n        name: \"Testnet_Amber\",\n        description: \"DNERO testnet for elite edge nodes (Apr 2021)\"\n    },\n    {\n        id: Networks.DNERO_TESTNET_SAPPHIRE,\n        name: \"Testnet (Sapphire)\",\n        description: \"DNERO testnet for sentry nodes (Feb 2020)\",\n        // faucetId: \"sapphire\"\n    },\n    {\n        id: Networks.DNERO_PRIVATENET,\n        name: \"Smart Contracts Sandbox\",\n        description: \"DNERO testnet for Smart Contracts (ALPHA)\",\n        faucetId: \"smart_contract\"\n    }\n];\n\nexport const NetworksById = zipMap(NetworksWithDescriptions.map(({ id }) => id), NetworksWithDescriptions);\n\nexport const NetworkExplorerUrls = {\n//    [Networks.DNERO_MAINNET]: 'https://explorer.dnerochain.org',\n\t  [Networks.DNERO_MAINNET]: 'http://164.92.81.239:5445',\n//\n//    [Networks.DNERO_TESTNET]: 'https://beta-explorer.dnerochain.org',\n//    [Networks.DNERO_TESTNET_AMBER]: 'https://elite-edge-testnet-explorer.dnerochain.org',\n//    [Networks.DNERO_TESTNET_SAPPHIRE]: 'https://sentry-testnet-explorer.dnerochain.org',\n//    [Networks.DNERO_PRIVATENET]: 'https://smart-contracts-sandbox-explorer.dnerochain.org'\n};\n\nexport function isEthereumNetwork(network) {\n    return (network === Networks.__deprecated__ETHEREUM);\n}\n\nexport function isDneroNetwork(network) {\n    return (network !== Networks.__deprecated__ETHEREUM);\n}\n\nexport function canEdgeNodeStake(network) {\n    return true;\n    return (network === Networks.DNERO_TESTNET_AMBER);\n}\n\nexport function canSentryNodeStake(network) {\n    return true;\n}\n\nexport function canViewSmartContracts(network) {\n    return true;\n}\n\nexport function getNetworkName(networkId){\n    return _.get(NetworksById, [networkId, 'name']);\n}\n\nexport function getNetworkFaucetId(networkId){\n    return _.get(NetworksById, [networkId, 'faucetId']);\n}\n\nexport default Networks;\n","//\n//const BASE_URL = \"https://api-wallet.dnerochain.org\";\nconst BASE_URL = \"http://143.198.132.249:7554/api\"; //WebWallet_DEDICATED_ETH-RPC_API\n\nconst DEFAULT_HEADERS = {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n};\n\n//\n//Helpers\n//\n\nexport function isResponseSuccessful(response){\n    let { status } = response;\n\n    return (status === 200 || status === 201 || status === 202 || status === 204);\n}\n\nfunction objectToQueryString(object) {\n    if(!object){\n        return \"\";\n    }\n\n    let queryString = Object.keys(object).map(function(key) {\n        let val = object[key];\n        if(val){\n            return encodeURIComponent(key) + '=' + encodeURIComponent(object[key]);\n        }\n    }).join('&');\n\n    if(queryString.length > 0){\n        return \"?\" + queryString;\n    }\n    else{\n        return \"\";\n    }\n}\n\n//\n//Builders\n//\n\nfunction buildHeaders(additionalHeaders) {\n    //TODO inject auth headers here...\n    return Object.assign(DEFAULT_HEADERS, additionalHeaders);\n}\n\nfunction buildURL(path, queryParams) {\n    let url = null;\n\n    if(path.startsWith(\"http://\") || path.startsWith(\"https://\")){\n        url = path + objectToQueryString(queryParams);\n    }\n    else{\n        url = BASE_URL + path + objectToQueryString(queryParams);\n    }\n\n    return url;\n}\n\nfunction sendRequest(path, method, additionalHeaders, queryParams, body) {\n    let url = buildURL(path, queryParams);\n    let headers = buildHeaders(additionalHeaders);\n\n    let opts = {\n        method: method,\n        headers: headers,\n    };\n\n    if (body) {\n        opts['body'] = JSON.stringify(body);\n    }\n\n    return fetch(url, opts);\n}\n\n\n//\n//Convenience requests\n//\n\nfunction GET(path, headers, queryParams) {\n    return sendRequest(path, \"GET\", headers, queryParams);\n}\n\nfunction PUT(path, headers, queryParams, body) {\n    return sendRequest(path, \"PUT\", headers, queryParams, body);\n}\n\nfunction POST(path, headers, queryParams, body) {\n    return sendRequest(path, \"POST\", headers, queryParams, body);\n}\n\nfunction DELETE(path, headers, queryParams, body) {\n    return sendRequest(path, \"DELETE\", headers, queryParams, body);\n}\n\nexport default class Api {\n\n    //\n    //Wallet\n    //\n\n    static fetchWallet(address, queryParams) {\n        let path = `/wallet/${ address }`;\n        return GET(path, null, queryParams);\n    }\n\n    //\n    //Transactions\n    //\n\n    static createTransaction(body, queryParams) {\n        let path = `/tx`;\n        return POST(path, null, queryParams, body);\n    }\n\n    static fetchTransaction(transactionID, queryParams) {\n        let path = `/tx/${ transactionID }`;\n        return GET(path, null, queryParams);\n    }\n\n    static fetchTransactions(address, queryParams) {\n        let path = `/tx/${ address }/list`;\n        return GET(path, null, queryParams);\n    }\n\n    //\n    //Sequence\n    //\n\n    static fetchSequence(address, queryParams) {\n        let path = `/sequence/${ address }`;\n        return GET(path, null, queryParams);\n    }\n\n    //\n    //Stakes\n    //\n\n    static fetchStakes(address, queryParams) {\n        let path = `/stake/${ address }/list`;\n        return GET(path, null, queryParams);\n    }\n\n    //\n    //Smart Contract\n    //\n\n    static callSmartContract(body, queryParams) {\n        let path = \"/smart-contract/call\";\n\n        return POST(path, null, queryParams, body);\n    }\n\n    static executeSmartContract(body, queryParams) {\n        let path = \"/tx\";\n\n        return POST(path, null, queryParams, body);\n    }\n\n    //\n    //Faucet\n    //\n\n    static callFaucet(address, faucetId) {\n        let url = `https://public-faucet.dnerochain.org/dtoken_faucet`;\n\n        return sendRequest(url, \"GET\", null, {\n            address: address.toLowerCase(),\n            chain: faucetId\n        }, null);\n    }\n\n    //\n    //Sentry Node Delegates\n    //\n\n    static fetchSentryNodeDelegates() {\n        //let url = `https://api.dnerochain.org/v1/sentry/delegated-nodes`;\n        let url = `http://143.198.132.249:7554/api/v1/sentry/delegated-nodes`;\n\n        return sendRequest(url, \"GET\", null, null);\n    }\n}\n","export default  {\n    DEPLOY: \"deploy\",\n    INTERACT: \"interact\",\n    //More specific\n    EXECUTE: \"execute\",//deploys or mutable functions\n    CALL: \"call\"//dry runs or view functions\n};\n","const name = \"WALLET\";\n\nexport const FETCH_WALLET_ETHEREUM_BALANCES = `${name}/FETCH_WALLET_ETHEREUM_BALANCES`;\nexport const FETCH_WALLET_ETHEREUM_BALANCES_START = `${FETCH_WALLET_ETHEREUM_BALANCES}/START`;\nexport const FETCH_WALLET_ETHEREUM_BALANCES_END = `${FETCH_WALLET_ETHEREUM_BALANCES}/END`;\nexport const FETCH_WALLET_ETHEREUM_BALANCES_FAILURE = `${FETCH_WALLET_ETHEREUM_BALANCES}/FAILURE`;\nexport const FETCH_WALLET_ETHEREUM_BALANCES_SUCCESS = `${FETCH_WALLET_ETHEREUM_BALANCES}/SUCCESS`;\n\nexport const FETCH_WALLET_BALANCES = `${name}/FETCH_WALLET_BALANCES`;\nexport const FETCH_WALLET_BALANCES_START = `${FETCH_WALLET_BALANCES}/START`;\nexport const FETCH_WALLET_BALANCES_END = `${FETCH_WALLET_BALANCES}/END`;\nexport const FETCH_WALLET_BALANCES_FAILURE = `${FETCH_WALLET_BALANCES}/FAILURE`;\nexport const FETCH_WALLET_BALANCES_SUCCESS = `${FETCH_WALLET_BALANCES}/SUCCESS`;\n\nexport const SET_WALLET_ADDRESS = `${name}/SET_WALLET_ADDRESS`;\n\nexport const UNLOCK = `${name}/UNLOCK`;\n\nexport const RESET = `${name}/RESET`;\n\nexport const SET_NETWORK = `${name}/SET_NETWORK`;\n","export const SingleCallTokenBalancesABI = [{'constant':true,'inputs':[{'name':'user','type':'address'},{'name':'token','type':'address'}],'name':'tokenBalance','outputs':[{'name':'','type':'uint256'}],'payable':false,'stateMutability':'view','type':'function'},{'constant':true,'inputs':[{'name':'users','type':'address[]'},{'name':'tokens','type':'address[]'}],'name':'balances','outputs':[{'name':'','type':'uint256[]'}],'payable':false,'stateMutability':'view','type':'function'},{'payable':true,'stateMutability':'payable','type':'fallback'}];\n\nexport const DNC20ABI = [{'constant':true,'inputs':[],'name':'name','outputs':[{'name':'','type':'string'}],'payable':false,'stateMutability':'view','type':'function'},{'constant':false,'inputs':[{'name':'_spender','type':'address'},{'name':'_value','type':'uint256'}],'name':'approve','outputs':[{'name':'success','type':'bool'}],'payable':false,'stateMutability':'nonpayable','type':'function'},{'constant':true,'inputs':[],'name':'totalSupply','outputs':[{'name':'','type':'uint256'}],'payable':false,'stateMutability':'view','type':'function'},{'constant':false,'inputs':[{'name':'_from','type':'address'},{'name':'_to','type':'address'},{'name':'_value','type':'uint256'}],'name':'transferFrom','outputs':[{'name':'success','type':'bool'}],'payable':false,'stateMutability':'nonpayable','type':'function'},{'constant':true,'inputs':[],'name':'decimals','outputs':[{'name':'','type':'uint8'}],'payable':false,'stateMutability':'view','type':'function'},{'constant':true,'inputs':[],'name':'version','outputs':[{'name':'','type':'string'}],'payable':false,'stateMutability':'view','type':'function'},{'constant':true,'inputs':[{'name':'_owner','type':'address'}],'name':'balanceOf','outputs':[{'name':'balance','type':'uint256'}],'payable':false,'stateMutability':'view','type':'function'},{'constant':true,'inputs':[],'name':'symbol','outputs':[{'name':'','type':'string'}],'payable':false,'stateMutability':'view','type':'function'},{'constant':false,'inputs':[{'name':'_to','type':'address'},{'name':'_value','type':'uint256'}],'name':'transfer','outputs':[{'name':'success','type':'bool'}],'payable':false,'stateMutability':'nonpayable','type':'function'},{'constant':false,'inputs':[{'name':'_spender','type':'address'},{'name':'_value','type':'uint256'},{'name':'_extraData','type':'bytes'}],'name':'approveAndCall','outputs':[{'name':'success','type':'bool'}],'payable':false,'stateMutability':'nonpayable','type':'function'},{'constant':true,'inputs':[{'name':'_owner','type':'address'},{'name':'_spender','type':'address'}],'name':'allowance','outputs':[{'name':'remaining','type':'uint256'}],'payable':false,'stateMutability':'view','type':'function'},{'inputs':[],'payable':false,'stateMutability':'nonpayable','type':'constructor'},{'payable':false,'stateMutability':'nonpayable','type':'fallback'},{'anonymous':false,'inputs':[{'indexed':true,'name':'_from','type':'address'},{'indexed':true,'name':'_to','type':'address'},{'indexed':false,'name':'_value','type':'uint256'}],'name':'Transfer','type':'event'},{'anonymous':false,'inputs':[{'indexed':true,'name':'_owner','type':'address'},{'indexed':true,'name':'_spender','type':'address'},{'indexed':false,'name':'_value','type':'uint256'}],'name':'Approval','type':'event'}];\n\nexport const DDropStakingABI = [{\"inputs\":[{\"internalType\":\"address\",\"name\":\"superAdmin_\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"admin_\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"ddrop_\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"ddropParams_\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"admin\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"newAdmin\",\"type\":\"address\"}],\"name\":\"AdminChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"delegator\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"fromDelegate\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"toDelegate\",\"type\":\"address\"}],\"name\":\"DelegateChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"delegate\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"previousBalance\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newBalance\",\"type\":\"uint256\"}],\"name\":\"DelegateVotesChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[],\"name\":\"Paused\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"superAdmin\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"newSuperAdmin\",\"type\":\"address\"}],\"name\":\"SuperAdminChanged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[],\"name\":\"Unpaused\",\"type\":\"event\"},{\"constant\":true,\"inputs\":[],\"name\":\"DELEGATION_TYPEHASH\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"DOMAIN_TYPEHASH\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"admin\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"},{\"internalType\":\"uint32\",\"name\":\"\",\"type\":\"uint32\"}],\"name\":\"checkpoints\",\"outputs\":[{\"internalType\":\"uint32\",\"name\":\"fromBlock\",\"type\":\"uint32\"},{\"internalType\":\"uint96\",\"name\":\"votes\",\"type\":\"uint96\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"delegatee\",\"type\":\"address\"}],\"name\":\"delegate\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"delegatee\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"nonce\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"expiry\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"v\",\"type\":\"uint8\"},{\"internalType\":\"bytes32\",\"name\":\"r\",\"type\":\"bytes32\"},{\"internalType\":\"bytes32\",\"name\":\"s\",\"type\":\"bytes32\"}],\"name\":\"delegateBySig\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"delegates\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"estimatedDDropOwnedBy\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"}],\"name\":\"getCurrentVotes\",\"outputs\":[{\"internalType\":\"uint96\",\"name\":\"\",\"type\":\"uint96\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"blockNumber\",\"type\":\"uint256\"}],\"name\":\"getPriorVotes\",\"outputs\":[{\"internalType\":\"uint96\",\"name\":\"\",\"type\":\"uint96\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"lastRewardMintHeight\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"nonces\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"numCheckpoints\",\"outputs\":[{\"internalType\":\"uint32\",\"name\":\"\",\"type\":\"uint32\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"pause\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"paused\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"admin_\",\"type\":\"address\"}],\"name\":\"setAdmin\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"address\",\"name\":\"superAdmin_\",\"type\":\"address\"}],\"name\":\"setSuperAdmin\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"rawAmount\",\"type\":\"uint256\"}],\"name\":\"stake\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"superAdmin\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"ddrop\",\"outputs\":[{\"internalType\":\"contract IDDrop\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"ddropParams\",\"outputs\":[{\"internalType\":\"contract IDDropParams\",\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"totalShares\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[],\"name\":\"unpause\",\"outputs\":[],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"rawShares\",\"type\":\"uint256\"}],\"name\":\"unstake\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"function\"}];\n","const name = \"TRANSACTIONS\";\n\nexport const FETCH_TRANSACTIONS_ETHEREUM = `${name}/FETCH_TRANSACTIONS_ETHEREUM`;\nexport const FETCH_TRANSACTIONS_ETHEREUM_START = `${FETCH_TRANSACTIONS_ETHEREUM}/START`;\nexport const FETCH_TRANSACTIONS_ETHEREUM_END = `${FETCH_TRANSACTIONS_ETHEREUM}/END`;\nexport const FETCH_TRANSACTIONS_ETHEREUM_FAILURE = `${FETCH_TRANSACTIONS_ETHEREUM}/FAILURE`;\nexport const FETCH_TRANSACTIONS_ETHEREUM_SUCCESS = `${FETCH_TRANSACTIONS_ETHEREUM}/SUCCESS`;\n\nexport const FETCH_TRANSACTIONS_ERC20 = `${name}/FETCH_TRANSACTIONS_ERC20`;\nexport const FETCH_TRANSACTIONS_ERC20_START = `${FETCH_TRANSACTIONS_ERC20}/START`;\nexport const FETCH_TRANSACTIONS_ERC20_END = `${FETCH_TRANSACTIONS_ERC20}/END`;\nexport const FETCH_TRANSACTIONS_ERC20_FAILURE = `${FETCH_TRANSACTIONS_ERC20}/FAILURE`;\nexport const FETCH_TRANSACTIONS_ERC20_SUCCESS = `${FETCH_TRANSACTIONS_ERC20}/SUCCESS`;\n\nexport const FETCH_TRANSACTIONS_DNERO = `${name}/FETCH_TRANSACTIONS_DNERO`;\nexport const FETCH_TRANSACTIONS_DNERO_START = `${FETCH_TRANSACTIONS_DNERO}/START`;\nexport const FETCH_TRANSACTIONS_DNERO_END = `${FETCH_TRANSACTIONS_DNERO}/END`;\nexport const FETCH_TRANSACTIONS_DNERO_FAILURE = `${FETCH_TRANSACTIONS_DNERO}/FAILURE`;\nexport const FETCH_TRANSACTIONS_DNERO_SUCCESS = `${FETCH_TRANSACTIONS_DNERO}/SUCCESS`;\n\nexport const CREATE_SEND_TRANSACTION = `${name}/CREATE_SEND_TRANSACTION`;\nexport const CREATE_SEND_TRANSACTION_START = `${CREATE_SEND_TRANSACTION}/START`;\nexport const CREATE_SEND_TRANSACTION_END = `${CREATE_SEND_TRANSACTION}/END`;\nexport const CREATE_SEND_TRANSACTION_FAILURE = `${CREATE_SEND_TRANSACTION}/FAILURE`;\nexport const CREATE_SEND_TRANSACTION_SUCCESS = `${CREATE_SEND_TRANSACTION}/SUCCESS`;\n\nexport const CREATE_DEPOSIT_STAKE_TRANSACTION = `${name}/CREATE_DEPOSIT_STAKE_TRANSACTION`;\nexport const CREATE_DEPOSIT_STAKE_TRANSACTION_START = `${CREATE_DEPOSIT_STAKE_TRANSACTION}/START`;\nexport const CREATE_DEPOSIT_STAKE_TRANSACTION_END = `${CREATE_DEPOSIT_STAKE_TRANSACTION}/END`;\nexport const CREATE_DEPOSIT_STAKE_TRANSACTION_FAILURE = `${CREATE_DEPOSIT_STAKE_TRANSACTION}/FAILURE`;\nexport const CREATE_DEPOSIT_STAKE_TRANSACTION_SUCCESS = `${CREATE_DEPOSIT_STAKE_TRANSACTION}/SUCCESS`;\n\nexport const CREATE_WITHDRAW_STAKE_TRANSACTION = `${name}/CREATE_WITHDRAW_STAKE_TRANSACTION`;\nexport const CREATE_WITHDRAW_STAKE_TRANSACTION_START = `${CREATE_WITHDRAW_STAKE_TRANSACTION}/START`;\nexport const CREATE_WITHDRAW_STAKE_TRANSACTION_END = `${CREATE_WITHDRAW_STAKE_TRANSACTION}/END`;\nexport const CREATE_WITHDRAW_STAKE_TRANSACTION_FAILURE = `${CREATE_WITHDRAW_STAKE_TRANSACTION}/FAILURE`;\nexport const CREATE_WITHDRAW_STAKE_TRANSACTION_SUCCESS = `${CREATE_WITHDRAW_STAKE_TRANSACTION}/SUCCESS`;\n\nexport const CREATE_SMART_CONTRACT_TRANSACTION = `${name}/CREATE_SMART_CONTRACT_TRANSACTION`;\nexport const CREATE_SMART_CONTRACT_TRANSACTION_START = `${CREATE_SMART_CONTRACT_TRANSACTION}/START`;\nexport const CREATE_SMART_CONTRACT_TRANSACTION_END = `${CREATE_SMART_CONTRACT_TRANSACTION}/END`;\nexport const CREATE_SMART_CONTRACT_TRANSACTION_FAILURE = `${CREATE_SMART_CONTRACT_TRANSACTION}/FAILURE`;\nexport const CREATE_SMART_CONTRACT_TRANSACTION_SUCCESS = `${CREATE_SMART_CONTRACT_TRANSACTION}/SUCCESS`;\n\nexport const FETCH_TRANSACTION = `${name}/FETCH_TRANSACTION`;\nexport const FETCH_TRANSACTION_START = `${FETCH_TRANSACTION}/START`;\nexport const FETCH_TRANSACTION_END = `${FETCH_TRANSACTION}/END`;\nexport const FETCH_TRANSACTION_FAILURE = `${FETCH_TRANSACTION}/FAILURE`;\nexport const FETCH_TRANSACTION_SUCCESS = `${FETCH_TRANSACTION}/SUCCESS`;\n\nexport const RESET = `${name}/RESET`;\n","import * as dnerojs from '@dnerolabs/dnero-js';\nimport _ from 'lodash';\nimport Api from '../../services/Api'\nimport {reduxFetch} from './Api'\nimport {\n    RESET,\n    CREATE_SMART_CONTRACT_TRANSACTION,\n    CREATE_SMART_CONTRACT_TRANSACTION_START,\n    CREATE_SMART_CONTRACT_TRANSACTION_END\n} from \"../types/Transactions\";\nimport Wallet from \"../../services/Wallet\";\nimport Dnero from \"../../services/Dnero\";\nimport Timeout from 'await-timeout';\nimport {hideLoader, hideModal, hideModals, showLoader, showModal} from \"./ui\";\nimport Alerts from \"../../services/Alerts\";\nimport DneroJS from \"../../libs/dnerojs.esm\";\nimport ContractModes from \"../../constants/ContractModes\";\nimport Router from \"../../services/Router\";\nimport ModalTypes from \"../../constants/ModalTypes\";\nimport {updateAccountStakes} from \"./Wallet\";\nimport {sleep} from \"../../utils/Utils\";\n\nexport function fetchDneroTransactions() {\n    return function (dispatch, getState) {\n        const selectedAddress = _.get(getState(), 'dneroWallet.selectedAddress');\n        if(selectedAddress){\n            return Wallet.controller.RPCApi.updateAccountTransactions({\n                address: selectedAddress\n            });\n        }\n    };\n}\n\nexport async function createSmartContractTransactionAsync(dispatch, network, contractMode, contractAbi, txData, password) {\n    let metadata = {\n        network: network,\n        contractMode: contractMode,\n        txData: txData,\n    };\n\n    //The decryption can take some time, so start the event early\n    dispatch({\n        type: CREATE_SMART_CONTRACT_TRANSACTION_START,\n        metadata: metadata\n    });\n\n    //Let the spinners start, so we will delay the decryption/signing a bit\n    await Timeout.set(1000);\n\n    try {\n        let address = Wallet.getWalletAddress();\n        let sequence = await Wallet.getDneroTxSequence(address, network);\n        let unsignedTx = Dnero.unsignedSmartContractTx(txData, sequence);\n        const rawTxBytes = DneroJS.TxSigner.serializeTx(unsignedTx);\n        const rawTxHex = rawTxBytes.toString('hex').slice(2);\n        let signedTx = await Wallet.signTransaction(network, unsignedTx, password);\n\n        if (signedTx) {\n            let dryRunResponseJSON = null;\n\n            if(contractMode === ContractModes.DEPLOY){\n                const dryRunResponse = await Api.callSmartContract({data: rawTxHex}, {network: network});\n                dryRunResponseJSON = await dryRunResponse.json();\n            }\n\n            let opts = {\n                onSuccess: function (dispatch, response) {\n                    //Show success alert\n                    if(contractMode === ContractModes.DEPLOY){\n                        Alerts.showSuccess(\"Your smart contract has been deployed.\");\n\n                        const contractAddress = _.get(dryRunResponseJSON, ['result', 'contract_address']);\n                        const contractABIB64 = btoa(contractAbi);\n                        Router.push(`/wallet/contract/interact?address=${contractAddress}&abi=${contractABIB64}`);\n                    }\n                    else{\n                        Alerts.showSuccess(\"Your transaction is now being processed.\");\n                    }\n\n                    //Hide the send modals\n                    dispatch(hideModals());\n                },\n                onError: function (dispatch, response) {\n                    const errorMsg = _.get(response, ['body', 'message'], \"Your transaction failed.\");\n\n                    Alerts.showError(errorMsg);\n                }\n            };\n\n            //Call API to create the transaction\n            let result = reduxFetch(CREATE_SMART_CONTRACT_TRANSACTION, function () {\n                if(contractMode === ContractModes.DEPLOY || contractMode === ContractModes.EXECUTE){\n                    return Api.executeSmartContract({data: signedTx}, {network: network});\n                }\n                }, metadata, opts);\n\n            return Promise.resolve(result);\n        }\n    }\n    catch (e) {\n        //Signing failed so end the request\n        dispatch({\n            type: CREATE_SMART_CONTRACT_TRANSACTION_END\n        });\n\n        //Display error\n        Alerts.showError(e.message);\n\n        return Promise.resolve(null);\n    }\n}\n\nexport function createSmartContractTransactionLegacy(network, contractMode, contractAbi, txData, password) {\n    return function (dispatch, getState) {\n        createSmartContractTransactionAsync(dispatch, network, contractMode, contractAbi, txData, password).then(function (thunk) {\n            if (thunk) {\n                dispatch(thunk);\n            }\n        });\n    };\n}\n\nexport function createSmartContractTransaction(contractMode, contractAbi, txData) {\n    return async function (dispatch, getState) {\n        dispatch(showLoader('Preparing transaction...'));\n\n        //Let the spinners start, so we will delay the decryption/signing a bit\n        await sleep(1000);\n\n        try {\n            let address = Wallet.getWalletAddress();\n            const provider = Wallet.controller.provider;\n            const transaction = new dnerojs.transactions.SmartContractTransaction(txData);\n            let sequence = await provider.getTransactionCount(address);\n            sequence = sequence + 1;\n            transaction.setSequence(sequence);\n            const callResult = await provider.callSmartContract(transaction);\n            await sleep(1000);\n            dispatch(hideLoader());\n\n            dispatch(createTransactionRequest(transaction.toJson()));\n\n            if(contractMode === ContractModes.DEPLOY){\n                // Assume the TX goes through\n                const contractAddress = _.get(callResult, ['contract_address']);\n                const contractABIB64 = btoa(contractAbi);\n                Router.push(`/wallet/contract/interact?address=${contractAddress}&abi=${contractABIB64}`);\n            }\n        }\n        catch (e) {\n            dispatch(hideLoader());\n\n            //Display error\n            Alerts.showError(e.message);\n\n            return Promise.resolve(null);\n        }\n        finally {\n            dispatch(hideLoader());\n        }\n    };\n}\n\nexport function resetTransactionsState(){\n    return {\n        type: RESET,\n    }\n}\n\nexport function createTransactionRequest(transactionRequest) {\n    return async (dispatch) => {\n        try {\n            const result = Wallet.controller.RPCApi.addTransactionRequest({\n                transactionRequest: transactionRequest\n            });\n\n            dispatch(showModal({\n                type: ModalTypes.CONFIRM_TRANSACTION,\n                props: {\n                    closeable: false\n                }\n            }));\n\n            return result;\n        }\n        catch (error) {\n            return false;\n        }\n    };\n}\n\nexport function rejectTransactionRequest(transactionRequestId) {\n    return async (dispatch) => {\n        try {\n            const result = Wallet.controller.RPCApi.rejectTransactionRequest({\n                transactionRequestId: transactionRequestId\n            });\n\n            dispatch(hideModal());\n\n            return result;\n        }\n        catch (error) {\n            return false;\n        }\n    };\n}\n\nexport function approveTransactionRequest(transactionRequestId, password) {\n    return async (dispatch, getState) => {\n        try {\n            const transactionRequest = Wallet.controller.transactionsController.pendingTransactionRequests.get(transactionRequestId);\n            const dependencies = _.get(transactionRequest, 'request.dependencies', []);\n            const totalTransactions = (dependencies.length + 1);\n\n            if(dependencies.length === 0){\n                dispatch(showLoader('Sending Transaction'));\n            }\n            else{\n                dispatch(showLoader(`Sending Transaction (1 / ${totalTransactions})`));\n            }\n\n            // Sleep a bit so the password check doesn't lag\n            await sleep(1500);\n\n            const validPassword = Wallet.verifyPassword(password);\n\n            if(!validPassword){\n                dispatch(hideLoader());\n                Alerts.showError('Wrong password. Your transaction could not be signed.');\n                return false;\n            }\n\n            const result = await Wallet.controller.RPCApi.approveTransactionRequest({\n                transactionRequestId: transactionRequestId,\n                onDependencySent: () => {\n                    if(dependencies.length === 0){\n                        dispatch(showLoader('Sending Transaction'));\n                    }\n                    else{\n                        dispatch(showLoader(`Sending Transaction (${totalTransactions} / ${totalTransactions})`));\n                    }\n                }\n            });\n            dispatch(hideModals());\n\n            if(window.location.href.includes('stakes')){\n                const selectedAddress = _.get(getState(), 'dneroWallet.selectedAddress');\n                dispatch(updateAccountStakes(selectedAddress));\n            }\n\n            dispatch(hideLoader());\n\n            return result;\n        }\n        catch (error) {\n            dispatch(hideLoader());\n            const humanizedErrorMessage = dnerojs.errors.humanizeErrorMessage(error.message);\n            Alerts.showError(humanizedErrorMessage);\n            return false;\n        }\n    };\n}\n","const TokenTypes = {\n    ETHEREUM: 'ethereum',\n    ERC20_DNERO: 'erc20',\n    DNERO: 'dnero',\n    DNERO_TOKEN: 'dtoken',\n};\n\n\nexport function tokenTypeToTokenName(tokenType){\n    if(tokenType === TokenTypes.ETHEREUM){\n        return \"Ethereum\";\n    }\n    else if(tokenType === TokenTypes.ERC20_DNERO){\n        return \"ERC20 Dnero\";\n    }\n    else if(tokenType === TokenTypes.DNERO){\n        return \"Dnero\";\n    }\n    else if(tokenType === TokenTypes.DNERO_TOKEN){\n        return \"DToken\";\n    }\n}\n\nexport default TokenTypes;","const name = \"UI\";\n\nexport const SHOW_LOADER = `${name}/SHOW_LOADER`;\nexport const HIDE_LOADER = `${name}/HIDE_LOADER`;\n\nexport const SHOW_MODAL = `${name}/SHOW_MODAL`;\nexport const HIDE_MODAL = `${name}/HIDE_MODAL`;\nexport const HIDE_MODALS = `${name}/HIDE_MODALS`;\n","\nexport default class Router {\n    static _history = null;\n\n    static setHistory(history){\n        this._history = history;\n    }\n\n    static push(path){\n        return this._history.push(path);\n    }\n}","import * as actionTypes from \"../types/Wallet\";\nimport { zipMap } from \"../../utils/Utils\";\nimport Config from '../../Config';\n\nconst INITIAL_STATE = {\n    dneroWallet: null,\n\n    network: Config.defaultDneroChainID,\n\n    isFetchingBalances : false,\n    isFetchingEthereumBalances : false,\n\n    address: null,\n    name: null,\n\n    //Dnero\n    balances: [],\n    balancesByType: {},\n    balancesRefreshedAt: null,\n\n    //Legacy\n    ethereumBalances:[],\n    ethereumBalancesByType: {},\n};\n\nexport const walletReducer = (state = INITIAL_STATE, action) => {\n    switch (action.type) {\n        case actionTypes.SET_NETWORK:{\n            return Object.assign({}, state, {\n                network: action.network\n            });\n        }\n        case actionTypes.FETCH_WALLET_ETHEREUM_BALANCES_START:{\n            return Object.assign({}, state, {\n                isFetchingEthereumBalances: true\n            });\n        }\n        case actionTypes.FETCH_WALLET_ETHEREUM_BALANCES_END:{\n            return Object.assign({}, state, {\n                isFetchingEthereumBalances: false\n            });\n        }\n        case actionTypes.FETCH_WALLET_ETHEREUM_BALANCES_SUCCESS:{\n            let body = action.response.body;\n            let balances = body.balances;\n\n            return Object.assign({}, state, {\n                ethereumBalances: balances,\n                ethereumBalancesByType: zipMap(balances.map(({ type }) => type), balances.map(({ value }) => value))\n            });\n        }\n\n        case actionTypes.FETCH_WALLET_BALANCES_START:{\n            return Object.assign({}, state, {\n                isFetchingBalances: true\n            });\n        }\n        case actionTypes.FETCH_WALLET_BALANCES_END:{\n            return Object.assign({}, state, {\n                isFetchingBalances: false\n            });\n        }\n        case actionTypes.FETCH_WALLET_BALANCES_SUCCESS:{\n            let body = action.response.body;\n            let balances = body.balances;\n\n            return Object.assign({}, state, {\n                balances: balances,\n                balancesByType: zipMap(balances.map(({ type }) => type), balances.map(({ value }) => value)),\n                balancesRefreshedAt: new Date()\n            });\n        }\n\n        case actionTypes.SET_WALLET_ADDRESS:{\n            return Object.assign({}, state, {\n                address: action.address\n            });\n        }\n\n        //Reset all state (useful when recovering a wallet which may have another wallet's state stored in memory))\n        case actionTypes.RESET:{\n            return INITIAL_STATE;\n        }\n\n        default:{\n            return state\n        }\n    }\n};\n","import * as actionTypes from '../types/ui';\n\nconst INITIAL_STATE = {\n    modals : [],\n\n    isLoading: false,\n    loadingMessage: null\n};\n\nexport const uiReducer = (state = INITIAL_STATE, action) => {\n    switch (action.type) {\n        case actionTypes.SHOW_MODAL:{\n            let { type, props } = action.modal;\n\n            return Object.assign({}, state, {\n                modals: [...state.modals, {\n                    type: type,\n                    props: props\n                }]\n            });\n        }\n        case actionTypes.HIDE_MODAL:{\n            return Object.assign({}, state, {\n                modals: state.modals.slice(0, -1)\n            });\n        }\n        case actionTypes.HIDE_MODALS:{\n            return Object.assign({}, state, {\n                modals: []\n            });\n        }\n\n        case actionTypes.SHOW_LOADER:\n            return {\n                ...state,\n                isLoading: true,\n                loadingMessage: action.message,\n            };\n\n        case actionTypes.HIDE_LOADER:\n            return {\n                ...state,\n                isLoading: false,\n                loadingMessage: null\n            };\n\n        default:{\n            return state;\n        }\n    }\n};\n","const name = \"DNERO_WALLET\";\n\nexport const UPDATE_DNERO_WALLET_STATE = `${name}/UPDATE_DNERO_WALLET_STATE`;\n","import {UPDATE_DNERO_WALLET_STATE} from \"../types/DneroWallet\";\n\nconst INITIAL_STATE = {\n\n};\n\nexport const dneroWalletReducer = (state = INITIAL_STATE, action) => {\n    switch (action.type) {\n        case UPDATE_DNERO_WALLET_STATE : {\n            return Object.assign({}, state, action.data);\n        }\n        default: {\n            return state;\n        }\n    }\n};\n","import { combineReducers } from 'redux';\nimport { walletReducer } from './Wallet';\nimport { uiReducer } from './ui';\nimport {dneroWalletReducer} from \"./DneroWallet\";\n\nexport const rootReducer = combineReducers({\n    wallet: walletReducer,\n    ui: uiReducer,\n    dneroWallet: dneroWalletReducer,\n});\n","import thunkMiddleware from 'redux-thunk'\nimport { createLogger } from 'redux-logger'\nimport { createStore, applyMiddleware } from 'redux'\nimport { rootReducer } from './reducers';\nimport _ from 'lodash';\n\nconst loggerMiddleware = createLogger();\n\nconst IS_PRODUCTION = process.env.NODE_ENV === 'production';\n\nconst middlewares = [\n    thunkMiddleware,\n    //Only add the logged if not PROD\n    (!IS_PRODUCTION && loggerMiddleware)\n].filter(middleware => _.isFunction(middleware));\n\nexport const store = createStore(\n    rootReducer,\n    applyMiddleware(...middlewares)\n);\n","import _ from 'lodash';\nimport React from 'react';\nimport {FaAngleDown} from 'react-icons/fa';\nimport {getNetworkForChainId} from '@dnerolabs/dnero-js/src/networks';\nimport {connect} from 'react-redux';\nimport * as dnerojs from '@dnerolabs/dnero-js';\nimport {showModal} from \"../state/actions/ui\";\nimport ModalTypes from \"../constants/ModalTypes\";\n\nexport class NetworkSelector extends React.Component {\n    constructor(){\n        super();\n    }\n\n    onClick = () => {\n        this.props.dispatch(showModal({\n            type: ModalTypes.NETWORK_SELECTOR\n        }));\n    }\n\n    render() {\n        const {selectedNetwork} = this.props;\n\n        return (\n            <div className='NetworkSelector' onClick={this.onClick}>\n                <div className='NetworkSelector__color'\n                     style={{backgroundColor: selectedNetwork.color}}\n                />\n                <div className='NetworkSelector__name'>\n                    {\n                        selectedNetwork.name\n                    }\n                </div>\n                <div className='NetworkSelector__arrow'>\n                    <FaAngleDown/>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    const selectedChainId = _.get(state, 'dneroWallet.network.chainId', dnerojs.networks.ChainIds.Mainnet);\n    const selectedNetwork = getNetworkForChainId(selectedChainId) || {\n        chainId: selectedChainId,\n        name: selectedChainId,\n        color: '#000000'\n    };\n\n    return {\n        selectedNetwork: selectedNetwork\n    };\n};\n\nexport default connect(mapStateToProps)(NetworkSelector);\n","import _ from 'lodash';\nimport {connect} from 'react-redux'\nimport React from \"react\";\nimport './NavBar.css';\nimport Wallet from \"../services/Wallet\";\nimport { store } from '../state';\nimport {logout} from \"../state/actions/Wallet\";\nimport {copyToClipboard} from \"../utils/Utils\";\nimport Alerts from \"../services/Alerts\";\nimport {showModal} from \"../state/actions/ui\";\nimport ModalTypes from \"../constants/ModalTypes\";\nimport {getNetworkName} from \"../constants/Networks\";\nimport NetworkSelector from \"./NetworkSelector\";\n\nconst classNames = require('classnames');\n\nclass NavBar extends React.Component {\n    constructor(){\n        super();\n\n        this.logout = this.logout.bind(this);\n        this.copyAddress = this.copyAddress.bind(this);\n    }\n\n    logout(){\n        store.dispatch(logout());\n    }\n\n    copyAddress(){\n        let address = Wallet.getWalletAddress();\n\n        copyToClipboard(address);\n\n        Alerts.showSuccess(\"Your address has been copied\");\n    }\n\n    onNetworkBadgeClick = () => {\n        let address = Wallet.getWalletAddress();\n\n        if(address){\n            alert(\"You cannot change networks while a wallet is unlocked.\")\n        }\n        else{\n            store.dispatch(showModal({\n                type: ModalTypes.NETWORK_SELECTOR,\n            }));\n        }\n    };\n\n    renderAccountIfNeeded(){\n        let address = Wallet.getWalletAddress();\n\n        if(address){\n            return (\n                <div className=\"NavBar__account\">\n                    <div className=\"NavBar__wallet\">\n                        <div className=\"NavBar__wallet-title\">\n                            My Wallet:\n                        </div>\n                        <div className=\"NavBar__wallet-address\">\n                            {address}\n                        </div>\n                        <a className=\"NavBar__wallet-copy-address-icon\"\n                           onClick={this.copyAddress}\n                        >\n                            <img src=\"/img/icons/copy@2x.png\"/>\n                        </a>\n                    </div>\n                    <a className=\"NavBar__logout\"\n                       onClick={this.logout}>\n                        Log out\n                    </a>\n                </div>\n            );\n        }\n        else{\n            return null;\n        }\n    }\n\n    render() {\n        const {network} = this.props;\n\n        return (\n            <div className={classNames(\"NavBar\", { 'NavBar--is-centered': this.props.centered })}>\n                <div style={{display: 'flex', flexDirection: 'column', alignItems: 'center'}}>\n                    <img className=\"NavBar__logo\" src={'/img/logo/dnero_wallet_logo@2x.png'}/>\n                    {\n                        !this.props.centered &&\n                        <NetworkSelector/>\n                    }\n                </div>\n\n                { this.renderAccountIfNeeded() }\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        network: state.wallet.network\n    };\n};\n\nexport default connect(mapStateToProps)(NavBar);\n","import React from \"react\";\nimport './TabBar.css';\n\nconst classNames = require('classnames');\n\nclass TabBar extends React.Component {\n    render() {\n        let className = classNames(\"TabBar\", {\n            [this.props.className]: true,\n            \"TabBar--is-centered\": this.props.centered,\n            \"TabBar--is-condensed\" : this.props.condensed\n        });\n\n        return (\n            <div className={className}\n                 style={this.props.style}\n            >\n                {this.props.children}\n            </div>\n        );\n    }\n}\n\nexport default TabBar;\n","import React from \"react\";\nimport './TabBarItem.css';\nimport {NavLink} from 'react-router-dom'\n\nclass TabBarItem extends React.Component {\n    render() {\n        let content = null;\n\n        if (this.props.href) {\n            content = (\n                <NavLink to={this.props.href}\n                         className=\"TabBarItem\"\n                         activeClassName='TabBarItem--is-active'\n                         onClick={this.props.onClick}>\n                    {\n                        this.props.normalIconUrl &&\n                        <img className=\"TabBarItem__icon\"\n                         alt={this.props.title}\n                         src={this.props.normalIconUrl}/>\n                    }\n\n                    {\n                        this.props.activeIconUrl &&\n                        <img className=\"TabBarItem__icon-active\"\n                             alt={this.props.title}\n                             src={this.props.activeIconUrl}/>\n                    }\n\n                    <div className={\"TabBarItem__title\"}>\n                        {this.props.title}\n                    </div>\n                </NavLink>\n            );\n        }\n        else {\n            content = (\n                <a className=\"TabBarItem\"\n                   href={this.props.href}\n                   target={this.props.target}\n                   onClick={this.props.onClick}>\n                    <img className=\"TabBarItem__icon\"\n                         alt={this.props.title}\n                         src={this.props.normalIconUrl}/>\n                    <div className={\"TabBarItem__title\"}>\n                        {this.props.title}\n                    </div>\n                </a>\n            );\n        }\n\n        return content;\n    }\n}\n\nexport default TabBarItem;","import _ from 'lodash';\nimport React from \"react\";\nimport './WalletTokenListItem.css';\nimport {NavLink} from 'react-router-dom'\nimport {Jazzicon} from \"@ukstv/jazzicon-react\";\n\nclass WalletTokenListItem extends React.Component {\n    render() {\n        const {token, balance} = this.props;\n        let balanceStr = balance || \"-\";\n\n        return (\n            <NavLink to={`/wallet/tokens/${token.id}`}\n                     className=\"Balance\">\n                <div className='Balance__icon-wrapper'>\n                    {\n                        token.iconUrl &&\n                        <img src={token.iconUrl}\n                             className=\"Balance__icon\"\n                        />\n                    }\n                    {\n                        _.isNil(token.iconUrl) &&\n                        <Jazzicon address={token.contractAddress} className=\"Balance__icon\"/>\n                    }\n                </div>\n                <div className=\"WalletTokenListItem__token-balance-container\">\n                    <div className=\"Balance__name\">\n                        {token.symbol}\n                    </div>\n                    <div className=\"Balance__amount\">\n                        {balanceStr}\n                    </div>\n                </div>\n            </NavLink>\n        );\n    }\n}\n\nexport default WalletTokenListItem;\n","import _ from 'lodash';\nimport React from \"react\";\nimport './WalletTokenList.css';\nimport WalletTokenListItem from './WalletTokenListItem'\nimport Dnero from '../services/Dnero';\nimport moment from \"moment\";\nimport {formatNativeTokenAmountToLargestUnit, formatDNC20TokenAmountToLargestUnit} from \"../utils/Utils\";\nimport {showModal} from \"../state/actions/ui\";\nimport ModalTypes from \"../constants/ModalTypes\";\nimport {store} from \"../state\";\n\nclass WalletTokenList extends React.Component {\n    onAddTokenClick = () => {\n        store.dispatch(showModal({\n            type: ModalTypes.TRACK_TOKEN\n        }))\n    }\n\n    render() {\n        const {selectedAccount, tokens, assets, balancesRefreshedAt} = this.props;\n\n        return (\n            <div className=\"WalletTokenList\">\n                {\n                    selectedAccount && selectedAccount.balances &&\n                    assets.map((asset) => {\n                        const decimals = asset.decimals;\n                        const balanceStr = _.get(selectedAccount.balances, [asset.balanceKey], '0');\n\n                        return (\n                            <WalletTokenListItem key={asset.id}\n                                                 token={asset}\n                                                 balance={formatDNC20TokenAmountToLargestUnit(balanceStr, decimals)}\n                            />\n                        )\n                    })\n                }\n\n                <a className='AddTokenCTA'\n                   onClick={this.onAddTokenClick}\n                >\n                    <img className={'AddTokenCTA__icon'}\n                         src={'/img/icons/add-token.svg'}/>\n                    <div className={'AddTokenCTA__name'}>Add Token</div>\n                </a>\n\n                {\n                    selectedAccount && _.isEmpty(selectedAccount.balances) &&\n                    <div className=\"WalletTokenList__refreshed-message\">Loading balances...</div>\n                }\n\n                {\n                    !_.isNil(balancesRefreshedAt) &&\n                    <div\n                        className=\"WalletTokenList__refreshed-message\">{`Balances refreshed ${moment(balancesRefreshedAt).fromNow()}`}</div>\n                }\n\n                {\n                    selectedAccount &&\n                    <a className=\"WalletTokenList__explorer-link\"\n                       href={Dnero.getAccountExplorerUrl(selectedAccount.address)}\n                       target={'_blank'}\n                       rel='noopener noreferrer'\n                    >\n                        View Account on Explorer\n                    </a>\n                }\n            </div>\n        );\n    }\n}\n\nexport default WalletTokenList;\n","import React from \"react\";\nimport './PageHeader.css';\n\nconst classNames = require('classnames');\n\nclass PageHeader extends React.Component {\n    render() {\n        let className = classNames(\"PageHeader\", {\n            [this.props.className]: true,\n            \"PageHeader--is-sticky\": this.props.sticky\n        });\n\n        return (\n            <div className={className}>\n                {\n                    this.props.title &&\n                    <div className=\"PageHeader__title\">\n                        {this.props.title}\n                    </div>\n                }\n                {this.props.children}\n            </div>\n        );\n    }\n}\n\nexport default PageHeader;\n","import React from \"react\";\nimport './TransactionStatus.css';\n\nconst classNames = require('classnames');\n\nexport default class TransactionStatus extends React.PureComponent {\n    render() {\n        let {bound, isLocal} = this.props;\n        let isInbound = (bound === \"inbound\");\n        let text = null;\n\n        if(isInbound){\n            text = \"Received\";\n        }\n        else if(isLocal){\n            text = \"Sent - Processing\";\n        }\n        else{\n            text = \"Sent\";\n        }\n\n        let className = classNames(\"TransactionStatus\", {\n            \"TransactionStatus--is-inbound\": isInbound\n        });\n\n        return (\n            <div className={className}>\n                <div className=\"TransactionStatus__dot\"/>\n                <div className=\"TransactionStatus__text\">\n                    {text}\n                </div>\n            </div>\n        );\n    }\n}","import React from \"react\";\nimport './DneroTransactionListItem.css';\nimport moment from 'moment';\nimport TransactionStatus from './TransactionStatus'\nimport {formatNativeTokenAmountToLargestUnit, numberWithCommas, truncate} from \"../utils/Utils\";\nimport _ from 'lodash';\nimport Dnero from '../services/Dnero';\n\nclass DneroTransactionListItem extends React.Component {\n    render() {\n        let { transaction } = this.props;\n        let {inputs, outputs, timestamp, bound, hash, is_local} = transaction;\n        let input = (inputs ? inputs[0] : null);\n        let output = (outputs ? outputs[0] : null);\n        let from = _.get(input, ['address']);\n        let to = _.get(output, ['address']);\n        let isReceived = (bound === \"inbound\");\n        let explorerUrl = Dnero.getTransactionExplorerUrl(transaction);\n\n        //Truncate the addresses to help reduce the run ons\n        from = truncate(from);\n        to = truncate(to);\n\n        let dneroAmount = _.get(output, ['coins', 'dnerowei']);\n        let dtokenAmount = _.get(output, ['coins', 'dtokenwei']);\n\n        return (\n            <a className=\"DneroTransactionListItem\"\n               href={explorerUrl}\n               target=\"_blank\"\n            >\n                <div className=\"DneroTransactionListItem__left-container\">\n                    <div className=\"DneroTransactionListItem__top-container\">\n                        <TransactionStatus bound={bound} isLocal={is_local}/>\n                    </div>\n                    <div className=\"DneroTransactionListItem__middle-container\">\n                        <div className=\"DneroTransactionListItem__address-container\">\n                            <div className=\"DneroTransactionListItem__address-prefix\" >{isReceived ? \"FROM:\" : \"TO:\"}</div>\n                            <div className=\"DneroTransactionListItem__address\">{isReceived ? from : to}</div>\n                        </div>\n                    </div>\n                    <div className=\"DneroTransactionListItem__bottom-container\">\n                        <div className=\"DneroTransactionListItem__date\">{moment.unix(timestamp).fromNow()}</div>\n                    </div>\n                </div>\n\n                <div className=\"DneroTransactionListItem__right-container\">\n                    <div className=\"DneroTransactionListItem__amount-container\">\n                        <div className=\"DneroTransactionListItem__amount\">{formatNativeTokenAmountToLargestUnit(dneroAmount)}</div>\n                        <img className=\"DneroTransactionListItem__amount-icon\"\n                             src=\"/img/tokens/dnero_large@2x.png\"\n                        />\n                    </div>\n                    <div className=\"DneroTransactionListItem__amount-container\">\n                        <div className=\"DneroTransactionListItem__amount\">{formatNativeTokenAmountToLargestUnit(dtokenAmount)}</div>\n                        <img className=\"DneroTransactionListItem__amount-icon\"\n                             src=\"/img/tokens/dtoken_large@2x.png\"\n                        />\n                    </div>\n                </div>\n            </a>\n        );\n    }\n}\n\nexport default DneroTransactionListItem;\n","import React from \"react\";\nimport './TransactionList.css';\nimport DneroTransactionListItem from './DneroTransactionListItem'\n\nclass TransactionList extends React.Component {\n    createList(){\n        return this.props.transactions.map(function(transaction, index){\n            return <DneroTransactionListItem key={ transaction.hash }\n                                             transaction={transaction}\n            />;\n        })\n    };\n\n    render() {\n        return (\n            <div className=\"TransactionList\">\n                {this.createList()}\n            </div>\n        );\n    }\n}\n\nexport default TransactionList;\n","import {createSelector} from 'reselect'\nimport _ from \"lodash\";\nimport TokenTypes from \"../../constants/TokenTypes\";\nimport Wallet from '../../services/Wallet'\n\nconst getTransactions = (state) => state.transactions.transactions;\nconst getLocalTransactionsByHash = (state) => state.transactions.localTransactionsByHash;\n\nconst getEthereumNetworkTransactionsByType = (state) => state.transactions.ethereumNetworkTransactionsByType;\n\nconst getWalletAddress = (state) => Wallet.getWalletAddress();\n\nfunction sortDneroNetworkTransactionOutputs(walletAddress, outputs){\n    return _.sortBy(outputs, [function (output) {\n        //Ensure the output we care about is always first\n        if (output.address === walletAddress) {\n            return -1;\n        }\n        else {\n            return 0;\n        }\n    }]);\n}\n\nfunction transformDneroNetworkTransaction(walletAddress, transaction) {\n    let {outputs} = transaction;\n    outputs = sortDneroNetworkTransactionOutputs(walletAddress, outputs);\n\n    let output = null;\n    let address = null;\n\n    if (_.isNil(outputs)) {\n        //This tx is messed up, return null to prevent breaking the UI\n        return null;\n    }\n\n    output = outputs[0];\n    address = output['address'];\n\n    return Object.assign({}, transaction, {\n        bound: (walletAddress === address ? \"inbound\" : \"outbound\"),\n        outputs: outputs\n    });\n}\n\nfunction transformEthereumNetworkTransaction(walletAddress, transaction) {\n    return Object.assign({}, transaction, {bound: (walletAddress === transaction.to ? \"inbound\" : \"outbound\")});\n}\n\nfunction getTransformedEthereumNetworkTransactions(walletAddress, type, transactionsByType, localTransactionsByHash) {\n    walletAddress = (walletAddress ? walletAddress.toLowerCase() : null);\n\n    //Merge these transactions and sort by timestamp\n    let scopedTransactions = transactionsByType[type];\n    let txTransformer = _.partial(transformEthereumNetworkTransaction, walletAddress);\n    let transactions = _(scopedTransactions)\n        .sortBy(tx => parseInt(tx.time_stamp))\n        .reverse()\n        .map(txTransformer)\n        .value();\n    let transactionHashes = new Set(_.map(transactions, function (transaction) {\n        return transaction.hash;\n    }));\n    let localTransactions = _.filter(Object.values(localTransactionsByHash), function (transaction) {\n        return !transactionHashes.has(transaction.hash) && transaction[\"type\"] === type;\n    });\n\n    let allTransactions = _.flatten([localTransactions, transactions]);\n\n    //Ensure all transactiosn are unique\n    return _.uniqBy(allTransactions, 'hash')\n}\n\nfunction getTransformedTransactions(walletAddress, txs, localTransactionsByHash) {\n    walletAddress = (walletAddress ? walletAddress.toLowerCase() : null);\n\n    //Merge these transactions and sort by timestamp\n    let isNotNil = _.negate(_.isNil);//returns true if the obj is NOT nil\n    let txTransformer = _.partial(transformDneroNetworkTransaction, walletAddress);\n    let transactions = _(txs)\n        .map(txTransformer)\n        .filter(isNotNil)\n        .sortBy(tx => parseInt(tx.timestamp))\n        .reverse()\n        .value();\n    let transactionHashes = new Set(_.map(transactions, function (transaction) {\n        return transaction.hash;\n    }));\n    let localTransactions = _.filter(Object.values(localTransactionsByHash), function (transaction) {\n        return !transactionHashes.has(transaction.hash);\n    });\n\n    let allTransactions = _.flatten([localTransactions, transactions]);\n\n    //Ensure all transactions are unique\n    return _.uniqBy(allTransactions, 'hash')\n}\n\nexport const getERC20Transactions = createSelector(\n    [getWalletAddress, getEthereumNetworkTransactionsByType, getLocalTransactionsByHash],\n    (walletAddress, transactionsByType, localTransactionsByHash) => {\n        return getTransformedEthereumNetworkTransactions(walletAddress, TokenTypes.ERC20_DNERO, transactionsByType, localTransactionsByHash);\n    }\n);\n\nexport const getEthereumTransactions = createSelector(\n    [getWalletAddress, getEthereumNetworkTransactionsByType, getLocalTransactionsByHash],\n    (walletAddress, transactionsByType, localTransactionsByHash) => {\n        return getTransformedEthereumNetworkTransactions(walletAddress, TokenTypes.ETHEREUM, transactionsByType, localTransactionsByHash);\n    }\n);\n\nexport const getDneroNetworkTransactions = createSelector(\n    [getWalletAddress, getTransactions, getLocalTransactionsByHash],\n    (walletAddress, transactions, localTransactionsByHash) => {\n        return getTransformedTransactions(walletAddress, transactions, localTransactionsByHash);\n    }\n);","import React from 'react';\nimport './EmptyState.css'\n\nexport default class EmptyState extends React.PureComponent {\n    render() {\n        return (\n            <div className=\"EmptyState\">\n                {\n                    this.props.icon &&\n                    <img className=\"EmptyState__icon\"\n                         src={this.props.icon}/>\n                }\n                <div className=\"EmptyState__title\">{this.props.title}</div>\n                <div className=\"EmptyState__subtitle\">{this.props.subtitle}</div>\n            </div>\n        );\n    }\n}\n","import React, {Fragment} from \"react\";\nimport './GhostButton.css';\nimport MDSpinner from \"react-md-spinner\";\n\nconst classNames = require('classnames');\n\nclass GhostButton extends React.Component {\n    render() {\n        let icon = this.props.iconUrl && <img className=\"GhostButton__icon\"\n                                              src={this.props.iconUrl}\n        />;\n        let innerContent = null;\n\n        let className = classNames(\"GhostButton\", {\n            [this.props.className]: true,\n            \"GhostButton--is-disabled\": this.props.disabled\n        });\n\n        if(this.props.loading){\n            innerContent = (\n                <MDSpinner singleColor=\"#ffffff\"\n                           size={16}\n                           className={\"GhostButton__spinner\"}\n                />\n            );\n        }\n        else{\n            innerContent = (\n                <Fragment>\n                    {icon}\n                    <div className=\"GhostButton__title\">\n                        {this.props.title}\n                    </div>\n                </Fragment>\n            );\n        }\n\n        return (\n            <a className={className}\n               href={this.props.href}\n               target={this.props.target}\n               onClick={(this.props.disabled === true ? null : this.props.onClick)}\n               style={this.props.style}\n            >\n                {innerContent}\n            </a>\n        );\n    }\n}\n\nexport default GhostButton;\n","import _ from 'lodash';\nimport React from \"react\";\nimport './WalletPage.css';\nimport {connect} from 'react-redux'\nimport WalletTokenList from '../components/WalletTokenList'\nimport PageHeader from '../components/PageHeader'\nimport TransactionList from '../components/TransactionList'\nimport {fetchWalletBalances} from \"../state/actions/Wallet\";\nimport {fetchDneroTransactions} from \"../state/actions/Transactions\";\nimport {getERC20Transactions, getEthereumTransactions, getDneroNetworkTransactions} from \"../state/selectors/Transactions\";\nimport EmptyState from \"../components/EmptyState\";\nimport TokenTypes from \"../constants/TokenTypes\";\nimport MDSpinner from \"react-md-spinner\";\nimport GhostButton from \"../components/buttons/GhostButton\";\nimport {showModal} from \"../state/actions/ui\";\nimport ModalTypes from \"../constants/ModalTypes\";\nimport {DefaultAssets, getAllAssets, tokenToAsset} from \"../constants/assets\";\nimport Dnero from \"../services/Dnero\";\n\nexport class WalletPage extends React.Component {\n    constructor(){\n        super();\n\n        this.pollWalletBalancesIntervalId = null;\n\n        // this.fetchBalances = this.fetchBalances.bind(this);\n        this.handleSendClick = this.handleSendClick.bind(this);\n        this.handleReceiveClick = this.handleReceiveClick.bind(this);\n    }\n\n    fetchTransactions(tokenType){\n        if(tokenType === TokenTypes.DNERO || tokenType === TokenTypes.DNERO_TOKEN){\n            this.props.dispatch(fetchDneroTransactions());\n        }\n    }\n\n    fetchBalances(){\n        // this.props.dispatch(fetchWalletBalances());\n    }\n\n    startPollingWalletBalances(){\n        //Fetch it immediately\n        // this.fetchBalances();\n\n        // this.pollWalletBalancesIntervalId = setInterval(this.fetchBalances, 15000);\n    }\n\n    stopPollingWalletBalances(){\n        // if(this.pollWalletBalancesIntervalId){\n        //     clearInterval(this.pollWalletBalancesIntervalId);\n        // }\n    }\n\n    handleSendClick(){\n        this.props.dispatch(showModal({\n            type: ModalTypes.CREATE_TRANSACTION,\n            props: {\n                transactionType: 'send'\n            }\n        }));\n    }\n\n    handleReceiveClick(){\n        this.props.dispatch(showModal({\n            type: ModalTypes.RECEIVE,\n        }));\n    }\n\n    componentDidMount(){\n        let tokenType = this.props.match.params.tokenType;\n\n        // this.startPollingWalletBalances();\n        this.fetchTransactions(tokenType);\n    }\n\n    componentWillUnmount(){\n        // this.stopPollingWalletBalances();\n    }\n\n    componentWillReceiveProps(nextProps){\n        let nextTokenType = nextProps.match.params.tokenType;\n\n        if(this.props.match.params.tokenType !== nextTokenType){\n            this.fetchTransactions(nextTokenType);\n        }\n    }\n\n    render() {\n        const { selectedAccount, assets, tokens, isFetchingBalances, balancesRefreshedAt, transactions, isLoadingTransactions } = this.props;\n\n        return (\n            <div className=\"WalletPage\">\n                <div className=\"WalletPage__master-view\">\n                    {\n                        isFetchingBalances && _.isEmpty(selectedAccount) &&\n                        <MDSpinner singleColor=\"#ffffff\"\n                                   className=\"WalletPage__master-view-spinner\"\n                                   size={20}/>\n                    }\n\n                    <WalletTokenList selectedAccount={selectedAccount}\n                                     tokens={tokens}\n                                     assets={assets}\n                                     balancesRefreshedAt={balancesRefreshedAt}\n                    />\n                </div>\n                <div className=\"WalletPage__detail-view\">\n                    <PageHeader title=\"Dnero/Dtoken Transactions\"\n                                sticky={true}>\n                        <div className=\"WalletPage__header-buttons\">\n                            <GhostButton title=\"Send\"\n                                         iconUrl=\"/img/icons/send@2x.png\"\n                                         onClick={this.handleSendClick}/>\n                            <GhostButton title=\"Receive\"\n                                         iconUrl=\"/img/icons/receive@2x.png\"\n                                         style={{marginLeft: 12}}\n                                         onClick={this.handleReceiveClick}/>\n                        </div>\n                    </PageHeader>\n\n                    {\n                        isLoadingTransactions &&\n                        <MDSpinner singleColor=\"#ffffff\" className=\"WalletPage__detail-view-spinner\"/>\n                    }\n\n                    <a href={Dnero.getAccountExplorerUrl(selectedAccount.address)}\n                       target={\"_blank\"}\n                       style={{marginTop: 12, marginBottom: 12}}\n                    >View all transactions on explorer</a>\n                    {\n                        transactions.length > 0 &&\n                        <TransactionList transactions={transactions}/>\n                    }\n\n                    {\n                        (transactions.length === 0 && isLoadingTransactions === false) &&\n                        <EmptyState icon=\"/img/icons/empty-transactions@2x.png\"\n                                    title=\"No Transactions\"\n                        />\n                    }\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    const {dneroWallet} = state;\n    const selectedAddress = dneroWallet.selectedAddress;\n    const identities = dneroWallet.identities;\n    const accounts = dneroWallet.accounts;\n    const tokens = dneroWallet.tokens;\n    const chainId = dneroWallet.network?.chainId;\n    const transactions = _.get(dneroWallet, ['transactions', selectedAddress], []);\n\n    return {\n        selectedAddress: selectedAddress,\n        selectedIdentity: identities[selectedAddress],\n        selectedAccount: accounts[selectedAddress],\n\n        tokens: tokens,\n        assets: getAllAssets(chainId, tokens),\n\n        transactions: transactions,\n    }\n};\n\nexport default connect(mapStateToProps)(WalletPage);\n","import React from \"react\";\nimport './GradientButton.css';\nimport {Link} from \"react-router-dom\";\nimport MDSpinner from \"react-md-spinner\";\n\nconst classNames = require('classnames');\n\nclass GradientButton extends React.Component {\n    render() {\n        let content = null;\n        let innerContent = null;\n        let className = classNames(\"GradientButton\", {\n            [this.props.className]: true,\n            \"GradientButton--is-disabled\": this.props.disabled\n        });\n\n        if(this.props.loading){\n            innerContent = (\n                <MDSpinner singleColor=\"#ffffff\"/>\n            );\n        }\n        else{\n            innerContent = (\n                <div className={\"GradientButton__title\"}>\n                    {this.props.title}\n                </div>\n            );\n        }\n\n        if (this.props.href) {\n            content = (\n                <Link to={this.props.href}\n                      style={this.props.style}\n                      className={className}\n                      onClick={this.props.onClick}>\n                    {innerContent}\n                </Link>\n            );\n        }\n        else {\n            content = (\n                <a className={className}\n                   style={this.props.style}\n                   onClick={(this.props.disabled === true ? null : this.props.onClick)}>\n                    {innerContent}\n                </a>\n            );\n        }\n\n        return content;\n    }\n}\n\nexport default GradientButton;\n","import _ from 'lodash';\nimport React from \"react\";\nimport './SettingsPage.css';\nimport PageHeader from \"../components/PageHeader\";\nimport GradientButton from \"../components/buttons/GradientButton\";\nimport Wallet from '../services/Wallet';\nimport {downloadFile} from \"../utils/Utils\";\nimport Alerts from '../services/Alerts';\n\nclass ExportKeystoreContent extends React.Component {\n    constructor(){\n        super();\n\n        this.defaultState = {\n            currentPassword: '',\n            password: '',\n            passwordConfirmation:  '',\n\n            loading: false,\n\n            error: null\n        };\n\n        this.state = this.defaultState;\n\n        this.handleChange = this.handleChange.bind(this);\n        this.prepareForExport = this.prepareForExport.bind(this);\n        this.exportKeystore = this.exportKeystore.bind(this);\n    }\n\n    validate(){\n        if(this.state.password.length > 0 &&\n            this.state.passwordConfirmation.length > 0 &&\n            this.state.password !== this.state.passwordConfirmation){\n            this.setState({error: \"Your passwords do not match\"});\n        }\n        else{\n            this.setState({error: \"\"});\n        }\n    }\n\n    isValid(){\n        return (this.state.password.length > 0 &&\n            this.state.passwordConfirmation.length > 0 &&\n            this.state.password === this.state.passwordConfirmation);\n    }\n\n    handleChange(event) {\n        let name = event.target.name;\n        let value = event.target.value;\n\n        this.setState({[name]: value}, this.validate);\n    }\n\n    exportKeystore(){\n        try {\n            let keystore = Wallet.exportKeystore(this.state.currentPassword, this.state.password);\n\n            downloadFile(keystore.address + '.keystore', JSON.stringify(keystore));\n\n            this.setState(this.defaultState);\n        }\n        catch (e) {\n            this.setState({\n                loading: false\n            });\n\n            Alerts.showError(e.message);\n        }\n\n    }\n\n    prepareForExport(){\n        this.setState({\n            loading: true\n        });\n\n        setTimeout(this.exportKeystore, 1000);\n    }\n\n    render() {\n        return (\n            <div className=\"ExportKeystoreContent\">\n                <div className=\"InputTitle\">Current Password</div>\n                <input className=\"RoundedInput\"\n                       placeholder=\"Enter current password\"\n                       name=\"currentPassword\"\n                       type=\"password\"\n                       value={this.state.currentPassword}\n                       onChange={this.handleChange}\n                />\n                <div className=\"InputTitle\">New Password</div>\n                <input className=\"RoundedInput\"\n                       placeholder=\"Set a New Password\"\n                       name=\"password\"\n                       type=\"password\"\n                       value={this.state.password}\n                       onChange={this.handleChange}\n                />\n                <div className=\"InputTitle\">Confirm New Password</div>\n                <input className=\"RoundedInput\"\n                       placeholder=\"Re-enter Password\"\n                       name=\"passwordConfirmation\"\n                       type=\"password\"\n                       value={this.state.passwordConfirmation}\n                       onChange={this.handleChange}\n                />\n                <div className=\"InputError\">\n                    {this.state.error}\n                </div>\n\n                <GradientButton title=\"Export Keystore\"\n                                onClick={this.prepareForExport}\n                                style={{marginTop: 15}}\n                                loading={this.state.loading}\n                                disabled={(this.state.loading || this.isValid() === false)}\n                />\n            </div>\n        );\n    }\n}\n\nclass SettingsSection extends React.Component {\n    render() {\n        return (\n            <div className=\"SettingsSection\">\n                <div className=\"SettingsSection__title\">\n                    {this.props.title}\n                </div>\n\n                <div className=\"SettingsSection__content\">\n                    { this.props.children }\n                </div>\n            </div>\n        );\n    }\n}\n\nclass SettingsPage extends React.Component {\n    render() {\n        let canExport = _.isNil(Wallet.getWallet().hardware);\n\n        return (\n            <div className=\"SettingsPage\">\n                <div className=\"SettingsPage__detail-view\">\n                    <PageHeader title=\"Settings\"\n                                sticky={true}\n                    />\n\n                    {\n                        canExport &&\n                        <SettingsSection title=\"Export Keystore\">\n                            <ExportKeystoreContent/>\n                        </SettingsSection>\n                    }\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default SettingsPage;\n","import React from \"react\";\nimport './OnboardingPage.css';\nimport {Link} from \"react-router-dom\";\nimport GradientButton from '../components/buttons/GradientButton'\n\nconst OnboardingSteps = [\n    {\n        title: \"How to swap from ERC20 Dnero to Mainnet Dnero\",\n        description: \"This wallet functions as a Dnero ERC20 wallet today. When Mainnet launches in March 2019, the wallet will automatically switch to work as a DNERO Mainnet wallet.\"\n    },\n    {\n        title: \"Create a Wallet and transfer ERC20 Dnero In\",\n        description: \"Create your wallet and transfer your ERC20 Dnero in. You can now use this wallet as a fully functional ERC20 Dnero wallet.\"\n    },\n    {\n        title: \"After launch, use the wallet to transact on Mainnet\",\n        description: \"Once the snapshot is taken of ERC20 Dnero and the mainnet is launched, the wallet will have the same balance, but all transactions will be on the Mainnet. No action is needed from you for this swap.\"\n    }\n];\n\nclass OnboardingPage extends React.Component {\n    render() {\n        let onboardingStep = parseInt(this.props.match.params.onboardingStep);\n        let onboardingImageUrl = '/img/onboarding/' + onboardingStep + '@2x.png';\n        let {title, description} = OnboardingSteps[onboardingStep];\n        let footerContent = null;\n\n        if (onboardingStep === OnboardingSteps.length - 1) {\n            footerContent = (\n                <React.Fragment>\n                    <GradientButton title=\"Create Wallet\"\n                                    href='/create-wallet'\n                    />\n                    <Link to=\"/restore-wallet\"\n                          className=\"OnboardingPage__restore-button\">\n                        Restore Wallet\n                    </Link>\n                </React.Fragment>\n            );\n        }\n        else {\n            footerContent = (\n                <GradientButton title=\"Next\"\n                                href={'/onboarding/' + (onboardingStep + 1)}\n                />);\n        }\n\n        return (\n            <div className=\"OnboardingPage\">\n                <div className=\"OnboardingPage__wrapper\">\n                    <div className=\"OnboardingPage__title\">{title}</div>\n                    <img src={onboardingImageUrl}\n                         className=\"OnboardingPage__image\"\n                    />\n                    <div className=\"OnboardingPage__description\">{description}</div>\n                    <div className=\"OnboardingPage__footer\">\n                        {footerContent}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default OnboardingPage;","import React from \"react\";\nimport './CreateWalletPage.css';\nimport {Link} from \"react-router-dom\";\nimport GradientButton from '../components/buttons/GradientButton'\nimport Wallet from '../services/Wallet'\nimport TemporaryState from '../services/TemporaryState'\nimport { downloadFile } from '../utils/Utils'\nimport {store} from \"../state\";\nimport {showModal} from \"../state/actions/ui\";\nimport ModalTypes from \"../constants/ModalTypes\";\n\nclass WalletCreationCompleteCard extends React.Component {\n    render() {\n        return (\n            <div className=\"WalletCreationCompleteCard\">\n                <div className=\"WalletCreationCompleteCard__content\">\n                    <div className=\"WalletCreationCompleteCard__header\"/>\n\n                    <div className=\"WalletCreationCompleteCard__success\">\n                        <img className=\"WalletCreationCompleteCard__icon\" src={'/img/icons/wallet-success@2x.png'}/>\n\n                        <div className=\"WalletCreationCompleteCard__success-title\">\n                            You're ready!\n                        </div>\n                        <div className=\"WalletCreationCompleteCard__success-body\">\n                            You are now ready to use your new Dnero wallet.\n                        </div>\n                    </div>\n\n                    <div className=\"WalletCreationCompleteCard__footer\">\n                        <GradientButton title=\"Unlock Wallet\"\n                                        href=\"/unlock\"\n                        />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nclass MnemonicCard extends React.Component {\n    constructor(){\n        super();\n\n        this.showPrivateKey = this.showPrivateKey.bind(this);\n    }\n\n    showPrivateKey(){\n        store.dispatch(showModal({\n            type: ModalTypes.PRIVATE_KEY,\n            props: {\n                privateKey: this.props.wallet.privateKey\n            }\n        }));\n    }\n\n    render() {\n        let { mnemonic, privateKey } = this.props.wallet;\n        const phrase = mnemonic.phrase;\n\n        return (\n            <div className=\"MnemonicCard\">\n                <div className=\"MnemonicCard__content\">\n                    <div className=\"MnemonicCard__header\">\n                        <div className=\"MnemonicCard__title\">\n                            Mnemonic Phrase\n                        </div>\n                        <div className=\"MnemonicWarningCard__subtitle\">\n                            12 words which allow you to recover your wallet.\n                        </div>\n                    </div>\n\n                    <div className=\"MnemonicCard__body\">\n                        <div className=\"MnemonicCard__instructions\">\n                            Back up the text below on paper and keep it somewhere secret and safe. It will not be shown again.\n                        </div>\n\n                        <div className=\"MnemonicCard__phrase-container\">\n                            <p>\n                                { phrase }\n                            </p>\n                        </div>\n\n                        <a className=\"MnemonicCard__view-private-key\"\n                           onClick={this.showPrivateKey}\n                        >View my Private Key</a>\n                    </div>\n\n                    <div className=\"MnemonicCard__footer\">\n                        <GradientButton title=\"Continue\"\n                                        onClick={this.props.onContinue}\n                        />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nclass MnemonicWarningCard extends React.Component {\n    render() {\n        return (\n            <div className=\"MnemonicWarningCard\">\n                <div className=\"MnemonicWarningCard__content\">\n                    <div className=\"MnemonicWarningCard__header\">\n                        <div className=\"MnemonicWarningCard__title\">\n                            Mnemonic Phrase\n                        </div>\n                        <div className=\"MnemonicWarningCard__subtitle\">\n                            12 words which allow you to recover your wallet.\n                        </div>\n                    </div>\n\n                    <img className=\"MnemonicWarningCard__icon\" src={'/img/icons/word-blocks@2x.png'}/>\n\n                    <div className=\"MnemonicWarningCard__warning\">\n                        <div className=\"MnemonicWarningCard__warning-title\">\n                            Warning!\n                        </div>\n                        <div className=\"MnemonicWarningCard__warning-body\">\n                            We are about to show your Mnemonic phrase. Please ensure no one can see your screen before you continue.\n                        </div>\n                    </div>\n\n\n\n                    <div className=\"MnemonicWarningCard__footer\">\n                        <GradientButton title=\"Continue\"\n                                        onClick={this.props.onContinue}\n                        />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\n//TODO rename to create keystore card\nclass ChoosePasswordCard extends React.Component {\n    constructor(){\n        super();\n\n        this.state = {\n            password: '',\n            passwordConfirmation: '',\n            agreedToTerms: false\n        }\n    }\n\n    handleChange(event) {\n        let name = event.target.name;\n        let type = event.target.type;\n        let value = (type === \"password\" ? event.target.value : event.target.checked);\n\n        this.setState({[name]: value}, this.validate);\n    }\n\n    createWallet(){\n        let data = Wallet.createWallet(this.state.password);\n\n        if(data){\n            TemporaryState.setWalletData(data);\n\n            downloadFile(data.wallet.address + '.keystore', JSON.stringify(data.keystore));\n\n            //Sometimes the browser pauses when downloading a file, to reduce jitters add a pause\n            setTimeout(() => {\n                this.setState({loading: false});\n\n                this.props.onContinue();\n            }, 500);\n        }\n    }\n\n    prepareForWalletCreation(){\n        this.setState({loading: true});\n\n        setTimeout(() => {\n            this.createWallet();\n        }, 1000);\n    }\n\n    isValid(){\n        return (\n            this.state.agreedToTerms === true &&\n            this.state.password.length > 0 &&\n            this.state.password === this.state.passwordConfirmation);\n    }\n\n    validate(){\n        if(this.state.password.length > 0 &&\n            this.state.passwordConfirmation.length > 0 &&\n            this.state.password !== this.state.passwordConfirmation){\n            this.setState({error: \"Your passwords do not match\"});\n        }\n        else{\n            this.setState({error: \"\"});\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"ChoosePasswordCard\">\n                <div className=\"ChoosePasswordCard__content\">\n                    <div className=\"ChoosePasswordCard__header\">\n                        <div className=\"ChoosePasswordCard__title\">\n                            Create Keystore\n                        </div>\n                        <div className=\"ChoosePasswordCard__subtitle\">\n                            This password will encrypt your private key.\n                        </div>\n                    </div>\n                    <div className=\"ChoosePasswordCard__inputs\">\n                        <input className=\"ChoosePasswordCard__password-input\"\n                               placeholder=\"Set a New Password\"\n                               name=\"password\"\n                               type=\"password\"\n                               value={this.state.password}\n                               onChange={this.handleChange.bind(this)}\n                        />\n                        <input className=\"ChoosePasswordCard__password-input\"\n                               placeholder=\"Re-enter Password\"\n                               name=\"passwordConfirmation\"\n                               type=\"password\"\n                               value={this.state.passwordConfirmation}\n                               onChange={this.handleChange.bind(this)}\n                        />\n                    </div>\n                    <div className=\"ChoosePasswordCard__error\">\n                        {this.state.error}\n                    </div>\n                    <div className=\"ChoosePasswordCard__message-wrapper\">\n                        <input id=\"agreedToTerms\"\n                               type=\"checkbox\"\n                               name=\"agreedToTerms\"\n                               checked={this.state.agreedToTerms}\n                               onChange={this.handleChange.bind(this)}/>\n                        <label className=\"ChoosePasswordCard__message\"\n                               htmlFor=\"agreedToTerms\">\n                            <span>\n                                I understand that Dnero cannot recover or reset my password or the keystore file.\n                                I will make a backup of the keystore file / password, keep them secret, complete all\n                                wallet creation steps.\n                            </span>\n                        </label>\n                    </div>\n\n                    <div className=\"ChoosePasswordCard__footer\">\n                        <GradientButton title=\"Download Keystore\"\n                                        onClick={this.prepareForWalletCreation.bind(this)}\n                                        loading={this.state.loading}\n                                        disabled={(this.state.loading || this.isValid() === false)}\n                        />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst CREATE_WALLET_STEP_CREATE_KEYSTORE = 0;\nconst CREATE_WALLET_STEP_MNEMONIC_WARNING = 1;\nconst CREATE_WALLET_STEP_MNEMONIC = 2;\nconst CREATE_WALLET_STEP_COMPLETE = 3;\n\nclass CreateWalletPage extends React.Component {\n    constructor(){\n        super();\n\n        this.state = {\n            currentStep: CREATE_WALLET_STEP_CREATE_KEYSTORE\n        }\n    }\n\n    continue(){\n        this.setState({ currentStep: this.state.currentStep + 1 });\n    }\n\n    render() {\n        let walletData = TemporaryState.getWalletData();\n        let card = null;\n        let footer = null;\n        let pageTitle = (this.state.currentStep === CREATE_WALLET_STEP_COMPLETE ? \"\" : \"Create New Wallet\");\n\n        if(this.state.currentStep === CREATE_WALLET_STEP_CREATE_KEYSTORE){\n            card = (\n                <ChoosePasswordCard onContinue={this.continue.bind(this)}/>\n            );\n        }\n        else if(this.state.currentStep === CREATE_WALLET_STEP_MNEMONIC_WARNING){\n            card = (\n                <MnemonicWarningCard onContinue={this.continue.bind(this)}/>\n            );\n        }\n        else if(this.state.currentStep === CREATE_WALLET_STEP_MNEMONIC){\n            card = (\n                <MnemonicCard onContinue={this.continue.bind(this)}\n                              wallet={walletData.wallet}\n                />\n            );\n        }\n        else if(this.state.currentStep === CREATE_WALLET_STEP_COMPLETE){\n            card = (\n                <WalletCreationCompleteCard onContinue={this.continue.bind(this)}/>\n            );\n        }\n\n\n        if(this.state.currentStep !== CREATE_WALLET_STEP_COMPLETE){\n            footer = (\n                <div className=\"CreateWalletPage__subtitle\">\n                    <span>Already have a wallet?</span>\n                    <Link to=\"/unlock\">Unlock Wallet</Link>\n                </div>\n            );\n        }\n\n        return (\n            <div className=\"CreateWalletPage\">\n                <div className=\"CreateWalletPage__wrapper\">\n                    <div className=\"CreateWalletPage__title\">\n                        {pageTitle}\n                    </div>\n\n                    {card}\n\n                    {footer}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default CreateWalletPage;\n","import React from \"react\";\nimport './HardwareOptionButton.css';\n\nconst classNames = require('classnames');\n\nclass HardwareOptionButton extends React.Component {\n    render() {\n        let icon = this.props.iconUrl && <img className=\"HardwareOptionButton__icon\"\n                                              src={this.props.iconUrl}\n        />;\n\n        let className = classNames(\"HardwareOptionButton\", {\n            [this.props.className]: true,\n            \"HardwareOptionButton--is-selected\" : this.props.isSelected,\n            \"HardwareOptionButton--is-disabled\": this.props.disabled\n        });\n\n        return (\n            <a className={className}\n               href={this.props.href}\n               target={this.props.target}\n               onClick={this.props.onClick}\n               style={this.props.style}\n            >\n                {icon}\n                <div className=\"HardwareOptionButton__title\">\n                    {this.props.title}\n                </div>\n            </a>\n        );\n    }\n}\n\nexport default HardwareOptionButton;\n","import React from 'react';\nimport './DropZone.css'\n\nconst classNames = require('classnames');\n\nexport default class DropZone extends React.PureComponent {\n    constructor(){\n        super();\n\n        this.state = {\n            active: false\n        };\n\n        this.handleDragOver = this.handleDragOver.bind(this);\n        this.handleDragEnter = this.handleDragEnter.bind(this);\n        this.handleDragLeave = this.handleDragLeave.bind(this);\n        this.handleDrop = this.handleDrop.bind(this);\n    }\n\n    handleDragOver(e){\n        e.preventDefault();\n\n        this.setState({active: true});\n    }\n\n    handleDragEnter(e){\n        e.preventDefault();\n\n        this.setState({active: true});\n    }\n\n    handleDragLeave(e){\n        e.preventDefault();\n\n        this.setState({active: false});\n    }\n\n    handleDrop(e){\n        e.preventDefault();\n\n        let files = e.dataTransfer.files;\n\n        if(files.length > 0){\n            this.props.onDrop(files[0]);\n        }\n\n        this.setState({active: false});\n    }\n\n    componentDidMount(){\n        window.addEventListener(\"dragenter\", this.handleDragEnter);\n        window.addEventListener(\"dragleave\", this.handleDragLeave);\n        window.addEventListener(\"dragover\", this.handleDragOver);\n        window.addEventListener(\"drop\", this.handleDrop);\n    }\n\n    componentWillUnmount(){\n        window.removeEventListener(\"dragenter\", this.handleDragEnter);\n        window.removeEventListener(\"dragleave\", this.handleDragLeave);\n        window.removeEventListener(\"dragover\", this.handleDragOver);\n        window.removeEventListener(\"drop\", this.handleDrop);\n    }\n\n    render() {\n        let className = classNames(\"DropZone\", { 'DropZone--is-active': this.state.active });\n\n        return (\n            <div className={className}>\n                {\n                    this.props.icon &&\n                    <img className=\"DropZone__icon\"\n                         src={this.props.icon}/>\n                }\n                <div className=\"DropZone__title\">{this.props.title}</div>\n            </div>\n        );\n    }\n}","import _ from 'lodash';\nimport React from \"react\";\nimport './UnlockWalletPage.css';\nimport {connect} from 'react-redux'\nimport {Link} from \"react-router-dom\";\nimport GradientButton from '../components/buttons/GradientButton'\nimport HardwareOptionButton from '../components/buttons/HardwareOptionButton';\nimport Wallet, { WalletUnlockStrategy, EthereumDerivationPath, EthereumLedgerLiveDerivationPath, EthereumOtherDerivationPath } from '../services/Wallet'\nimport TabBarItem from \"../components/TabBarItem\";\nimport TabBar from \"../components/TabBar\";\nimport {connectHardware, unlockHardwareWalletAccount, unlockWallet} from \"../state/actions/Wallet\";\nimport DropZone from '../components/DropZone'\nimport {formatNativeTokenAmountToLargestUnit, truncate} from \"../utils/Utils\";\nimport MDSpinner from \"react-md-spinner\";\n\nconst classNames = require('classnames');\n\nclass UnlockWalletViaPrivateKey extends React.Component {\n    constructor(){\n        super();\n\n        this.state = {\n            privateKey: \"\",\n            password: \"\",\n            loading: false\n        };\n\n        this.handleKeyPress = this.handleKeyPress.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleUnlockClick = this.handleUnlockClick.bind(this);\n    }\n\n    isValid(){\n        return this.state.privateKey.length > 0 && this.state.password.length > 0;\n    }\n\n    handleChange(event){\n        let name = event.target.name;\n        let value = event.target.value;\n\n        this.setState({[name]: value});\n    }\n\n    handleKeyPress(e) {\n        if (e.key === 'Enter') {\n            this.handleUnlockClick();\n        }\n    }\n\n    unlockWallet(){\n        this.props.unlockWallet(WalletUnlockStrategy.PRIVATE_KEY, this.state.password, {privateKey: this.state.privateKey});\n\n        this.setState({loading: false});\n    }\n\n    prepareForUnlock(){\n        this.setState({loading: true});\n\n        setTimeout(() => {\n            this.unlockWallet()\n        }, 1500);\n    }\n\n    handleUnlockClick(){\n        if(this.isValid()){\n            this.prepareForUnlock();\n        }\n    }\n\n    render() {\n        let isDisabled = (this.state.loading || this.isValid() === false);\n\n        return (\n            <div className=\"UnlockWalletViaPrivateKey\">\n                <div className=\"UnlockWalletViaPrivateKey__title\">\n                    Please enter your private key\n                </div>\n\n                <textarea className=\"UnlockWalletViaPrivateKey__private-key\"\n                          name=\"privateKey\"\n                          value={this.state.privateKey}\n                          onChange={this.handleChange}\n                />\n\n                <div className=\"UnlockWalletViaPrivateKey__private-key-instructions\">\n                    Please enter your private key in HEX format.\n                </div>\n\n                <input className=\"UnlockWalletViaPrivateKey__password-input\"\n                       placeholder=\"Enter temporary session password\"\n                       name=\"password\"\n                       type=\"password\"\n                       value={this.state.password}\n                       ref={this.passwordInput}\n                       onChange={this.handleChange}\n                       onKeyPress={this.handleKeyPress}\n                />\n\n                <div className=\"UnlockWalletCard__warning\">\n                    Before you enter your private key, we recommend you disconnect your device from the internet. You will be able to reconnect once your wallet is unlocked.\n                </div>\n\n                <div className=\"UnlockWalletViaPrivateKey__footer\">\n                    <GradientButton title=\"Unlock Wallet\"\n                                    loading={this.state.loading}\n                                    onClick={this.handleUnlockClick}\n                                    disabled={isDisabled}\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nclass UnlockWalletViaMnemonicPhrase extends React.Component {\n    constructor(){\n        super();\n\n        this.state = {\n            mnemonic: \"\",\n            password: \"\",\n            loading: false\n        };\n\n        this.handleKeyPress = this.handleKeyPress.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleUnlockClick = this.handleUnlockClick.bind(this);\n    }\n\n    isValid(){\n        return this.state.mnemonic.length > 0 && this.state.password.length > 0;\n    }\n\n    handleChange(event){\n        let name = event.target.name;\n        let value = event.target.value;\n\n        this.setState({[name]: value});\n    }\n\n    handleKeyPress(e) {\n        if (e.key === 'Enter') {\n            this.handleUnlockClick();\n        }\n    }\n\n    unlockWallet(){\n        this.props.unlockWallet(WalletUnlockStrategy.MNEMONIC_PHRASE, this.state.password, {mnemonic: this.state.mnemonic});\n\n        this.setState({loading: false});\n    }\n\n    prepareForUnlock(){\n        this.setState({loading: true});\n\n        setTimeout(() => {\n            this.unlockWallet()\n        }, 1500);\n    }\n\n    handleUnlockClick(){\n        if(this.isValid()){\n            this.prepareForUnlock();\n        }\n    }\n\n    render() {\n        let isDisabled = (this.state.loading || this.isValid() === false);\n\n        return (\n            <div className=\"UnlockWalletViaMnemonicPhrase\">\n                <div className=\"UnlockWalletViaMnemonicPhrase__title\">\n                    Please enter your 12 word phrase\n                </div>\n\n                <textarea className=\"UnlockWalletViaMnemonicPhrase__mnemonic\"\n                          name=\"mnemonic\"\n                          value={this.state.mnemonic}\n                          onChange={this.handleChange}\n                />\n\n                <div className=\"UnlockWalletViaMnemonicPhrase__mnemonic-instructions\">\n                    Please separate each Mnemonic Phrase with a space.\n                </div>\n\n                <input className=\"UnlockWalletViaMnemonicPhrase__password-input\"\n                       placeholder=\"Enter temporary session password\"\n                       name=\"password\"\n                       type=\"password\"\n                       value={this.state.password}\n                       ref={this.passwordInput}\n                       onChange={this.handleChange}\n                       onKeyPress={this.handleKeyPress}\n                />\n                <div className=\"UnlockWalletCard__warning\">\n                    Before you enter your mnemonic phrase, we recommend you disconnect your device from the internet. You will be able to reconnect once your wallet is unlocked.\n                </div>\n\n                <div className=\"UnlockWalletViaMnemonicPhrase__footer\">\n                    <GradientButton title=\"Unlock Wallet\"\n                                    loading={this.state.loading}\n                                    onClick={this.handleUnlockClick}\n                                    disabled={isDisabled}\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nclass UnlockWalletViaKeystoreFile extends React.Component {\n    constructor(){\n        super();\n\n        this.fileInput = React.createRef();\n        this.passwordInput = React.createRef();\n\n        this.droppedFile = null;\n\n\n        this.state = {\n            password: \"\",\n            loading: false\n        };\n\n        this.handleKeyPress = this.handleKeyPress.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.handleUnlockClick = this.handleUnlockClick.bind(this);\n        this.handleKeystoreFileDrop = this.handleKeystoreFileDrop.bind(this);\n    }\n\n    isValid(){\n        let keystoreFile = this.keystoreFile();\n\n        return keystoreFile !== null && this.state.password.length > 0;\n    }\n\n    keystoreFile(){\n        let fileInput = this.fileInput.current;\n        let fileFromInput = (fileInput && fileInput.files.length > 0 ? fileInput.files[0] : null);\n\n        //If a dropped file is available, use it\n        return (this.droppedFile ? this.droppedFile : fileFromInput);\n    }\n\n    handleChange(event){\n        let name = event.target.name;\n        let value = event.target.value;\n\n        this.setState({[name]: value});\n\n        if(name === \"file\"){\n            //Clear the dropped file\n            this.droppedFile = null;\n\n            this.passwordInput.current.focus();\n        }\n    }\n\n    handleKeyPress(e) {\n        if (e.key === 'Enter') {\n            this.handleUnlockClick();\n        }\n    }\n\n    handleKeystoreFileDrop(file){\n        this.droppedFile = file;\n\n        this.setState({droppedFile: true}, () => {\n            //To prevent lost focusing, focus after rendering\n            this.passwordInput.current.focus();\n        });\n    }\n\n    unlockWallet(keystore){\n        this.props.unlockWallet(WalletUnlockStrategy.KEYSTORE_FILE, this.state.password, {keystore: keystore});\n\n        this.setState({loading: false});\n    }\n\n    onKeystoreFileLoad(e){\n        let keystoreData = e.target.result;\n\n        setTimeout(() => {\n            this.unlockWallet(keystoreData)\n        }, 1500);\n    }\n\n    prepareForUnlock(){\n        let fileToLoad = this.keystoreFile();\n        let fileReader = new FileReader();\n\n        this.setState({loading: true});\n\n        fileReader.onload = this.onKeystoreFileLoad.bind(this);\n        fileReader.readAsText(fileToLoad, \"UTF-8\");\n    }\n\n    handleUnlockClick(){\n        if(this.isValid()){\n            this.prepareForUnlock();\n        }\n    }\n\n    render() {\n        let keystoreFile = this.keystoreFile();\n        let fileInputClassName = classNames(\"UnlockWalletViaKeystoreFile__file-input\", {\n            \"UnlockWalletViaKeystoreFile__file-input--has-file\": (keystoreFile !== null)\n        });\n        let isDisabled = (this.state.loading || this.isValid() === false);\n\n        return (\n            <div className=\"UnlockWalletViaKeystoreFile\">\n                <DropZone title=\"Drop keystore here\"\n                          icon=\"/img/icons/dnero-file@2x.png\"\n                          onDrop={this.handleKeystoreFileDrop}/>\n                <div className=\"UnlockWalletViaKeystoreFile__title\">\n                    Please select your keystore file\n                </div>\n\n                <label htmlFor=\"file-upload\" className={fileInputClassName}>\n                    <input id=\"file-upload\"\n                           type=\"file\"\n                           name=\"file\"\n                           ref={this.fileInput}\n                           onChange={this.handleChange}/>\n                    { ((keystoreFile === null) ? \"Choose Keystore File\" : \"Keystore File Set\") }\n                </label>\n\n                <input className=\"UnlockWalletViaKeystoreFile__password-input\"\n                       placeholder=\"Enter your wallet password\"\n                       name=\"password\"\n                       type=\"password\"\n                       value={this.state.password}\n                       ref={this.passwordInput}\n                       onChange={this.handleChange}\n                       onKeyPress={this.handleKeyPress}\n                />\n\n                <div className=\"UnlockWalletViaKeystoreFile__footer\">\n                    <GradientButton title=\"Unlock Wallet\"\n                                    loading={this.state.loading}\n                                    onClick={this.handleUnlockClick}\n                                    disabled={isDisabled}\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nconst HardwareAccountsList = ({hardwareAccounts, accounts, onClick}) => {\n    const renderHardwareAccount = (account, balances) => {\n        return (\n            <a className=\"HardwareDeviceAccountRow\"\n               key={account.address}\n               onClick={() => {\n                   onClick(account)\n               }}\n            >\n                <div className=\"HardwareDeviceAccountRow__address\">\n                    {truncate(account.address)}\n                </div>\n                <div className=\"HardwareDeviceAccountRow__balances\">\n                    {\n                        !_.isEmpty(balances) &&\n                        <React.Fragment>\n                            <div className=\"HardwareDeviceAccountRow__balance\">\n                                <span>{formatNativeTokenAmountToLargestUnit(balances?.dnerowei)}</span>\n                                <img src=\"/img/tokens/dnero_large@2x.png\"/>\n                            </div>\n                            <div className=\"HardwareDeviceAccountRow__balance\">\n                                <span>{formatNativeTokenAmountToLargestUnit(balances?.dtokenwei)}</span>\n                                <img src=\"/img/tokens/dtoken_large@2x.png\"/>\n                            </div>\n                        </React.Fragment>\n                    }\n                    {\n                        _.isEmpty(balances) &&\n                        <MDSpinner singleColor=\"#ffffff\" size={16}/>\n                    }\n                </div>\n            </a>\n        );\n    }\n\n    return (\n        <div>\n            {\n                _.map(hardwareAccounts, (hardwareAccount) => {\n                    const address = hardwareAccount.address;\n                    const account = _.get(accounts, address, {});\n\n                    return renderHardwareAccount(hardwareAccount, account.balances);\n                })\n            }\n        </div>\n    )\n\n}\n\nclass UnlockWalletViaColdWalletUnconnected extends React.Component {\n    constructor(){\n        super();\n\n        this.state = {\n            hardware: '',\n            loading: false,\n            hardwareAccounts: [],\n            derivationPath: EthereumDerivationPath\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleChooseHardwareClick = this.handleChooseHardwareClick.bind(this);\n        this.handleTrezorClick = this.handleTrezorClick.bind(this);\n        this.handleLedgerClick = this.handleLedgerClick.bind(this);\n        this.handleDerivationPathChange = this.handleDerivationPathChange.bind(this);\n    }\n\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\n        return true;\n    }\n\n    connectHardware = async (hardware, page, derivationPath) => {\n        this.setState({\n            loading: true,\n        });\n\n        try {\n            const hardwareAccounts = await this.props.dispatch(connectHardware(hardware, page, derivationPath));\n\n            this.setState({\n                hardwareAccounts: hardwareAccounts\n            });\n        }\n        catch (e) {\n\n        }\n        finally {\n            setTimeout(() => {\n                this.setState({loading: false});\n            }, 1000);\n        }\n    }\n\n    goToNextPage = () => {\n        const {hardware, derivationPath} = this.state;\n\n        // Increment page by 1\n        this.connectHardware(hardware, 1, derivationPath);\n    }\n\n    goToPrevPage = () => {\n        const {hardware, derivationPath} = this.state;\n\n        // Decrement page by 1\n        this.connectHardware(hardware, -1, derivationPath);\n    }\n\n    isValid(){\n        return this.state.hardware.length > 0;\n    }\n\n    handleChange(event){\n        let name = event.target.name;\n        let value = event.target.value;\n\n        this.setState({[name]: value});\n    }\n\n    handleChooseHardwareClick(){\n        if(this.isValid()){\n            this.setState({loading: true});\n\n            setTimeout(() => {\n                this.connectHardware(this.state.hardware, 0, this.state.derivationPath);\n            }, 1000);\n        }\n    }\n\n    handleTrezorClick(){\n        this.setState({hardware: 'trezor'})\n    }\n\n    handleLedgerClick(){\n        this.setState({hardware: 'ledger'})\n    }\n\n    handleDerivationPathChange(e) {\n        this.setState({derivationPath: e.target.value});\n    }\n\n    onChooseHardwareAccount = (account) => {\n        const {hardware, derivationPath} = this.state;\n        let path = null;\n\n        if(hardware === 'trezor'){\n            path = derivationPath + account.index;\n        }\n        else if(hardware === 'ledger'){\n            path = account.serializedPath;\n        }\n\n        this.props.dispatch(unlockHardwareWalletAccount(account.index, account.address, hardware, path ));\n    };\n\n    render() {\n        const {accounts} = this.props;\n        const {hardwareAccounts, page} = this.state;\n        let isDisabled = (this.state.loading || this.isValid() === false);\n        let warning = \"\";\n\n        if(this.state.hardware === \"trezor\"){\n            warning = \"Please make sure your Trezor is connected before clicking 'Continue' below.\";\n        }\n        else if(this.state.hardware === \"ledger\"){\n            warning = \"Please make sure your Ledger is connected with the Ethereum app open before clicking 'Continue' below.\";\n        }\n\n        if(hardwareAccounts.length > 0){\n            return (\n                <div className=\"UnlockWalletViaColdWallet\">\n                    <div className=\"UnlockWalletViaColdWallet__title\">\n                        Choose account\n                    </div>\n                    <HardwareAccountsList hardwareAccounts={hardwareAccounts.slice()}\n                                          accounts={Object.assign({}, accounts)}\n                                          onClick={this.onChooseHardwareAccount}\n                    />\n\n                    <div className=\"UnlockWalletViaColdWallet__footer\">\n                        <a onClick={this.goToPrevPage}>{'< Prev'}</a>\n                        <div style={{flex: 1}}/>\n                        <a onClick={this.goToNextPage}>Next ></a>\n                    </div>\n                </div>\n            );\n        }\n\n        return (\n            <div className=\"UnlockWalletViaColdWallet\">\n                <div className=\"UnlockWalletViaColdWallet__title\">\n                    Choose hardware\n                </div>\n\n                <div className=\"UnlockWalletViaColdWallet__cold-wallet-hardware-select\">\n                    <HardwareOptionButton title=\"Trezor\"\n                                          iconUrl={(this.state.hardware === \"trezor\" ? \"/img/icons/checkmark-green@2x.png\" : null)}\n                                          isSelected={(this.state.hardware === \"trezor\")}\n                                          onClick={this.handleTrezorClick}\n                    />\n                    <HardwareOptionButton title=\"Ledger\"\n                                          iconUrl={(this.state.hardware === \"ledger\" ? \"/img/icons/checkmark-green@2x.png\" : null)}\n                                          isSelected={(this.state.hardware === \"ledger\")}\n                                          onClick={this.handleLedgerClick}\n                    />\n                </div>\n\n                <div className=\"UnlockWalletCard__warning\">\n                    {warning}\n                </div>\n\n                <div className=\"UnlockColdWalletLedger__choose-derivation-path\">\n                    {\n                        (this.state.hardware === \"ledger\") &&\n                        <select value={this.state.derivationPath}\n                                onChange={this.handleDerivationPathChange}\n                                className={\"UnlockColdWalletLedger__select\"}\n                        >\n                            <option value={EthereumDerivationPath}>Ethereum - m/44'/60'/0'/0</option>\n                            <option value={EthereumOtherDerivationPath}>Ethereum - m/44'/60'/0'</option>\n                            <option value={EthereumLedgerLiveDerivationPath}>Ethereum - Ledger Live - m/44'/60'</option>\n                        </select>\n                    }\n                </div>\n\n                <div className=\"UnlockWalletViaColdWallet__footer\">\n                    <GradientButton title=\"Connect\"\n                                    loading={this.state.loading}\n                                    onClick={this.handleChooseHardwareClick}\n                                    disabled={isDisabled}\n                    />\n                </div>\n            </div>\n        );\n    }\n}\nconst UnlockWalletViaColdWalletStateToProps = state => {\n    const {dneroWallet} = state;\n\n    return {\n        accounts: dneroWallet.accounts\n    };\n};\nconst UnlockWalletViaColdWallet = connect(UnlockWalletViaColdWalletStateToProps)(UnlockWalletViaColdWalletUnconnected);\n\n\nclass UnlockWalletCard extends React.Component {\n    render() {\n        let unlockWalletStrategyContent = null;\n\n        if(this.props.unlockStrategy === WalletUnlockStrategy.KEYSTORE_FILE){\n            unlockWalletStrategyContent = (\n                <UnlockWalletViaKeystoreFile unlockWallet={this.props.unlockWallet}/>\n            );\n        }\n        else if(this.props.unlockStrategy === WalletUnlockStrategy.MNEMONIC_PHRASE){\n            unlockWalletStrategyContent = (\n                <UnlockWalletViaMnemonicPhrase unlockWallet={this.props.unlockWallet}/>\n            );\n        }\n        else if(this.props.unlockStrategy === WalletUnlockStrategy.PRIVATE_KEY){\n            unlockWalletStrategyContent = (\n                <UnlockWalletViaPrivateKey unlockWallet={this.props.unlockWallet}/>\n            );\n        }\n        else if(this.props.unlockStrategy === WalletUnlockStrategy.COLD_WALLET){\n            unlockWalletStrategyContent = (\n                <UnlockWalletViaColdWallet/>\n            );\n        }\n\n        return (\n            <div className=\"UnlockWalletCard\">\n                <div className=\"UnlockWalletCard__content\">\n                    <div className=\"UnlockWalletCard__header\">\n                        <TabBar centered={true}\n                                condensed={true}\n                                className=\"UnlockWalletCard__tab-bar\">\n                            <TabBarItem\n                                title=\"Keystore\"\n                                href={\"/unlock/\" + WalletUnlockStrategy.KEYSTORE_FILE}\n                            />\n                            <TabBarItem\n                                title=\"Mnemonic\"\n                                href={\"/unlock/\" + WalletUnlockStrategy.MNEMONIC_PHRASE}\n                            />\n                            <TabBarItem\n                                title=\"Private Key\"\n                                href={\"/unlock/\" + WalletUnlockStrategy.PRIVATE_KEY}\n                            />\n                            <TabBarItem\n                                title=\"Hardware\"\n                                href={\"/unlock/\" + WalletUnlockStrategy.COLD_WALLET}\n                            />\n                        </TabBar>\n                    </div>\n\n                    {unlockWalletStrategyContent}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport class UnlockWalletPage extends React.Component {\n    constructor(){\n        super();\n    }\n\n    unlockWallet = (strategy, password, data) => {\n        this.props.dispatch(unlockWallet(strategy, password, data));\n    }\n\n    componentDidMount() {\n        let address = Wallet.getWalletAddress();\n\n        if(!_.isNil(address)){\n            // Incase the user went backwards after unlocking, reload the app\n            window.location.reload();\n        }\n    }\n\n    render() {\n        let unlockStrategy = this.props.match.params.unlockStrategy;\n\n        return (\n            <div className=\"UnlockWalletPage\">\n                <div className=\"UnlockWalletPage__wrapper\">\n                    <div className=\"UnlockWalletPage__title\">\n                        Unlock Your Wallet\n                    </div>\n\n                    <UnlockWalletCard unlockStrategy={unlockStrategy}\n                                      unlockWallet={this.unlockWallet}\n                    />\n\n                    <div className=\"UnlockWalletPage__subtitle\">\n                        <span>Don't have a wallet?</span>\n                        <Link to=\"/create\">Create Wallet</Link>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {};\n};\n\nexport default connect(mapStateToProps)(UnlockWalletPage);\n","const name = \"STAKES\";\n\nexport const FETCH_STAKES = `${name}/FETCH_STAKES`;\nexport const FETCH_STAKES_START = `${FETCH_STAKES}/START`;\nexport const FETCH_STAKES_END = `${FETCH_STAKES}/END`;\nexport const FETCH_STAKES_FAILURE = `${FETCH_STAKES}/FAILURE`;\nexport const FETCH_STAKES_SUCCESS = `${FETCH_STAKES}/SUCCESS`;\n\nexport const RESET = `${name}/RESET`;\n","import React from \"react\";\nimport './StakesTable.css';\nimport {BigNumber} from \"bignumber.js\";\nimport {numberWithCommas} from '../utils/Utils';\n\nconst ten18 = (new BigNumber(10)).pow(18); // 10^18, 1 Dnero = 10^18 DneroWei, 1 Gamma = 10^ DTokenWei\n\nfunction stakeTypeToNodeType(stakeType){\n    if(stakeType === 'vcp'){\n        return 'Validator';\n    }\n    else if(stakeType === 'gcp'){\n        return 'Sentry';\n    }\n    else if(stakeType === 'eenp'){\n        return 'Elite Edge';\n    }\n}\n\nfunction stakeTypeToTokenUrl(stakeType){\n    if(stakeType === 'vcp' || stakeType === 'gcp'){\n        return \"/img/tokens/dnero_large@2x.png\";\n    }\n    else if(stakeType === 'eenp'){\n        return \"/img/tokens/dtoken_large@2x.png\";\n    }\n}\n\nclass StakesTableRow extends React.Component {\n    render() {\n        let { stake } = this.props;\n        let {holder, amount, withdrawn, return_height, type} = stake;\n\n        const amountBn = (new BigNumber(amount)).dividedBy(ten18);\n\n        return (\n            <tr className=\"StakesTableRow\"\n            >\n                <td>{stakeTypeToNodeType(type)}</td>\n                <td>{holder}</td>\n                <td>\n                    <div className={'StakesTableRow__token-wrapper'}>\n                        <img className='StakesTableRow__token-img' src={stakeTypeToTokenUrl(type)}/>\n                        <div>{numberWithCommas(amountBn.toString())}</div>\n                    </div>\n                </td>\n                <td>{withdrawn ? \"Yes\" : \"No\"}</td>\n                <td>{withdrawn ? return_height : \"--\"}</td>\n            </tr>\n        );\n    }\n}\n\nclass StakesTable extends React.Component {\n    createRows(){\n        let stakes = this.props.stakes;\n\n        return this.props.stakes.map(function(stake, index){\n            return <StakesTableRow key={ stake._id }\n                                   stake={stake}\n            />;\n        });\n    };\n\n    render() {\n        return (\n            <table className=\"StakesTable\"\n                   cellSpacing=\"0\"\n                   cellPadding=\"0\">\n                <thead>\n                    <tr>\n                        <th className=\"StakesTable__header--node-type\">Node Type</th>\n                        <th className=\"StakesTable__header--holder\">Holder</th>\n                        <th className=\"StakesTable__header--amount\">Amount</th>\n                        <th className=\"StakesTable__header--withdrawn\">Withdrawn</th>\n                        <th className=\"StakesTable__header--return-height\">Return Height</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {this.createRows()}\n                </tbody>\n            </table>\n        );\n    }\n}\n\nexport default StakesTable;\n","import _ from 'lodash';\nimport React from \"react\";\nimport {connect} from 'react-redux'\nimport './StakesPage.css';\nimport PageHeader from \"../components/PageHeader\";\nimport {fetchStakes} from \"../state/actions/Stakes\";\nimport GhostButton from \"../components/buttons/GhostButton\";\nimport {showModal} from \"../state/actions/ui\";\nimport ModalTypes from \"../constants/ModalTypes\";\nimport StakesTable from \"../components/StakesTable\";\nimport EmptyState from \"../components/EmptyState\";\nimport MDSpinner from \"react-md-spinner\";\nimport Wallet from \"../services/Wallet\";\nimport {canStakeFromHardwareWallet} from '../Flags';\nimport {updateAccountStakes} from \"../state/actions/Wallet\";\nimport {DefaultAssets, getAllAssets, DDropAsset, tokenToAsset} from \"../constants/assets\";\nimport {Jazzicon} from \"@ukstv/jazzicon-react\";\nimport {formatDNC20TokenAmountToLargestUnit, trimDecimalPlaces, truncate} from \"../utils/Utils\";\n\nconst sampleStakes = [\n    {\n        \"_id\": \"vcp_0xe8a650b6e34650f4be29eb5dc97a60263085cea1_0x95944d0f9c86794284abc375616c83b0e6a1a8b7\",\n        \"amount\": \"10000000000000000000000\",\n        \"holder\": \"0xe8a650b6e34650f4be29eb5dc97a60263085cea1\",\n        \"return_height\": \"18446744073709551615\",\n        \"source\": \"0x95944d0f9c86794284abc375616c83b0e6a1a8b7\",\n        \"type\": \"vcp\",\n        \"withdrawn\": false\n    },\n    {\n        \"_id\": \"gcp_0xe8a650b6e34650f4be29eb5dc97a60263085cea1_0x95944d0f9c86794284abc375616c83b0e6a1a8b7\",\n        \"amount\": \"2000000000000000000000000\",\n        \"holder\": \"0xe8a650b6e34650f4be29eb5dc97a60263085cea1\",\n        \"return_height\": \"18446744073709551615\",\n        \"source\": \"0x95944d0f9c86794284abc375616c83b0e6a1a8b7\",\n        \"type\": \"gcp\",\n        \"withdrawn\": false\n    },\n    {\n        \"_id\": \"eenp_0xe8a650b6e34650f4be29eb5dc97a60263085cea1_0x95944d0f9c86794284abc375616c83b0e6a1a8b7\",\n        \"amount\": \"10000000000000000000000\",\n        \"holder\": \"0xe8a650b6e34650f4be29eb5dc97a60263085cea1\",\n        \"return_height\": \"18446744073709551615\",\n        \"source\": \"0x95944d0f9c86794284abc375616c83b0e6a1a8b7\",\n        \"type\": \"eenp\",\n        \"withdrawn\": false\n    }\n];\n\nclass StakesPage extends React.Component {\n    handleDepositStakeClick = () => {\n        const hardware = Wallet.getWalletHardware();\n\n        if(hardware === \"ledger\" && canStakeFromHardwareWallet() === false){\n            alert(\"Staking from hardware Ledger Wallet will be supported soon. Stay tuned!\");\n        }\n        else{\n            this.props.dispatch(showModal({\n                type: ModalTypes.CREATE_TRANSACTION,\n                props: {\n                    transactionType: 'deposit-stake'\n                }\n            }));\n        }\n    };\n\n    handleWithdrawStakeClick = () => {\n        const hardware = Wallet.getWalletHardware();\n\n        if(hardware === \"ledger\" && canStakeFromHardwareWallet() === false){\n            alert(\"Staking from hardware Ledger Wallet will be supported soon. Stay tuned!\");\n        }\n        else{\n            this.props.dispatch(showModal({\n                type: ModalTypes.CREATE_TRANSACTION,\n                props: {\n                    transactionType: 'withdraw-stake'\n                }\n            }));\n        }\n    };\n\n    handleChangeDDROPVoteDelegateClick = () => {\n        this.props.dispatch(showModal({\n            type: ModalTypes.CREATE_TRANSACTION,\n            props: {\n                transactionType: 'delegate-ddrop-vote'\n            }\n        }));\n    };\n\n    fetchStakes = () => {\n        const {selectedAddress} = this.props;\n        this.props.dispatch(updateAccountStakes(selectedAddress, false));\n    };\n\n    startPollingStakes(){\n        //Fetch it immediately\n        this.fetchStakes();\n\n        this.pollStakesIntervalId = setInterval(this.fetchStakes, 60000);\n    }\n\n    stopPollingStakes(){\n        if(this.pollStakesIntervalId){\n            clearInterval(this.pollStakesIntervalId);\n        }\n    }\n\n    componentDidMount(){\n        this.startPollingStakes()\n    }\n\n    componentWillUnmount(){\n        this.stopPollingStakes();\n    }\n\n    renderDDROPCard = () => {\n        const {selectedAccount, chainId} = this.props;\n        const dDropAsset = DDropAsset(chainId);\n        const address = dDropAsset.contractAddress;\n        const symbol = dDropAsset.symbol;\n        const decimals = dDropAsset.decimals;\n        const dnc20stakes = _.get(selectedAccount, ['dnc20Stakes'], {});\n        const balanceStr = _.get(dnc20stakes, 'ddrop.balance', '0');\n        const votingPowerStr = _.get(dnc20stakes, 'ddrop.votingPower', '0');\n        const estimatedDDROPStr = _.get(dnc20stakes, 'ddrop.estimatedTokenOwnedWithRewards', '0');\n        const votingDelegate = _.get(dnc20stakes, 'ddrop.votingDelegate', null);\n\n\n        return (\n            <div className={'Balance'}\n                 key={address}\n            >\n                <div className='Balance__icon-wrapper'>\n                    {\n                        dDropAsset.iconUrl &&\n                        <img className={'Balance__icon'}\n                             src={dDropAsset.iconUrl}/>\n                    }\n                    {\n                        _.isNil(dDropAsset.iconUrl) &&\n                        <Jazzicon address={address} />\n                    }\n                </div>\n                <div className={'Balance__name'}>{symbol}</div>\n                {\n                    (balanceStr === '0') &&\n                    <div className={'Balance__amount'} style={{marginLeft: 'auto'}}>\n                        <div className={'Balance__amount-title-and-value'}>\n                            <span className={'Balance__amount-title'}>Staked: </span><span className={'Balance__amount-value'}>0</span>\n                        </div>\n                    </div>\n                }\n                {\n                    (balanceStr !== '0') &&\n                    <div className={'Balance__amount'} style={{marginLeft: 'auto'}}>\n                        <div className={'Balance__amount-title-and-value'}>\n                            <span className={'Balance__amount-title'}>Voting power: </span><span className={'Balance__amount-value'}>{`${trimDecimalPlaces(votingPowerStr, 5)}%`}</span>\n                        </div>\n                        <div className={'Balance__amount-title-and-value'}>\n                            <span className={'Balance__amount-title'}>Staked + reward (est.): </span><span className={'Balance__amount-value'}>{trimDecimalPlaces(formatDNC20TokenAmountToLargestUnit(estimatedDDROPStr, decimals), 5)}</span>\n                        </div>\n                        <div className={'Balance__amount-title-and-value'}>\n                            <span className={'Balance__amount-title'}>Votes delegated to:</span><span className={'Balance__amount-value'}>{truncate(votingDelegate)}</span>\n                            <a style={{marginLeft: 6}}\n                               onClick={this.handleChangeDDROPVoteDelegateClick}\n                            >Change</a>\n                        </div>\n                    </div>\n                }\n            </div>\n        );\n    }\n\n    render() {\n        const {selectedAddress, selectedIdentity, selectedAccount, assets, chainId, isLoading} = this.props;\n        const stakes = _.get(selectedAccount, ['stakes'], []);\n        const dDropAsset = DDropAsset(chainId);\n        const isFetchingStakes = false;\n\n        return (\n            <div className=\"StakesPage\">\n                <div className=\"StakesPage__detail-view\">\n                    <PageHeader title=\"Stakes\"\n                                sticky={true}\n                    >\n                        <div className=\"StakesPage__header-buttons\">\n                            <GhostButton title=\"Deposit Stake\"\n                                         iconUrl=\"/img/icons/stake-deposit@2x.png\"\n                                         onClick={this.handleDepositStakeClick}/>\n                            <GhostButton title=\"Withdraw Stake\"\n                                         iconUrl=\"/img/icons/stake-withdraw@2x.png\"\n                                         style={{marginLeft: 12}}\n                                         onClick={this.handleWithdrawStakeClick}/>\n                        </div>\n                    </PageHeader>\n\n                    <div>\n                    {\n                        dDropAsset &&\n                        this.renderDDROPCard()\n                    }\n                    </div>\n\n\n                    {\n                        (stakes.length === 0 && isFetchingStakes === false) &&\n                        <EmptyState title={'No DNERO/DTOKEN Stakes'}\n                                    subtitle={'Stake to earn tokens'}\n                        />\n                    }\n\n                    {\n                        isFetchingStakes &&\n                        <MDSpinner singleColor=\"#ffffff\" className=\"StakesPage__detail-view-spinner\"/>\n                    }\n\n                    {\n                        stakes.length > 0 &&\n                        <StakesTable stakes={stakes}/>\n                    }\n\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    const {dneroWallet} = state;\n    const selectedAddress = dneroWallet.selectedAddress;\n    const identities = dneroWallet.identities;\n    const accounts = dneroWallet.accounts;\n    const tokens = dneroWallet.tokens;\n    const chainId = dneroWallet.network.chainId;\n\n    return {\n        selectedAddress: selectedAddress,\n        selectedIdentity: identities[selectedAddress],\n        selectedAccount: accounts[selectedAddress],\n        chainId: chainId,\n\n        assets: getAllAssets(chainId, tokens),\n    };\n};\n\nexport default connect(mapStateToProps)(StakesPage);\n","import React from \"react\";\nimport './OfflinePage.css';\nimport GradientButton from '../components/buttons/GradientButton'\n\n//The user's wifi will be off so the img tag won't load a remote image, let's inline one\nconst OfflineIcon = \"data:image/png;base64,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\";\n\nclass OfflineCard extends React.Component {\n    render() {\n        return (\n            <div className=\"OfflineCard\">\n                <div className=\"OfflineCard__content\">\n                    <div className=\"OfflineCard__header\"/>\n\n                    <div className=\"OfflineCard__body\">\n                        <img className=\"OfflineCard__icon\" src={OfflineIcon}/>\n\n                        <div className=\"OfflineCard__title\">\n                            You're offline!\n                        </div>\n                        <div className=\"OfflineCard__message\">\n                            Your wallet has been unlocked. You may enable your internet connection now. Once your connection is enabled, press ‘Continue’.\n                        </div>\n                    </div>\n\n                    <div className=\"OfflineCard__footer\">\n                        <GradientButton title=\"Continue\"\n                                        href=\"/wallet\"\n                        />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nclass OfflinePage extends React.Component {\n    constructor(){\n        super();\n\n        this.handleContinue = this.handleContinue.bind(this);\n    }\n\n    handleContinue(){\n\n    }\n\n    render() {\n        return (\n            <div className=\"CreateWalletPage\">\n                <div className=\"CreateWalletPage__wrapper\">\n                    <div className=\"CreateWalletPage__title\">\n                        {\"\"}\n                    </div>\n                    <OfflineCard onContinue={this.handleContinue}/>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default OfflinePage;","import {BigNumber} from 'bignumber.js';\nimport _ from 'lodash';\nimport React, {Fragment, useState, useEffect} from \"react\";\nimport {connect} from 'react-redux'\nimport './ContractPage.css';\nimport GradientButton from \"../components/buttons/GradientButton\";\nimport TabBarItem from \"../components/TabBarItem\";\nimport TabBar from \"../components/TabBar\";\nimport ContractModes from \"../constants/ContractModes\";\nimport Web3 from \"web3\";\nimport {useForm} from 'react-hook-form';\nimport Dnero from \"../services/Dnero\";\nimport Wallet from \"../services/Wallet\";\nimport DneroJS from \"../libs/dnerojs.esm\";\nimport {store} from \"../state\";\nimport PageHeader from \"../components/PageHeader\";\nimport {getQueryParameters, zipMap} from \"../utils/Utils\";\nimport Api from \"../services/Api\";\nimport {createSmartContractTransaction} from \"../state/actions/Transactions\";\n\nconst web3 = new Web3(\"http://localhost\");\n\nfunction isReadFunction(functionData){\n    const constant = _.get(functionData, ['constant'], null);\n    const stateMutability = _.get(functionData, ['stateMutability'], null);\n\n    return (stateMutability === \"view\" || stateMutability === \"pure\" || constant === true);\n}\n\nfunction initContract(abiStr, address) {\n    try {\n        const abiJSON = parseJSON(abiStr);\n\n        return new web3.eth.Contract(abiJSON, address);\n    } catch (e) {\n        return null;\n    }\n}\n\nfunction parseJSON(value) {\n    try {\n        const json = JSON.parse(value);\n\n        return json;\n    } catch (e) {\n        return null;\n    }\n}\n\nfunction isValidByteCode(value) {\n    const json = parseJSON(value);\n\n    return (_.isNil((json && json['object'])) === false);\n}\n\nfunction validateByteCode(value) {\n    return (isValidByteCode(value) || \"Invalid byte code\");\n}\n\nfunction isValidABI(value) {\n    const json = parseJSON(value);\n\n    try {\n        return (_.isNil((json && (new web3.eth.Contract(json, null)))) === false);\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction validateAddress(value) {\n    return (web3.utils.isAddress(value) || \"Invalid address\");\n}\n\nfunction validateABI(value) {\n    return (isValidABI(value) || \"Invalid ABI/JSON interface\");\n}\n\nfunction validateFunctionName(value) {\n    if (_.isNil(value) || value.length === 0) {\n        return \"Function is required\"\n    } else {\n        return true;\n    }\n}\n\nfunction validateInput(type, value) {\n    return true;\n\n    try {\n        return _.isNil(web3.eth.abi.encodeParameter(type, JSON.parse(value))) === false;\n    } catch (e) {\n        return \"Invalid value for type of \" + type;\n    }\n}\n\nfunction getFunctions(jsonInterface) {\n    const functions = _.filter(jsonInterface, function (o) {\n        return (o.type === \"function\");\n    });\n\n    return functions;\n}\n\nfunction getConstructor(jsonInterface) {\n    const constructors = _.filter(jsonInterface, function (o) {\n        return (o.type === \"constructor\");\n    });\n\n    return _.first(constructors);\n}\n\nfunction Inputs(title, inputs, formHook) {\n    const {register, errors} = formHook;\n\n    return (\n        <div>\n            {\n                inputs.length > 0 &&\n                <div>\n                    <div className=\"FormSectionTitle\">{ title }</div>\n                    <div className=\"FormColumns\">\n                        {\n                            inputs.map((value, index) => {\n                                const {name, type} = value;\n                                const argName = `arg${index}`;\n                                const key = `inputs.${argName}`;\n\n                                return (\n                                    <Fragment key={key}>\n                                        <div className=\"FormColumn\">\n                                            <div className=\"InputTitle\">{name + \" (\" + type + \")\"}</div>\n                                            <input className=\"RoundedInput\"\n                                                   placeholder={\"Enter \" + name}\n                                                   name={key}\n                                                   ref={register({\n                                                       required: \"Input \" + name + \" is required\",\n                                                       validate: (val) => {\n                                                           return validateInput(type, val)\n                                                       }\n                                                   })}\n                                            />\n                                            {_.get(errors, ['inputs', argName]) && <div\n                                                className=\"InputError\">{_.get(errors, ['inputs', argName, 'message'])}</div>}\n                                        </div>\n                                    </Fragment>\n                                );\n                            })\n                        }\n                    </div>\n                </div>\n            }\n        </div>\n    )\n}\n\nfunction DeployContractForm(props) {\n    const {onSubmit} = props;\n    const {register, handleSubmit, errors, watch} = useForm({\n        mode: 'onChange',\n    });\n    const abi = watch(\"abi\");\n    const byteCode = watch(\"byteCode\");\n    const contract = initContract(abi, null);\n    const jsonInterface = _.get(contract, ['options', 'jsonInterface']);\n    const constructor = getConstructor(jsonInterface);\n    const constructorInputs = _.get(constructor, ['inputs'], []);\n\n    window.contract = contract;\n\n    return (\n        <form onSubmit={handleSubmit(onSubmit)}>\n\n            <div className=\"FormColumns\">\n                {/*ABI/JSON Interface Section*/}\n                <div className=\"FormColumn\">\n                    <div className=\"FormSectionTitle\">ABI/JSON Interface</div>\n                    <textarea className=\"RoundedInput\"\n                              placeholder=\"Paste ABI/JSON interface\"\n                              name=\"abi\"\n                              ref={register({\n                                  required: \"Contract ABI/JSON interface is required.\",\n                                  validate: validateABI\n                              })}\n                    />\n                    {errors.abi && <div className=\"InputError\">{errors.abi.message}</div>}\n                </div>\n\n                {/*Byte Code Section*/}\n                <div className=\"FormColumn\">\n                    <div className=\"FormSectionTitle\">Byte Code</div>\n                    <textarea className=\"RoundedInput\"\n                              placeholder=\"Paste byte code\"\n                              name=\"byteCode\"\n                              ref={register({\n                                  required: \"Contract byte code is required.\",\n                                  validate: validateByteCode\n                              })}\n                    />\n                    {errors.byteCode && <div className=\"InputError\">{errors.byteCode.message}</div>}\n                </div>\n            </div>\n\n            {\n                Inputs(\"Constructor Inputs\", constructorInputs, {\n                    register: register,\n                    errors: errors\n                })\n            }\n\n            <GradientButton title=\"Deploy Contract\"\n                            style={{marginTop: 15}}\n                            disabled={(_.size(errors) > 0) || _.isNil(abi) || _.isNil(byteCode)}\n                            onClick={handleSubmit(onSubmit)}\n            />\n        </form>\n    );\n}\n\nfunction InteractWithContractForm(props) {\n    const {defaultFormValues, disabled, loading, onSubmit, onChange} = props;\n    const defaultValues = _.merge({\n        functionName: \"\"\n    }, defaultFormValues);\n\n    const {register, handleSubmit, errors, watch, setValue} = useForm({\n        mode: 'onChange',\n        defaultValues: defaultValues\n    });\n    const [lastFormState, setLastFormState] = useState(defaultValues);\n    const formState = watch(); // watching every fields in the form\n    const isDirty = (_.isEqual(lastFormState, formState) === false);\n\n    useEffect(() => {\n        if (isDirty) {\n            setLastFormState(formState);\n\n            if (onChange) {\n                onChange();\n            }\n        }\n    }, [isDirty, formState, onChange, setValue]);\n\n    const abi = watch(\"abi\");\n    const address = watch(\"address\");\n    const functionName = watch(\"functionName\");\n    const contract = initContract(abi, null);\n    const jsonInterface = _.get(contract, ['options', 'jsonInterface']);\n    const functions = getFunctions(jsonInterface) || [];\n    const functionsByName = zipMap(functions.map(({name}) => name), functions);\n    const functionData = _.get(functionsByName, [functionName]);\n    const functionInputs = _.get(functionData, ['inputs'], []);\n    const isFunctionReadOnly = isReadFunction(functionData);\n\n    return (\n        <form onSubmit={handleSubmit(onSubmit)}>\n\n            {/*Contract Name Section*/}\n            <div className=\"FormSectionTitle\">Contract Address</div>\n            <input className=\"RoundedInput\"\n                   placeholder=\"Enter contract address\"\n                   name=\"address\"\n                   ref={register({\n                       required: \"Contract address is required.\",\n                       validate: validateAddress\n                   })}\n            />\n            {errors.address && <div className=\"InputError\">{errors.address.message}</div>}\n\n\n            {/*ABI/JSON Interface Section*/}\n            <div className=\"FormColumns\">\n\n                <div className=\"FormColumn\">\n                    <div className=\"FormSectionTitle\">ABI/JSON Interface</div>\n                    <textarea className=\"RoundedInput\"\n                              placeholder=\"Paste ABI/JSON interface\"\n                              name=\"abi\"\n                              ref={register({\n                                  required: \"Contract ABI/JSON interface is required.\",\n                                  validate: validateABI\n                              })}\n                    />\n                    {errors.abi && <div className=\"InputError\">{errors.abi.message}</div>}\n                </div>\n\n                {\n                    functions.length > 0 &&\n                    <div className=\"FormColumn\">\n                        <div className=\"FormSectionTitle\">Function</div>\n                        <select name=\"functionName\"\n                                className=\"RoundedInput\"\n                                placeholder=\"Choose function\"\n                                ref={register({\n                                    required: \"Function is required.\",\n                                    validate: validateFunctionName\n                                })}\n                        onChange={() => {\n\n                        }}>\n                            <option value={\"\"}\n                                    key={\"__placeholder__\"}>\n                                Choose function\n                            </option>\n                            {\n                                functions.map((value, index) => {\n                                    const {name, type} = value;\n                                    return (\n                                        <option value={name}\n                                                key={name}\n                                        >{name}</option>\n                                    );\n                                })\n                            }\n                        </select>\n                        {errors.functionName && <div className=\"InputError\">{errors.functionName.message}</div>}\n                    </div>\n                }\n\n            </div>\n\n            {\n                Inputs(\"Function Inputs\", functionInputs, {\n                    register: register,\n                    errors: errors\n                })\n            }\n\n            <GradientButton title={isFunctionReadOnly ? \"Read\" : \"Write\"}\n                            style={{marginTop: 15}}\n                            disabled={disabled || (_.size(errors) > 0) || _.isNil(abi) || _.isNil(address) || _.isNil(functionName)}\n                            loading={loading}\n                            onClick={handleSubmit(onSubmit)}\n            />\n        </form>\n    );\n}\n\n\nclass DeployContractContent extends React.Component {\n    constructor() {\n        super();\n\n        this.defaultState = {\n            loading: false,\n        };\n\n        this.state = this.defaultState;\n    }\n\n    onSubmit = (formData) => {\n        const {abi, byteCode, inputs} = formData;\n        const byteCodeJson = parseJSON(byteCode);\n        const contract = initContract(abi, null);\n        const jsonInterface = _.get(contract, ['options', 'jsonInterface']);\n        const constructor = getConstructor(jsonInterface);\n        const constructorInputs = _.get(constructor, ['inputs'], []);\n\n        const constructorInputTypes = _.map(constructorInputs, ({name, type}) => {\n            return type;\n        });\n        const constructorInputValues = _.map(constructorInputs, ({name, type}, index) => {\n            let val = inputs[`arg${index}`];\n\n            if(type.includes('[]')){\n                return parseJSON(val);\n            }\n            else if(type === \"boolean\" || type === \"bool\"){\n                return Boolean(parseJSON(val));\n            }\n\n            return val;\n        });\n        const encodedParameters = web3.eth.abi.encodeParameters(constructorInputTypes, constructorInputValues).slice(2);\n        const from = Wallet.getWalletAddress();\n        const data = byteCodeJson.object + encodedParameters;\n        const value = 0;\n\n        store.dispatch(createSmartContractTransaction(ContractModes.DEPLOY, abi, {\n                from: from,\n                to: null,\n                data: data,\n                value: value,\n            }\n        ));\n    };\n\n    render() {\n        return (\n            <div className=\"DeployContractContent\">\n                <DeployContractForm onSubmit={this.onSubmit}/>\n            </div>\n        );\n    }\n}\n\nclass InteractWithContractContent extends React.Component {\n    constructor() {\n        super();\n\n        this.defaultState = {\n            loading: false,\n\n            result: null\n        };\n\n        this.state = this.defaultState;\n    }\n\n    onSubmit = async (formData) => {\n        const {address, abi, functionName, inputs} = formData;\n        const contract = initContract(abi, address);\n        const jsonInterface = _.get(contract, ['options', 'jsonInterface']);\n        const functions = getFunctions(jsonInterface) || [];\n        const functionsByName = zipMap(functions.map(({name}) => name), functions);\n        const functionData = _.get(functionsByName, [functionName]);\n        const functionInputs = _.get(functionData, ['inputs'], []);\n        const functionOutputs = _.get(functionData, ['outputs'], []);\n        const functionSignature = _.get(functionData, ['signature']).slice(2);\n        const isFunctionReadOnly = isReadFunction(functionData);\n\n        const inputTypes = _.map(functionInputs, ({name, type}) => {\n            return type;\n        });\n        const inputValues = _.map(functionInputs, ({name, type}, index) => {\n            let val = inputs[`arg${index}`];\n            if(type.includes('[]')){\n                return parseJSON(val);\n            }\n            else if(type === \"boolean\" || type === \"bool\"){\n                return Boolean(parseJSON(val));\n            }\n\n            return val;\n        });\n        const encodedParameters = web3.eth.abi.encodeParameters(inputTypes, inputValues).slice(2);\n\n        const feeInDTokenWei = (new BigNumber(10)).pow(12);\n        const from = Wallet.getWalletAddress();\n        const gasPrice = Dnero.getSmartContractGasPrice(); //feeInDTokenWei;\n        const gasLimit = 10000000;\n        const data = functionSignature + encodedParameters;\n        const value = 0;\n        const senderSequence = 1;\n\n        if (isFunctionReadOnly) {\n            this.setState({\n                isLoading: true,\n                callResult: null\n            });\n\n            //Call smart contract (no signing)\n            const senderSequence = 1;\n            const tx = Dnero.unsignedSmartContractTx({\n                from: from,\n                to: address,\n                data: data,\n                value: value,\n                transactionFee: gasPrice,\n                gasLimit: gasLimit\n            }, senderSequence);\n            const rawTxBytes = DneroJS.TxSigner.serializeTx(tx);\n\n            try{\n                const callResponse = await Api.callSmartContract({data: rawTxBytes.toString('hex').slice(2)}, {network: Dnero.getChainID()});\n                const callResponseJSON = await callResponse.json();\n                const result = _.get(callResponseJSON, 'result');\n                const errorMessage  = _.get(result, 'vm_error');\n\n                this.setState({\n                    callResult: _.merge(result, {\n                        outputs: functionOutputs,\n                        decodedParameters: web3.eth.abi.decodeParameters(functionOutputs, _.get(result, 'vm_return'))\n                    }),\n                    isLoading: false\n                });\n            }\n            catch (e) {\n                //Stop loading and put the error message in the vm_error like it came fromm the blockchain.\n                this.setState({\n                    isLoading: false,\n                    callResult: {\n                        vm_error: e.message\n                    }\n                });\n            }\n\n        } else {\n            store.dispatch(createSmartContractTransaction(ContractModes.INTERACT, abi, {\n                    from: from,\n                    to: address,\n                    data: data,\n                    value: value,\n                }\n            ));\n        }\n    };\n\n    onChange = () => {\n        this.setState({\n            callResult: null\n        });\n    };\n\n    render() {\n        const {defaultFormValues} = this.props;\n        const {isLoading, callResult} = this.state;\n        const error = _.get(callResult, 'vm_error');\n\n        return (\n            <div className=\"InteractWithContractContent\">\n                <InteractWithContractForm defaultFormValues={defaultFormValues}\n                                          onSubmit={this.onSubmit}\n                                          onChange={this.onChange}\n                                          loading={isLoading}\n                                          disabled={isLoading}\n                />\n                {\n                    error &&\n                    <div className=\"InputError\"\n                         style={{\n                             marginTop: 20\n                         }}>\n                        {error}\n                    </div>\n                }\n                {\n                    callResult &&\n                    <div style={{\n                        marginTop: 20\n                    }}>\n                        <div>\n                            <div className=\"InputTitle\">Raw Result</div>\n                            <input className=\"RoundedInput\"\n                                   name={\"vm_return\"}\n                                   value={_.get(callResult, 'vm_return')}\n                                   readOnly\n                            />\n                        </div>\n                    </div>\n                }\n                {\n                    callResult &&\n                    <div className=\"FormColumns\">\n                        {\n                            _.get(callResult, 'outputs', []).map((value, index) => {\n                                const {name, type} = value;\n                                return (\n                                    <Fragment key={name}>\n                                        <div className=\"FormColumn\">\n                                            <div className=\"InputTitle\">{name + \" (\" + type + \")\"}</div>\n                                            <input className=\"RoundedInput\"\n                                                   value={_.get(callResult, ['decodedParameters', index])}\n                                                   readOnly\n                                            />\n                                        </div>\n                                    </Fragment>\n                                );\n                            })\n                        }\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\n\nclass ContractPage extends React.Component {\n    render() {\n        let contractMode = this.props.match.params.contractMode;\n        let queryParams = getQueryParameters(this.props.history.location.search);\n        if (queryParams['abi']) {\n            queryParams['abi'] = atob(queryParams['abi']);\n        }\n\n        return (\n            <div className=\"ContractPage\">\n                <div className=\"ContractPage__detail-view\">\n                    <PageHeader title={null}\n                                sticky={true}>\n                        <TabBar centered={true}\n                                condensed={false}\n                                style={{width: \"100%\"}}\n                        >\n                            <TabBarItem\n                                title=\"Deploy Contract\"\n                                href={\"/wallet/contract/\" + ContractModes.DEPLOY}\n                            />\n                            <TabBarItem\n                                title=\"Interact with Contract\"\n                                href={\"/wallet/contract/\" + ContractModes.INTERACT}\n                            />\n                        </TabBar>\n                    </PageHeader>\n\n                    {\n                        (contractMode === ContractModes.DEPLOY) &&\n                        <DeployContractContent/>\n                    }\n                    {\n                        (contractMode === ContractModes.INTERACT) &&\n                        <InteractWithContractContent defaultFormValues={queryParams}/>\n                    }\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {};\n};\n\nexport default connect(mapStateToProps)(ContractPage);\n","import React from \"react\";\nimport './Pages.css';\nimport {Route, Redirect, Switch} from \"react-router-dom\";\nimport WalletPage from './pages/WalletPage'\nimport SettingsPage from './pages/SettingsPage'\nimport OnboardingPage from './pages/OnboardingPage'\nimport CreateWalletPage from './pages/CreateWalletPage'\nimport UnlockWalletPage from './pages/UnlockWalletPage'\nimport StakesPage from './pages/StakesPage'\nimport Wallet from './services/Wallet'\nimport OfflinePage from \"./pages/OfflinePage\";\nimport ContractPage from \"./pages/ContractPage\";\nimport ContractModes from \"./constants/ContractModes\";\n\nexport class Pages extends React.Component {\n    render() {\n        return (\n            <div className=\"Pages\">\n                <Switch>\n                    <Redirect from='/onboarding' to='/onboarding/0' exact={true}/>\n                    <Route path=\"/onboarding/:onboardingStep\" component={OnboardingPage}/>\n                </Switch>\n\n                <Route path=\"/create\" component={CreateWalletPage}/>\n\n                <Switch>\n                    <Redirect from='/unlock' to='/unlock/keystore-file' exact={true}/>\n                    <Route path=\"/unlock/:unlockStrategy\" component={UnlockWalletPage}/>\n                </Switch>\n\n                <Route path=\"/offline\" component={OfflinePage}/>\n            </div>\n        );\n    }\n}\n\nexport class WalletPages extends React.Component {\n    render() {\n        return (\n            <div className=\"Pages Pages--wallet\">\n                <Switch>\n                    {\n                        Wallet.unlocked() === false && <Redirect to='/unlock'/>\n                    }\n\n                    <Redirect from='/wallet/contract/' to={('/wallet/contract/' + ContractModes.DEPLOY)} exact={true}/>\n                    <Route path=\"/wallet/contract/:contractMode\" component={ContractPage}/>\n\n                    <Route path=\"/wallet/settings\" component={SettingsPage}/>\n\n                    <Route path=\"/wallet/stakes\" component={StakesPage}/>\n\n                    <Redirect from='/wallet' to='/wallet/tokens/dnero' exact={true}/>\n                    <Redirect from='/wallet/tokens' to='/wallet/tokens/dnero' exact={true}/>\n                    <Route path=\"/wallet/tokens/:tokenType\" component={WalletPage}/>\n\n                    <Route path=\"/offline\" component={OfflinePage}/>\n                </Switch>\n            </div>\n        );\n    }\n}\n","import React from 'react'\nimport './Modal.css';\n\nexport default class Modal extends React.Component {\n    render() {\n        return (\n            <div className=\"Modal\">\n                {\n                    this.props.closeable !== false &&\n                    <a className=\"Modal__close-button\" onClick={(e) =>{\n                        e.preventDefault();\n                    }}>\n                        <img src=\"/img/icons/modal-x@2x.png\"/>\n                    </a>\n                }\n                {this.props.children}\n            </div>\n        )\n    }\n}\n","import React from 'react';\nimport './Warning.css';\n\nconst classNames = require('classnames');\n\nconst Warning = ({ message, learnMoreHref, style, className }) => {\n    let combinedClassName = classNames(\"Warning\", className);\n\n    return (\n        <div style={style} className={combinedClassName}>\n            <span className=\"Warning__message\">{message}</span>\n            <a className=\"Warning__learn-more\"\n               href={learnMoreHref}\n               target={'_blank'}\n               rel='noopener noreferrer'\n            >Learn more</a>\n        </div>\n    );\n};\n\nexport default Warning;\n","export const Urls = {\n    PreventingLostTokens: 'https://docs.dnerochain.org/docs/preventing-lost-eth-erc20-tokens'\n};\n","import React from 'react'\nimport './ReceiveModal.css';\nimport Modal from '../components/Modal'\nimport Wallet from '../services/Wallet'\nimport GhostButton from '../components/buttons/GhostButton'\nimport {copyToClipboard} from \"../utils/Utils\";\nimport Alerts from '../services/Alerts'\nimport {getNetworkFaucetId, getNetworkName} from \"../constants/Networks\";\nimport Dnero from \"../services/Dnero\";\nimport Api from \"../services/Api\";\nimport _ from 'lodash';\nimport Warning from \"../components/Warning\";\nimport {Urls} from \"../constants/Urls\";\nimport Config from '../Config';\nimport TransportWebUSB from \"@ledgerhq/hw-transport-webusb\";\nimport TransportU2F from \"@ledgerhq/hw-transport-u2f\";\nimport Eth from \"@ledgerhq/hw-app-eth\";\n\nexport default class ReceiveModal extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            isLoading: false\n        };\n    }\n\n    handleCopyAddressClick = () => {\n        let address = Wallet.getWalletAddress();\n\n        copyToClipboard(address);\n\n        Alerts.showSuccess(\"Your address has been copied\");\n    };\n\n    handleDisplayOnLedgerClick = async () => {\n        try {\n            Alerts.showSuccess(\"Your address will be displayed on Ledger device\");\n            let transport;\n            if(navigator.userAgent.toLowerCase().indexOf('firefox') > -1){\n                transport = await TransportU2F.create();\n            }\n            else {\n                transport = await TransportWebUSB.create();\n            }\n            var eth = new Eth(transport);\n            await eth.getAddress(Wallet.getWalletPath(), true, false);\n        } catch(e) {\n            Alerts.showSuccess(\"Rejected, please refresh to change address\");\n        }\n    };\n\n    handleFaucetClick = async () => {\n        this.setState({\n            isLoading: true\n        });\n\n        try {\n            const response = await Api.callFaucet(Wallet.getWalletAddress(), getNetworkFaucetId(Dnero.getChainID()));\n            const responseJSON = await response.json();\n\n            if (_.get(responseJSON, 'message')) {\n                Alerts.showSuccess(\"Your DTOKEN has been sent.\");\n            }\n        } catch (e) {\n            Alerts.showError(\"You have exceeded the faucet limit\");\n        } finally {\n            this.setState({\n                isLoading: false\n            });\n        }\n    };\n\n    render() {\n        const {isLoading} = this.state;\n        let address = Wallet.getWalletAddress();\n        let qrCodeURL = `https://chart.googleapis.com/chart?chs=160x160&cht=qr&chl=${address}&choe=UTF-8&chld=L|0`;\n        let hasFaucet = (_.isNil(getNetworkFaucetId(Dnero.getChainID())) === false);\n\n        return (\n            <Modal>\n                <div className=\"ReceiveModal\">\n                    <div className=\"ModalTitle\">\n                        Receive\n                    </div>\n                    <Warning message={'Do not send ETH or ERC20 tokens to this address.'}\n                             learnMoreHref={Urls.PreventingLostTokens}\n                             style={{marginBottom: 30}}\n                    />\n                    <div className=\"ReceiveModal__public-address-title\">\n                        My Public Address\n                    </div>\n                    <div className=\"ReceiveModal__public-address\">\n                        {address}\n                    </div>\n                    <div className=\"ReceiveModal__buttons\">\n                        <GhostButton title=\"Copy\"\n                                     iconUrl=\"/img/icons/copy@2x.png\"\n                                     onClick={this.handleCopyAddressClick}\n                        />\n                    </div>\n                    {Wallet.getWalletHardware() ==='ledger' &&\n                    <div className=\"ReceiveModal__buttons\">\n                        <GhostButton title=\"Display on Ledger\"\n                                     onClick={this.handleDisplayOnLedgerClick}\n                        />\n                    </div>\n                     }\n                    <img src={qrCodeURL}\n                         className=\"ReceiveModal__qr\"\n                    />\n\n                    {\n                        hasFaucet && Config.faucetAvailable &&\n                        <div className=\"ReceiveModal__faucet\">\n                            <GhostButton title=\"Faucet\"\n                                         disabled={isLoading}\n                                         loading={isLoading}\n                                         className={\"ReceiveModal__faucet-button\"}\n                                         iconUrl=\"/img/tab-bar/receive@2x.png\"\n                                         onClick={this.handleFaucetClick}\n                            />\n                            <div className=\"ReceiveModal__faucet-message\">\n                                Receive a small amount of DTOKEN on {getNetworkName(Dnero.getChainID())}\n                            </div>\n                        </div>\n                    }\n                </div>\n            </Modal>\n        )\n    }\n}\n","import React from 'react'\nimport './PrivateKeyModal.css';\nimport Modal from '../components/Modal'\nimport GradientButton from '../components/buttons/GradientButton'\nimport {store} from \"../state\";\nimport {hideModal} from \"../state/actions/ui\";\n\nexport default class PrivateKeyModal extends React.Component {\n    constructor(){\n        super();\n\n        this.close = this.close.bind(this);\n    }\n\n    close(){\n        store.dispatch(hideModal());\n    }\n\n    render() {\n        return (\n            <Modal>\n                <div className=\"PrivateKeyModal\">\n                    <div className=\"PrivateKeyModal__title\">\n                        Your Private Key\n                    </div>\n                    <div className=\"PrivateKeyModal__instructions\">\n                        Backup the text below on paper or digitally and keep it somewhere safe and secure.\n                    </div>\n                    <textarea className=\"PrivateKeyModal__private-key\"\n                              value={this.props.privateKey}\n                              readOnly={true}\n                    />\n                    <GradientButton title=\"Close\"\n                                    onClick={this.close}\n                    />\n                </div>\n            </Modal>\n        )\n    }\n}\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport * as dnerojs from '@dnerolabs/dnero-js';\nimport {hideModal, hideModals} from \"../state/actions/ui\";\nimport {setNetwork} from \"../state/actions/Wallet\";\n\nconst classNames = require('classnames');\n\nconst OrderedNetworks = [\n    dnerojs.networks.Mainnet,\n    dnerojs.networks.Testnet,\n    dnerojs.networks.Privatenet,\n    dnerojs.networks.EliteEdgeTestnet,\n];\n\nexport class NetworkSelectorModal extends React.Component {\n    onNetworkClick = (network) => {\n        this.props.dispatch(setNetwork(network.chainId));\n\n        this.props.dispatch(hideModal());\n    };\n\n    render() {\n        const {selectedNetwork} = this.props;\n\n        return (\n            <div className={'NetworkSelectorModal'}>\n                <div className='NetworkSelectorModal__header'>\n                    <div className='NetworkSelectorModal__header-title'>Select Network</div>\n                </div>\n                <div className='NetworkSelectorModal__content'>\n                    <div className='NetworkSelectorModal__message'>\n                        The default network for Dnero transactions is Mainnet.\n                    </div>\n                    <div className='NetworkSelectList'>\n                        {\n                            OrderedNetworks.map((network) => {\n                                const classes = classNames('NetworkSelectListItem', { 'NetworkSelectListItem--active': (network.chainId === selectedNetwork.chainId)});\n\n                                return (\n                                    <div key={network.chainId}\n                                         className={classes}\n                                         onClick={() => {\n                                             this.onNetworkClick(network);\n                                         }}\n                                    >\n                                        <img className='NetworkSelectListItem__checkmark' src='/img/icons/checkmark.svg'/>\n                                        <div className='NetworkSelectListItem__color' style={{backgroundColor: network.color}}/>\n                                        <div className='NetworkSelectListItem__name'>{network.name}</div>\n                                    </div>\n                                );\n                            })\n                        }\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    const { dneroWallet } = state;\n    const selectedNetwork = dneroWallet.network;\n\n    return {\n        selectedNetwork: selectedNetwork,\n    };\n};\n\nexport default connect(mapStateToProps)(NetworkSelectorModal);\n","import React, {Fragment} from 'react';\nimport MDSpinner from 'react-md-spinner';\nimport {Link} from 'react-router-dom';\n\nconst classNames = require('classnames');\n\nclass FlatButton extends React.Component {\n    render() {\n        let icon = this.props.iconUrl && <img className=\"FlatButton__icon\"\n                                              src={this.props.iconUrl}\n        />;\n        let innerContent = null;\n\n        const sizeClass = `FlatButton--${this.props.size}`;\n        let className = classNames('FlatButton', {\n            [this.props.className]: true,\n            [sizeClass]: true,\n            'FlatButton--borderless': this.props.borderless,\n            'FlatButton--centered': this.props.centered,\n            'FlatButton--is-disabled': this.props.disabled\n        });\n\n        if(this.props.loading){\n            innerContent = (\n                <MDSpinner singleColor=\"#ffffff\"\n                           size={16}\n                           className={'FlatButton__spinner'}\n                />\n            );\n        }\n        else{\n            innerContent = (\n                <Fragment>\n                    {icon}\n                    <div className=\"FlatButton__title\">\n                        {this.props.title}\n                    </div>\n                </Fragment>\n            );\n        }\n\n        if(this.props.href){\n            return (\n                <Link className={className}\n                      to={this.props.href}\n                      target={this.props.target}\n                      onClick={this.props.onClick}\n                      style={this.props.style}\n                >\n                    {innerContent}\n                </Link>\n            );\n        }\n\n        return (\n            <a className={className}\n               target={this.props.target}\n               onClick={this.props.onClick}\n               style={this.props.style}\n            >\n                {innerContent}\n            </a>\n        );\n    }\n}\n\nexport default FlatButton;\n","import _ from 'lodash';\nimport React from 'react';\nimport * as dnerojs from '@dnerolabs/dnero-js';\nimport './TxConfirmationModal.css';\nimport connect from \"react-redux/es/connect/connect\";\nimport Modal from '../components/Modal'\nimport GradientButton from \"../components/buttons/GradientButton\";\nimport Wallet from '../services/Wallet'\nimport {\n    approveTransactionRequest,\n    rejectTransactionRequest\n} from \"../state/actions/Transactions\";\nimport {\n    formatNativeTokenAmountToLargestUnit, formatDNC20TokenAmountToLargestUnit,\n    transactionRequestToTransactionType,\n    transactionTypeToName, truncate\n} from \"../utils/Utils\";\nimport {DefaultAssets, getAllAssets, tokenToAsset} from \"../constants/assets\";\nimport {DNC20ABI} from '../constants/contracts';\nimport FlatButton from \"../components/buttons/FlatButton\";\nimport {store} from \"../state\";\nimport MDSpinner from \"react-md-spinner\";\nimport BigNumber from \"bignumber.js\";\n\n\nconst renderDataRow = (title, value, suffix = '', isLarge = false) => {\n    suffix = suffix ? suffix : '';\n\n    if(value){\n        return (\n            <div className={`TxDataRow ${isLarge ? 'TxDataRow--large' : ''}`}>\n                <div className=\"TxDataRow__title\">\n                    {title}\n                </div>\n                <div className=\"TxDataRow__value\">\n                    {value + suffix || ''}\n                </div>\n            </div>\n        );\n    }\n    return null;\n};\n\nexport class ConfirmTransactionModal extends React.Component {\n    constructor(){\n        super();\n\n        this.state = {\n            password: '',\n            estimatedGasFee: null\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    handleChange(event) {\n        let name = event.target.name;\n        let value = event.target.value;\n\n        this.setState({[name]: value});\n    }\n\n    onConfirmClick = () => {\n        // TODO approve the request if the password matches\n        // this.props.dispatch(createSendTransaction(this.props.network, this.props.transaction, this.state.password));\n        const {transactionRequest} = this.props;\n        this.props.dispatch(approveTransactionRequest(transactionRequest.id, this.state.password));\n    }\n\n    onRejectClick = () => {\n        const {transactionRequest} = this.props;\n        this.props.dispatch(rejectTransactionRequest(transactionRequest.id));\n    }\n\n    renderDataRows = () => {\n        const {selectedAddress, transactionRequest, assets} = this.props;\n        const txType = _.get(transactionRequest, 'txType');\n        const txData = _.get(transactionRequest, 'txData');\n        const stakePurpose = _.get(transactionRequest, 'txData.purpose');\n\n        if(txType === dnerojs.constants.TxType.Send){\n            const dneroWei = _.get(transactionRequest, 'txData.outputs[0].dneroWei', null);\n            const dtokenWei = _.get(transactionRequest, 'txData.outputs[0].dtokenWei', null);\n\n            return (\n                <React.Fragment>\n                    { renderDataRow('Transaction Type', transactionTypeToName(txType)) }\n                    { renderDataRow('From', truncate(selectedAddress)) }\n                    { renderDataRow('To', truncate(_.get(transactionRequest, 'txData.outputs[0].address'))) }\n                    { dneroWei && (dneroWei !== '0') && renderDataRow('Amount', formatNativeTokenAmountToLargestUnit(dneroWei), ' DNERO') }\n                    { dtokenWei && (dtokenWei !== '0') && renderDataRow('Amount', formatNativeTokenAmountToLargestUnit(dtokenWei), ' DTOKEN') }\n                </React.Fragment>\n            );\n        }\n        if(txType === dnerojs.constants.TxType.SmartContract){\n            const transactionName = transactionRequestToTransactionType(transactionRequest);\n            const contractAddress = _.get(transactionRequest, 'txData.to', null);\n            const value = _.get(transactionRequest, 'txData.value');\n            const asset = _.find(assets, function (a) {\n                return a.contractAddress === contractAddress;\n            });\n            let transferToAddress = null;\n            let transferToValue = null;\n            let symbol = null;\n            let decimals = null;\n\n            try {\n                const contractData = _.get(txData, 'data');\n                const dnc20Contract = new dnerojs.Contract(null, DNC20ABI, null);\n                const data = dnc20Contract.interface.decodeFunctionData('transfer(address,uint256)',contractData);\n                transferToAddress = data[0];\n                transferToValue = data[1].toString();\n                symbol = asset && asset.symbol;\n                decimals = asset && asset.decimals;\n            }\n            catch (e) {\n\n            }\n\n            return (\n                <React.Fragment>\n                    { renderDataRow('Transaction Type', transactionName) }\n                    { !_.isNil(contractAddress) && renderDataRow('Contract', truncate(_.get(transactionRequest, 'txData.to'))) }\n                    { renderDataRow('From', truncate(selectedAddress)) }\n                    { !_.isNil(transferToAddress) && renderDataRow('To', truncate(transferToAddress)) }\n                    { (!_.isNil(transferToAddress) && symbol && transferToValue) && renderDataRow('Token Amount', formatDNC20TokenAmountToLargestUnit(transferToValue, decimals), ` ${symbol}`) }\n                    { (!_.isNil(value) && value > 0) && renderDataRow('Value', formatNativeTokenAmountToLargestUnit(value), ' DTOKEN') }\n                    { renderDataRow('Data', _.get(transactionRequest, 'txData.data'), null, true) }\n\n                </React.Fragment>\n            );\n        }\n        if(txType === dnerojs.constants.TxType.WithdrawStake){\n            return (\n                <React.Fragment>\n                    { renderDataRow('Transaction Type', transactionTypeToName(txType)) }\n                    { renderDataRow('From', truncate(selectedAddress)) }\n                    { renderDataRow('Holder', truncate(_.get(transactionRequest, 'txData.holder'))) }\n                </React.Fragment>\n            );\n        }\n        if(txType === dnerojs.constants.TxType.DepositStake){\n            return (\n                <React.Fragment>\n                    { renderDataRow('Transaction Type', transactionTypeToName(txType)) }\n                    { renderDataRow('Purpose', 'Validator Node') }\n                    { renderDataRow('From', truncate(selectedAddress)) }\n                    { renderDataRow('Holder', truncate(_.get(transactionRequest, 'txData.holder'))) }\n                    { renderDataRow('Amount', formatNativeTokenAmountToLargestUnit(_.get(transactionRequest, 'txData.amount')), ' DNERO') }\n                </React.Fragment>\n            );\n        }\n        if(txType === dnerojs.constants.TxType.DepositStakeV2){\n            return (\n                <React.Fragment>\n                    { renderDataRow('Transaction Type', transactionTypeToName(txType)) }\n                    {\n                        (stakePurpose === dnerojs.constants.StakePurpose.StakeForEliteEdge) &&\n                        renderDataRow('Purpose', 'Edge Node')\n                    }\n                    {\n                        (stakePurpose === dnerojs.constants.StakePurpose.StakeForSentry) &&\n                        renderDataRow('Purpose', 'Sentry Node')\n                    }\n                    { renderDataRow('From', truncate(selectedAddress)) }\n                    { renderDataRow('Holder summary', _.get(transactionRequest, 'txData.holderSummary'), null, true) }\n                    {\n                        (stakePurpose === dnerojs.constants.StakePurpose.StakeForEliteEdge) &&\n                        renderDataRow('Amount', formatNativeTokenAmountToLargestUnit(_.get(transactionRequest, 'txData.amount')), ' DTOKEN')\n                    }\n                    {\n                        (stakePurpose === dnerojs.constants.StakePurpose.StakeForSentry) &&\n                        renderDataRow('Amount', formatNativeTokenAmountToLargestUnit(_.get(transactionRequest, 'txData.amount')), ' DNERO')\n                    }\n                </React.Fragment>\n            );\n        }\n    };\n\n    calculateTotalGasPrice = () => {\n        const {transactionRequest} = this.props;\n\n        if(transactionRequest?.gasFeeData?.totalGasFee){\n            const dependencyGasFee = new BigNumber(_.get(transactionRequest, ['dependencies', 0, 'gasFeeData', 'totalGasFee'], '0'));\n\n            return (new BigNumber(transactionRequest.gasFeeData.totalGasFee || '0')).plus(dependencyGasFee);\n        }\n    }\n\n    render() {\n        const {transactionRequest} = this.props;\n        let isValid = Wallet.getWalletHardware() || this.state.password.length > 0;\n        let txDataRows = this.renderDataRows();\n        let passwordRow = null;\n\n        if(!Wallet.getWalletHardware()){\n            passwordRow = (\n                <div className=\"TxConfirmationModal__password-container\">\n                    <div className=\"TxConfirmationModal__password-title\">Enter your wallet password to sign this transaction</div>\n                    <input className=\"ChoosePasswordCard__password-input\"\n                           placeholder=\"Enter wallet password\"\n                           name=\"password\"\n                           type=\"password\"\n                           value={this.state.password}\n                           onChange={this.handleChange.bind(this)}\n                    />\n                </div>\n            );\n        }\n\n        return (\n            <Modal closeable={false}>\n                <div className=\"TxConfirmationModal\">\n                    <div className=\"ModalTitle\">\n                        Confirm Transaction\n                    </div>\n\n                    <div className={'TxDataRows'}>\n                        {\n                            txDataRows\n                        }\n                        <div className={`TxDataRow`}>\n                            <div className=\"TxDataRow__title\">\n                                Estimated Gas Fee\n                            </div>\n                            {\n                                _.isNil(transactionRequest?.gasFeeData) &&\n                                <div className=\"TxDataRow__value\">\n                                    <MDSpinner singleColor={'#1BDED0'} size={20}/>\n                                </div>\n                            }\n                            {\n                                !_.isNil(transactionRequest?.gasFeeData) &&\n                                <div className=\"TxDataRow__value\">\n                                    <span>{`${formatNativeTokenAmountToLargestUnit(this.calculateTotalGasPrice())} DTOKEN`}</span>\n                                </div>\n                            }\n                        </div>\n                    </div>\n\n                    { passwordRow }\n\n                    <div className={'TxConfirmationModal__footer'}>\n                        <FlatButton title={'Reject'}\n                                    className={'ConfirmTransactionPage__reject-button'}\n                                    size={'large'}\n                                    onClick={this.onRejectClick}\n                                    borderless centered/>\n                        <GradientButton title={'Confirm'}\n                                        className={'ConfirmTransactionPage__confirm-button'}\n                                        disabled={isValid === false}\n                                        onClick={this.onConfirmClick}\n                        />\n                    </div>\n\n                </div>\n            </Modal>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    const { dneroWallet } = state;\n    const selectedAddress = dneroWallet.selectedAddress;\n    const identities = dneroWallet.identities;\n    const accounts = dneroWallet.accounts;\n    const transactionRequest = state.dneroWallet.transactionRequests[0];\n    const tokens = dneroWallet.tokens;\n    const chainId = dneroWallet.network.chainId;\n\n    return {\n        selectedAddress: selectedAddress,\n        selectedIdentity: identities[selectedAddress],\n        selectedAccount: accounts[selectedAddress],\n        assets: getAllAssets(chainId, tokens),\n        transactionRequest: transactionRequest,\n    };\n};\n\nexport default connect(mapStateToProps)(ConfirmTransactionModal);\n","import React from 'react';\n\nconst classNames = require('classnames');\n\nexport default class FormField extends React.Component {\n    render() {\n        const {title, error, style, className, children} = this.props;\n\n        return (\n            <div className={classNames('FormField', { [className]: true })}\n                 style={style}\n            >\n                <div className={'FormField__title'}>\n                    {title}\n                </div>\n                {\n                    children\n                }\n                { error &&\n                <div className={'FormField__error'}>\n                    {error}\n                </div>\n                }\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { ethers } from 'ethers';\nimport _ from 'lodash';\nimport FormField from '../../components/FormField';\nimport {\n    isValidAmount, getAssetBalance, toNativeTokenLargestUnit, toDNC20TokenLargestUnit\n} from '../../utils/Utils';\nimport {Urls} from '../../constants';\nimport Warning from '../../components/Warning';\nimport * as dnerojs from \"@dnerolabs/dnero-js\";\nimport BigNumber from \"bignumber.js\";\nimport {DTokenAsset, DneroAsset} from \"../../constants/assets\";\nimport FlatButton from \"../buttons/FlatButton\";\n\nexport default function SendTxForm(props){\n    const {onSubmit, defaultValues, selectedAccount, formRef, assets} = props;\n    const {register, handleSubmit, errors, watch, setValue} = useForm({\n        mode: 'onChange',\n        defaultValues: defaultValues || {\n            to: '',\n            amount: '',\n            assetId: ''\n        }\n    });\n    const assetId = watch('assetId');\n    const populateMaxAmount = () => {\n        if(_.isEmpty(assetId)){\n            return;\n        }\n\n        let amount = '';\n        const asset = _.find(assets, function (a) {\n            return a.id === assetId;\n        });\n\n        if(assetId === DTokenAsset.id){\n            const maxDtokenBN = (new BigNumber(selectedAccount.balances['dtokenwei'])).minus(dnerojs.constants.gasPriceDefault);\n            amount = toNativeTokenLargestUnit(maxDtokenBN.toString(10)).toString(10);\n        }\n        else if (assetId === DneroAsset.id){\n            amount = toNativeTokenLargestUnit(selectedAccount.balances['dnerowei']).toString(10);\n        }\n        else{\n            const balance = selectedAccount.balances[asset.address] || '0';\n            amount = toDNC20TokenLargestUnit(balance, asset.decimals).toString(10);\n        }\n\n        setValue('amount', amount);\n    }\n\n    return (\n        <form className={'TxForm TxForm--Send'}\n              onSubmit={handleSubmit(onSubmit)}\n              ref={formRef}\n        >\n            <FormField title={'To'}\n                       error={(errors.to && 'A valid address is required')}\n            >\n                <input name=\"to\"\n                       className={'RoundedInput'}\n                       placeholder={'Enter address'}\n                       ref={register({\n                           required: true,\n                           validate: (s) => ethers.utils.isAddress(s)\n                       })} />\n            </FormField>\n\n            <FormField title={'Asset'}\n                       error={errors.assetId && 'Asset is required'}\n            >\n                <select\n                    className={'RoundedInput'}\n                    name={'assetId'}\n                    ref={register({ required: true })}\n                >\n                    <option key={'__placeholder__'}\n                            value={''}\n                            disabled>\n                        Select asset\n                    </option>\n                    {\n                        assets.map((asset) => (\n                            <option key={asset.symbol}\n                                    value={asset.id}>\n                                {`${asset.symbol} (${getAssetBalance(selectedAccount, asset)})`}\n                            </option>\n                        ))\n                    }\n                </select>\n            </FormField>\n\n            <FormField title={'Amount'}\n                       error={errors.amount && errors.amount.message}\n            >\n                <div className={'RoundedInputWrapper'}>\n                    <input name=\"amount\"\n                           className={'RoundedInput'}\n                           placeholder={'Enter amount'}\n                           type={'number'}\n                           ref={register({\n                               required: {\n                                   value: true,\n                                   message: 'Amount is required'\n                               },\n                               validate: {\n                                   sufficientBalance: (s) => {\n                                       const asset = _.find(assets, function (a) {\n                                           return a.id === assetId;\n                                       });\n                                       const isValid = isValidAmount(selectedAccount, asset, s);\n\n                                       return isValid ? true : 'Insufficient balance';\n                                   },\n                                   moreThanZero: (s) => {\n                                       const f = parseFloat(s);\n\n                                       return (f > 0) ? true : 'Invalid amount';\n                                   }\n                               }})} />\n                    <FlatButton title={'Max'}\n                                size={'small'}\n                                className={'RoundedInputButton'}\n                                onClick={populateMaxAmount}/>\n                </div>\n            </FormField>\n\n            <Warning message={'Do not send to Ethereum/ERC20 addresses.'}\n                     learnMoreHref={Urls.PreventingLostTokens}\n                     style={{\n                         maxWidth: '250px',\n                         marginBottom: 10\n                     }}\n            />\n\n        </form>\n    );\n}\n","import _ from 'lodash';\nimport React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { ethers } from 'ethers';\nimport * as dnerojs from '@dnerolabs/dnero-js';\nimport FormField from '../../components/FormField';\nimport {\n    formatNativeTokenAmountToLargestUnit,\n    isHolderSummary,\n    isValidAmount,\n    numberWithCommas, toNativeTokenLargestUnit\n} from '../../utils/Utils';\nimport {DDropAsset, DTokenAsset, DneroAsset} from '../../constants/assets';\nimport {getMaxDelegatedStakeAmount, getMaxStakeAmount, getMinStakeAmount, StakePurposeForDDROP} from '../../constants';\nimport FlatButton from \"../buttons/FlatButton\";\nimport BigNumber from \"bignumber.js\";\n\nexport default function DepositStakeTxForm(props) {\n    const {onSubmit, defaultValues, formRef, selectedAccount, assets, chainId, onShowDelegatedSentryNodes} = props;\n    const {register, handleSubmit, errors, watch, setValue} = useForm({\n        mode: 'onChange',\n        defaultValues: defaultValues || {\n            purpose: dnerojs.constants.StakePurpose.StakeForSentry,\n            holder: '',\n            holderSummary: '',\n            amount: '',\n            delegatedSentryNode: null\n        }\n    });\n    React.useEffect(() => {\n        register('delegatedSentryNode');\n    }, [register]);\n    const purpose = parseInt(watch('purpose'));\n    const delegatedSentryNode = watch('delegatedSentryNode');\n    let holderTitle = null;\n    let holderPlaceholder = null;\n    let stakeAmountTitle = null;\n\n    if (purpose === dnerojs.constants.StakePurpose.StakeForValidator) {\n        holderTitle = 'Validator Node Holder (Address)';\n        holderPlaceholder = 'Enter validator node address';\n        stakeAmountTitle = 'Dnero Stake Amount';\n    } else if (purpose === dnerojs.constants.StakePurpose.StakeForSentry) {\n        holderTitle = 'Sentry Node Holder (Summary)';\n        holderPlaceholder = 'Enter sentry node summary';\n        stakeAmountTitle = 'Dnero Stake Amount';\n    } else if (purpose === dnerojs.constants.StakePurpose.StakeForEliteEdge) {\n        holderTitle = 'Edge Node Holder (Summary)';\n        holderPlaceholder = 'Enter edge node summary';\n        stakeAmountTitle = 'DToken Stake Amount';\n    } else if (purpose === StakePurposeForDDROP) {\n        holderTitle = null;\n        holderPlaceholder = null;\n        stakeAmountTitle = 'DDrop Stake Amount';\n    }\n    const populateMaxAmount = () => {\n        let amount = '';\n        let max = getMaxStakeAmount(purpose);\n        if(purpose === dnerojs.constants.StakePurpose.StakeForValidator || purpose === dnerojs.constants.StakePurpose.StakeForSentry){\n            amount = toNativeTokenLargestUnit(selectedAccount.balances['dnerowei']).toString(10);\n\n            if (purpose === dnerojs.constants.StakePurpose.StakeForEliteEdge) {\n                amount = Math.min(max, parseFloat(amount));\n            } else if (\n                purpose === dnerojs.constants.StakePurpose.StakeForSentry ||\n                !_.isNil(delegatedSentryNode)) {\n                max = getMaxDelegatedStakeAmount(purpose);\n                amount = Math.min(max, parseFloat(amount));\n            }\n        }\n        else if(purpose === dnerojs.constants.StakePurpose.StakeForEliteEdge){\n            const maxDtokenBN = (new BigNumber(selectedAccount.balances['dtokenwei'])).minus(dnerojs.constants.gasPriceDefault);\n            amount = toNativeTokenLargestUnit(maxDtokenBN.toString(10)).toString(10);\n\n            amount = Math.min(max, parseFloat(amount));\n        }\n        else if(purpose === StakePurposeForDDROP){\n            const dDropAsset = DDropAsset(chainId);\n            const balance = selectedAccount.balances[dDropAsset.address] || '0';\n            amount = toNativeTokenLargestUnit(balance).toString(10);\n        }\n        setValue('amount', amount);\n    }\n\n    return (\n        <form className={'TxForm TxForm--DepositStake'}\n              onSubmit={handleSubmit(onSubmit)}\n              ref={formRef}\n        >\n            <FormField title={'Stake Type'}\n                       error={errors.purpose && 'Stake type is required'}\n            >\n                <select\n                    className={'RoundedInput'}\n                    name={'purpose'}\n                    ref={register({required: true})}\n                >\n                    <option key={'__placeholder__'}\n                            value={''}\n                            disabled>\n                        Select stake type\n                    </option>\n                    <option key={'sentry'}\n                            value={dnerojs.constants.StakePurpose.StakeForSentry}>\n                        Sentry Node\n                    </option>\n                    <option key={'validator'}\n                            value={dnerojs.constants.StakePurpose.StakeForValidator}>\n                        Validator Node\n                    </option>\n                    <option key={'elite-edge'}\n                            value={dnerojs.constants.StakePurpose.StakeForEliteEdge}>\n                        Edge Node\n                    </option>\n                    {\n                        DDropAsset(chainId) &&\n                        <option key={'ddrop'}\n                                value={StakePurposeForDDROP}>\n                            DDROP\n                        </option>\n                    }\n                </select>\n            </FormField>\n\n            {\n                (purpose === dnerojs.constants.StakePurpose.StakeForValidator) &&\n                <FormField title={holderTitle}\n                           error={errors.holder && 'A valid validator address is required'}\n                >\n                    <input name=\"holder\"\n                           className={'RoundedInput'}\n                           placeholder={holderPlaceholder}\n                           ref={register({\n                               required: true,\n                               validate: (s) => ethers.utils.isAddress(s)\n                           })}/>\n                </FormField>\n            }\n\n            {\n                (purpose === dnerojs.constants.StakePurpose.StakeForSentry) &&\n                <FormField title={(delegatedSentryNode ? 'Delegated Sentry Node' : holderTitle)}\n                           error={errors.holderSummary && 'Sentry node summary or delegated sentry node is required'}\n                >\n                    <React.Fragment>\n                        <textarea name=\"holderSummary\"\n                          className={'RoundedInput'}\n                          style={{height: 100, display: (delegatedSentryNode ? 'none' : 'block')}}\n                          placeholder={holderPlaceholder}\n                          ref={register({\n                              required: true,\n                              validate: (s) => isHolderSummary(s)\n                          })}/>\n                        {\n                            _.isNil(delegatedSentryNode) &&\n                            <a onClick={() => {\n                                onShowDelegatedSentryNodes((node) => {\n                                    setValue('holderSummary', node.node_summary);\n                                    setValue('delegatedSentryNode', node);\n                                });\n                            }}\n                               className={'Link'}\n                               style={{marginTop: 8, textAlign: 'left'}}\n                            >\n                                Select Delegated Sentry Node\n                            </a>\n                        }\n                    </React.Fragment>\n                    {\n                        !_.isNil(delegatedSentryNode) &&\n                        <React.Fragment>\n                            <div className={'RoundedInput'}>\n                                <div className={'RoundedInputClearableValue'}>\n                                    <div>{delegatedSentryNode.name}</div>\n                                    <a onClick={() => {\n                                        setValue('holderSummary', null);\n                                        setValue('delegatedSentryNode', null);\n                                    }}\n                                       style={{marginLeft: 'auto'}}\n                                    >\n                                        <img src={'/img/icons/alert-x@2x.png'}/>\n                                    </a>\n                                </div>\n                            </div>\n                        </React.Fragment>\n                    }\n                </FormField>\n            }\n\n\n            {\n                (purpose === dnerojs.constants.StakePurpose.StakeForEliteEdge) &&\n                <FormField title={holderTitle}\n                           error={errors.holderSummary && 'Edge node summary is required'}\n                >\n          <textarea name=\"holderSummary\"\n                    className={'RoundedInput'}\n                    style={{height: 100}}\n                    placeholder={holderPlaceholder}\n                    ref={register({\n                        required: true,\n                        validate: (s) => dnerojs.transactions.DepositStakeV2Transaction.isValidHolderSummary(purpose, s)\n                    })}/>\n                </FormField>\n            }\n\n            <FormField title={stakeAmountTitle}\n                       error={errors.amount && errors.amount.message}\n            >\n                <div className={'RoundedInputWrapper'}>\n                    <input name=\"amount\"\n                       className={'RoundedInput'}\n                       placeholder={'Enter amount to stake'}\n                       ref={register({\n                           required: {\n                               value: true,\n                               message: 'Stake amount is required'\n                           },\n                           validate: {\n                               sufficientBalance: (s) => {\n                                   let isValid = true;\n                                   if (purpose === dnerojs.constants.StakePurpose.StakeForEliteEdge) {\n                                       isValid = isValidAmount(selectedAccount, DTokenAsset, s);\n                                   } else if (\n                                       purpose === dnerojs.constants.StakePurpose.StakeForSentry ||\n                                       purpose === dnerojs.constants.StakePurpose.StakeForValidator) {\n                                       isValid = isValidAmount(selectedAccount, DneroAsset, s);\n                                   } else if (purpose === StakePurposeForDDROP) {\n                                       const dDropAsset = DDropAsset(chainId);\n\n                                       isValid = isValidAmount(selectedAccount, dDropAsset, s);\n                                   }\n\n                                   return isValid ? true : 'Insufficient balance';\n                               },\n                               moreThanMin: (s) => {\n                                   const f = parseFloat(s);\n                                   const min = getMinStakeAmount(purpose);\n                                   if (purpose === dnerojs.constants.StakePurpose.StakeForEliteEdge) {\n                                       if(min > f){\n                                           return `Invalid amount. Must be at least ${numberWithCommas(min)} DTOKEN`;\n                                       }\n                                   } else if (\n                                       purpose === dnerojs.constants.StakePurpose.StakeForSentry ||\n                                       purpose === dnerojs.constants.StakePurpose.StakeForValidator) {\n                                       if(min > f){\n                                           return `Invalid amount. Must be at least ${numberWithCommas(min)} DNERO`;\n                                       }\n                                   }\n                                   return true;\n                               },\n                               lessThanMax: (s) => {\n                                   const f = parseFloat(s);\n                                   let max = getMaxStakeAmount(purpose);\n                                   if (purpose === dnerojs.constants.StakePurpose.StakeForEliteEdge) {\n                                       if(max < f){\n                                           return `Invalid amount. Must be less than ${numberWithCommas(max)} DTOKEN`;\n                                       }\n                                   } else if (\n                                       purpose === dnerojs.constants.StakePurpose.StakeForSentry ||\n                                       !_.isNil(delegatedSentryNode)) {\n                                       max = getMaxDelegatedStakeAmount(purpose);\n                                       if(max < f){\n                                           return `Invalid amount. There's a max of ${numberWithCommas(max)} DNERO for delegated nodes. Please download and run your own Sentry Node to stake more.`;\n                                       }\n                                   }\n                                   return true;\n                               },\n                               moreThanZero: (s) => {\n                                   const f = parseFloat(s);\n\n                                   return (f > 0) ? true : 'Invalid stake amount';\n                               }\n                           }\n                       })}/>\n                       <FlatButton title={'Max'}\n                                   size={'small'}\n                                   className={'RoundedInputButton'}\n                                   onClick={populateMaxAmount}/>\n                </div>\n            </FormField>\n        </form>\n    );\n}\n","import React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { ethers } from 'ethers';\nimport * as dnerojs from '@dnerolabs/dnero-js';\nimport FormField from '../FormField';\nimport {StakePurposeForDDROP} from '../../constants';\nimport {formatDNC20TokenAmountToLargestUnit} from '../../utils/Utils';\nimport _ from 'lodash';\nimport BigNumber from 'bignumber.js';\nimport {DDropAsset} from '../../constants/assets';\n\nexport default function WithdrawStakeTxForm(props){\n    const {onSubmit, defaultValues, formRef, selectedAccount, assets, chainId} = props;\n    const {register, handleSubmit, errors, watch, setValue} = useForm({\n        mode: 'onChange',\n        defaultValues: defaultValues || {\n            purpose: dnerojs.constants.StakePurpose.StakeForSentry,\n            holder: '',\n            amount: ''\n        }\n    });\n    const purpose = parseInt(watch('purpose'));\n    const amount = watch('amount');\n\n\n    const renderEstDDROPToReturn = () => {\n        const percentageToUnstake = Math.min(parseFloat(amount), 100.0) / 100;\n        const dnc20stakes = _.get(selectedAccount, ['dnc20Stakes'], {});\n        const balanceStr = _.get(dnc20stakes, 'ddrop.estimatedTokenOwnedWithRewards', '0');\n        const balanceBN = new BigNumber(balanceStr);\n        const amountBN = balanceBN.multipliedBy(percentageToUnstake);\n        const formattedAmt = formatDNC20TokenAmountToLargestUnit(amountBN.toString(), DDropAsset(chainId).decimals);\n\n        return (\n            <div>\n                <span className={'Balance__amount-title'}>Estimated DDROP Returned: </span><span className={'Balance__amount-value'}>{formattedAmt}</span>\n            </div>\n        );\n    };\n\n    return (\n        <form className={'TxForm TxForm--WithdrawStake'}\n              onSubmit={handleSubmit(onSubmit)}\n              ref={formRef}\n        >\n            <FormField title={'Stake Type'}\n                       error={errors.purpose && 'Stake type is required'}\n            >\n                <select\n                    className={'RoundedInput'}\n                    name={'purpose'}\n                    ref={register({ required: true })}\n                >\n                    <option key={'__placeholder__'}\n                            value={''}\n                            disabled>\n                        Select stake type\n                    </option>\n                    <option key={'sentry'}\n                            value={dnerojs.constants.StakePurpose.StakeForSentry}>\n                        Sentry Node\n                    </option>\n                    <option key={'validator'}\n                            value={dnerojs.constants.StakePurpose.StakeForValidator}>\n                        Validator Node\n                    </option>\n                    <option key={'validator'}\n                            value={dnerojs.constants.StakePurpose.StakeForEliteEdge}>\n                        Edge Node\n                    </option>\n                    {\n                        DDropAsset(chainId) &&\n                        <option key={'ddrop'}\n                                value={StakePurposeForDDROP}>\n                            DDROP\n                        </option>\n                    }\n\n                </select>\n            </FormField>\n\n            {\n                purpose !== StakePurposeForDDROP &&\n                <FormField title={'Holder'}\n                           error={errors.holder && 'A valid node address is required'}\n                >\n                    <input name=\"holder\"\n                           className={'RoundedInput'}\n                           placeholder={'Enter node address'}\n                           ref={register({\n                               required: true,\n                               validate: (s) => ethers.utils.isAddress(s)\n                           })} />\n                </FormField>\n            }\n\n            {\n                purpose === StakePurposeForDDROP &&\n                <FormField title={'% Amount to Unstake'}\n                           error={errors.amount && errors.amount.message}\n                >\n                    <input name=\"amount\"\n                           className={'RoundedInput'}\n                           placeholder={'Enter % amount to unstake'}\n                           ref={register({\n                               required: {\n                                   value: true,\n                                   message: 'Unstake % amount is required'\n                               },\n                               validate: {\n                                   moreThanZero: (s) => {\n                                       const f = parseFloat(s);\n\n                                       return (f > 0) ? true : 'Invalid % amount.';\n                                   },\n                                   lessThanOrEqualTo100: (s) => {\n                                       const f = parseFloat(s);\n\n                                       return (f <= 100.0) ? true : 'Invalid % amount. Max 100%.';\n                                   }\n                               }\n                           })} />\n                </FormField>\n            }\n            {\n                (purpose === StakePurposeForDDROP && !_.isEmpty(amount)) &&\n                renderEstDDROPToReturn()\n            }\n        </form>\n    );\n}\n\n","import React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { ethers } from 'ethers';\nimport FormField from '../FormField';\n\nexport default function DelegateVoteTxForm(props){\n    const {onSubmit, defaultValues, formRef, selectedAccount, assets, chainId} = props;\n    const {register, handleSubmit, errors, watch, setValue} = useForm({\n        mode: 'onChange',\n        defaultValues: defaultValues || {\n            address: ''\n        }\n    });\n\n    return (\n        <form className={'TxForm TxForm--WithdrawStake'}\n              onSubmit={handleSubmit(onSubmit)}\n              ref={formRef}\n        >\n\n            <FormField title={'Delegate'}\n                       error={errors.holder && 'A valid delegate address is required'}\n            >\n                <input name=\"address\"\n                       className={'RoundedInput'}\n                       placeholder={'Enter wallet address'}\n                       ref={register({\n                           required: true,\n                           validate: (s) => ethers.utils.isAddress(s)\n                       })} />\n            </FormField>\n        </form>\n    );\n}\n\n","import _ from 'lodash';\nimport React from 'react'\nimport connect from \"react-redux/es/connect/connect\";\nimport SendTxForm from '../components/transactions/SendTxForm';\nimport {formDataToTransaction} from \"../utils/Utils\";\nimport {createTransactionRequest} from \"../state/actions/Transactions\";\nimport GradientButton from \"../components/buttons/GradientButton\";\nimport {DefaultAssets, getAllAssets, tokenToAsset} from \"../constants/assets\";\nimport DepositStakeTxForm from \"../components/transactions/DepositStakeTxForm\";\nimport WithdrawStakeTxForm from \"../components/transactions/WithdrawStakeTxForm\";\nimport {updateAccountBalances} from \"../state/actions/Wallet\";\nimport {showModal} from \"../state/actions/ui\";\nimport ModalTypes from \"../constants/ModalTypes\";\nimport DelegateVoteTxForm from \"../components/transactions/DelegateVoteTxForm\";\n\nexport class CreateTransactionModal extends React.Component {\n    constructor() {\n        super();\n\n        this.formRef = React.createRef();\n    }\n\n    onNextClick = () => {\n        this.formRef.current.dispatchEvent(new Event('submit', {cancelable: true, bubbles: true}));\n    };\n\n    onSubmit = async (data) => {\n        const {transactionType, dneroWallet} = this.props;\n        const tx = await formDataToTransaction(transactionType, data, dneroWallet);\n        const deps = tx.dependencies || [];\n        const depTx = deps[0];\n        const transactionRequest = tx.toJson();\n        if(depTx){\n            transactionRequest.dependencies = [\n                depTx.toJson()\n            ];\n        }\n\n        this.props.dispatch(createTransactionRequest(transactionRequest));\n    };\n\n    onShowDelegatedSentryNodes = (onSelectNode) => {\n        this.props.dispatch(showModal({\n            type: ModalTypes.DELEGATED_NODE_SELECTOR,\n            props: {\n                onSelectNode: onSelectNode\n            }\n        }));\n    }\n\n    componentDidMount() {\n        this.props.dispatch(updateAccountBalances(false));\n    }\n\n    render() {\n        const {selectedIdentity, selectedAccount, transactionType, assets, chainId} = this.props;\n        const title = transactionType.replace(/-/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n\n        return (\n            <div className={'CreateTransactionModal'}>\n                <div className=\"ModalTitle\">\n                    {title}\n                </div>\n                {\n                    (transactionType === 'send') &&\n                    <SendTxForm formRef={this.formRef}\n                                selectedAccount={selectedAccount}\n                                assets={assets}\n                                chainId={chainId}\n                                onSubmit={this.onSubmit}/>\n                }\n                {\n                    (transactionType === 'deposit-stake') &&\n                    <DepositStakeTxForm formRef={this.formRef}\n                                        selectedAccount={selectedAccount}\n                                        assets={assets}\n                                        chainId={chainId}\n                                        onSubmit={this.onSubmit}\n                                        onShowDelegatedSentryNodes={this.onShowDelegatedSentryNodes}\n                    />\n                }\n                {\n                    (transactionType === 'withdraw-stake') &&\n                    <WithdrawStakeTxForm formRef={this.formRef}\n                                         selectedAccount={selectedAccount}\n                                         assets={assets}\n                                         chainId={chainId}\n                                         onSubmit={this.onSubmit}/>\n                }\n                {\n                    (transactionType === 'delegate-ddrop-vote') &&\n                    <DelegateVoteTxForm formRef={this.formRef}\n                                        selectedAccount={selectedAccount}\n                                        chainId={chainId}\n                                        onSubmit={this.onSubmit}/>\n                }\n                <div className={'CreateTransactionModal__footer'}>\n                    <GradientButton onClick={this.onNextClick}\n                                    title={'Next'}\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state, props) => {\n    const {transactionType} = props;\n    const {dneroWallet} = state;\n    const selectedAddress = dneroWallet.selectedAddress;\n    const identities = dneroWallet.identities;\n    const accounts = dneroWallet.accounts;\n    const tokens = dneroWallet.tokens;\n    const chainId = dneroWallet.network.chainId;\n\n    return {\n        transactionType: transactionType,\n\n        selectedAddress: selectedAddress,\n        selectedIdentity: identities[selectedAddress],\n        selectedAccount: accounts[selectedAddress],\n        chainId: chainId,\n\n        // Not ideal to pass this whole state but helps with the form data -> tx\n        dneroWallet: dneroWallet,\n\n        assets: getAllAssets(chainId, tokens),\n    };\n};\n\nexport default connect(mapStateToProps)(CreateTransactionModal);\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {truncate} from '../utils/Utils';\nimport {hideModal} from \"../state/actions/ui\";\n\nexport class DelegatedNodeSelectorModal extends React.Component {\n    onNodeClick = (node) => {\n        const {onSelectNode} = this.props;\n\n        this.props.dispatch(hideModal());\n\n        if(onSelectNode){\n            onSelectNode(node);\n        }\n    };\n\n    render() {\n        const {delegatedSentryNodes} = this.props;\n\n        return (\n            <div className={'DelegatedNodeSelectorModal'}>\n                <div className='DelegatedNodeSelectorModal__header'>\n                    <div className='DelegatedNodeSelectorModal__header-title'>Select Delegated Node</div>\n                </div>\n                <div className='DelegatedNodeSelectorModal__content'>\n                    <div className='DelegatedNodeSelectorModal__message'>\n                        Delegated staking Sentry Nodes are nodes run by Dnero community volunteers. Uptime of these nodes is not guaranteed, and you may not receive full DTOKEN rewards if the node you delegate to has significant downtime.\n                    </div>\n                    <div className='DelegatedNodeList'>\n                        {\n                            delegatedSentryNodes.map((node) => {\n                                return (\n                                    <div key={node.address}\n                                         className={'DelegatedNodeListItem'}\n                                         onClick={() => {\n                                             this.onNodeClick(node);\n                                         }}\n                                    >\n                                        <div className='DelegatedNodeListItem__name'>\n                                            <span>{node.name}</span>\n                                            <span className='DelegatedNodeListItem__fee'>{`${node.fee} Fee`}</span>\n                                        </div>\n                                        <div className='DelegatedNodeListItem__address'>{truncate(node.address)}</div>\n                                    </div>\n                                );\n                            })\n                        }\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state, props) => {\n    const { dneroWallet } = state;\n    const delegatedSentryNodes = dneroWallet.delegatedSentryNodes;\n\n    return {\n        delegatedSentryNodes: delegatedSentryNodes,\n\n        onSelectNode: props.onSelectNode\n    };\n};\n\nexport default connect(mapStateToProps)(DelegatedNodeSelectorModal);\n","import _ from 'lodash';\nimport React from 'react';\nimport {connect} from 'react-redux';\nimport {ethers} from 'ethers';\nimport GradientButton from '../components/buttons/GradientButton';\nimport {useForm} from 'react-hook-form';\nimport FormField from '../components/FormField';\nimport {addToken} from \"../state/actions/Wallet\";\n\nfunction TrackTokenForm(props){\n    const {onSubmit, defaultValues, formRef, assets} = props;\n    const {register, handleSubmit, errors, watch, setValue} = useForm({\n        mode: 'onChange',\n        defaultValues: defaultValues || {\n            address: '',\n            symbol: '',\n            decimals: ''\n        }\n    });\n\n    return (\n        <form className={'TrackTokenForm'}\n              onSubmit={handleSubmit(onSubmit)}\n              ref={formRef}\n        >\n            <FormField title={'Token Contract Address'}\n                       error={errors.address && 'A valid contract address is required'}\n            >\n                <input name=\"address\"\n                       className={'RoundedInput'}\n                       placeholder={'Enter contract address'}\n                       ref={register({\n                           required: true,\n                           validate: (s) => ethers.utils.isAddress(s)\n                       })} />\n            </FormField>\n\n            <FormField title={'Token Symbol'}\n                       error={errors.symbol && 'Token symbol is required'}\n            >\n                <input name=\"symbol\"\n                       className={'RoundedInput'}\n                       placeholder={'Enter token symbol'}\n                       ref={register({ required: true })} />\n            </FormField>\n\n            <FormField title={'Token Decimals'}\n                       error={errors.decimals && 'Token decimals is required'}\n            >\n                <input name=\"decimals\"\n                       type={'number'}\n                       className={'RoundedInput'}\n                       placeholder={'Enter token decimals'}\n                       ref={register({ required: true })} />\n            </FormField>\n        </form>\n    );\n}\n\n\nexport class TrackTokenModal extends React.Component {\n    constructor() {\n        super();\n\n        this.formRef = React.createRef();\n    }\n\n    onNextClick = () => {\n        this.formRef.current.dispatchEvent(new Event('submit', { cancelable: true, bubbles: true }));\n    }\n\n    onSubmit = (data) => {\n        let {address, symbol, decimals} = data;\n        address = _.trim(address);\n        address = address.toLowerCase();\n        if(!address.startsWith('0x')){\n            address = '0x' + address;\n        }\n\n        this.props.dispatch(addToken({\n            address: _.trim(address),\n            symbol: _.trim(symbol),\n            decimals: parseInt(decimals)\n        }));\n    }\n\n    render() {\n        const {} = this.props;\n        return (\n            <div className={'TrackTokenModal'}>\n                <div className=\"ModalTitle\">\n                    Track Token\n                </div>\n                <TrackTokenForm formRef={this.formRef}\n                                onSubmit={this.onSubmit}/>\n                <div className={'TrackTokenModal__footer'}>\n                    <GradientButton onClick={this.onNextClick}\n                                    title={'Save'}\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n\n    };\n};\n\nexport default connect(mapStateToProps)(TrackTokenModal);\n","import React from 'react'\nimport './Modals.css';\nimport {connect} from 'react-redux'\nimport ReactModal from 'react-modal';\nimport _ from 'lodash';\nimport {hideModal} from \"../state/actions/ui\";\nimport ModalTypes from \"../constants/ModalTypes\";\nimport ReceiveModal from \"../modals/ReceiveModal\";\nimport PrivateKeyModal from \"../modals/PrivateKeyModal\";\nimport NetworkSelectorModal from \"../modals/NetworkSelectorModal\";\nimport ConfirmTransactionModal from \"../modals/ConfirmTransactionModal\";\nimport CreateTransactionModal from \"../modals/CreateTransactionModal\";\nimport DelegatedNodeSelectorModal from \"../modals/DelegatedNodeSelectorModal\";\nimport TrackTokenModal from \"../modals/TrackTokenModal\";\n\nconst ModalComponentByType = {\n    [ModalTypes.RECEIVE]: ReceiveModal,\n    [ModalTypes.PRIVATE_KEY]: PrivateKeyModal,\n    [ModalTypes.NETWORK_SELECTOR]: NetworkSelectorModal,\n    [ModalTypes.CREATE_TRANSACTION]: CreateTransactionModal,\n    [ModalTypes.CONFIRM_TRANSACTION]: ConfirmTransactionModal,\n    [ModalTypes.DELEGATED_NODE_SELECTOR]: DelegatedNodeSelectorModal,\n    [ModalTypes.TRACK_TOKEN]: TrackTokenModal\n};\n\nclass ModalContainer extends React.Component {\n    render() {\n        let modal = this.props.modal;\n        let ModalComponent = (modal ? modal.component : null);\n        let closeable = (modal?.props?.closeable !== false);\n\n        return (\n            <ReactModal\n                isOpen={modal !== null}\n                onRequestClose={this.props.closeModal}\n                ariaHideApp={false}\n                shouldCloseOnOverlayClick={closeable}\n                shouldCloseOnEsc={closeable}\n                overlayClassName=\"ModalOverlay\"\n                className=\"Modal\">\n                {\n                    modal &&\n                    <ModalComponent\n                        closeModal={this.props.closeModal}\n                        {...modal.props}\n                    />\n                }\n            </ReactModal>\n        )\n    }\n}\n\nclass Modals extends React.Component {\n    constructor() {\n        super();\n\n        this.closeModal = this.closeModal.bind(this);\n    }\n\n    closeModal() {\n        this.props.dispatch(hideModal());\n    }\n\n    getModal(idx) {\n        let modalData = _.get(this.props.modals, [idx], null);\n        if (modalData) {\n            modalData = Object.assign({}, modalData, {\n                component: ModalComponentByType[modalData.type]\n            });\n        }\n\n        return modalData;\n    }\n\n    render() {\n        let modal1 = this.getModal(0);\n        let modal2 = this.getModal(1);\n\n        return (\n            <div>\n                <ModalContainer modal={modal1}\n                                closeModal={this.closeModal}/>\n                <ModalContainer modal={modal2}\n                                closeModal={this.closeModal}/>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    modals: state.ui.modals\n});\n\nexport default connect(mapStateToProps, null)(Modals)\n","import React from \"react\";\nimport './UnsupportedDevice.css';\n\nclass UnsupportedDevice extends React.Component {\n    render() {\n        return (\n            <div className=\"UnsupportedDevice\">\n                <div className=\"UnsupportedDevice__content\">\n                    <img className=\"UnsupportedDevice__logo\" src={'/img/logo/dnero_wallet_logo@2x.png'}/>\n                    <div className=\"UnsupportedDevice__title\">\n                        This wallet is currently designed for desktop use only.\n                    </div>\n                    {/* <a className=\"UnsupportedDevice__app-store-badge\"\n                       href=\"https://itunes.apple.com/app/dnero-wallet/id1451094550?mt=8\"\n                       target=\"_blank\"\n                    >\n                        <img src=\"/img/badges/app-store@2x.png\"/>\n                    </a>\n                    <a className=\"UnsupportedDevice__app-store-badge\"\n                       href=\"https://play.google.com/store/apps/details?id=org.dnero.wallet\"\n                       target=\"_blank\"\n                    >\n                        <img src=\"/img/badges/google-play@2x.png\"/>\n                    </a> */}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default UnsupportedDevice;\n","import React, {Component, isValidElement} from 'react';\nimport MDSpinner from 'react-md-spinner';\n\nclass LoadingOverlay extends Component {\n    renderMessage() {\n        const { loadingMessage } = this.props;\n\n        if (!loadingMessage) {\n            return null;\n        }\n\n        return isValidElement(loadingMessage) ? (\n            loadingMessage\n        ) : (\n            <span>{loadingMessage}</span>\n        );\n    }\n\n    render() {\n        return (\n            <div className=\"LoadingOverlay\">\n                <div className=\"LoadingOverlay__container\">\n                    <MDSpinner singleColor=\"#1BDED0\" className={'LoadingOverlay__spinner'}/>\n                    <div className={'LoadingOverlay__message'}>\n                        {this.renderMessage()}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default LoadingOverlay;\n","import React, {Component} from 'react';\nimport './App.css';\nimport NavBar from './components/NavBar'\nimport TabBar from './components/TabBar'\nimport TabBarItem from './components/TabBarItem'\nimport {Pages, WalletPages} from './Pages'\nimport Modals from \"./components/Modals\";\nimport {showModal} from \"./state/actions/ui\";\nimport ModalTypes from \"./constants/ModalTypes\";\nimport {store} from \"./state\";\nimport Router from \"./services/Router\";\nimport UnsupportedDevice from './components/UnsupportedDevice'\nimport Wallet from \"./services/Wallet\";\nimport {isStakingAvailable, areSmartContractsAvailable} from './Flags';\nimport LoadingOverlay from \"./components/LoadingOverlay\";\nimport {connect} from \"react-redux\";\n\nclass WalletTabBar extends Component {\n    constructor() {\n        super();\n\n        this.onSendClick = this.onSendClick.bind(this);\n        this.onReceiveClick = this.onReceiveClick.bind(this);\n    }\n\n    onSendClick() {\n        // store.dispatch(showModal({\n        //     type: ModalTypes.SEND,\n        // }));\n\n        store.dispatch(showModal({\n            type: ModalTypes.CREATE_TRANSACTION,\n            props: {\n                transactionType: 'send'\n            }\n        }));\n    }\n\n    onReceiveClick() {\n        store.dispatch(showModal({\n            type: ModalTypes.RECEIVE,\n        }));\n    }\n\n\n    render() {\n\n        return (\n            <TabBar>\n                <TabBarItem\n                    title=\"Wallet\"\n                    href=\"/wallet/tokens\"\n                    normalIconUrl=\"/img/tab-bar/wallet@2x.png\"\n                    activeIconUrl=\"/img/tab-bar/wallet-active@2x.png\"\n                />\n                <TabBarItem\n                    title=\"Send\"\n                    onClick={this.onSendClick}\n                    normalIconUrl=\"/img/tab-bar/send@2x.png\"\n                    activeIconUrl=\"/img/tab-bar/send-active@2x.png\"\n                />\n                <TabBarItem\n                    title=\"Receive\"\n                    onClick={this.onReceiveClick}\n                    normalIconUrl=\"/img/tab-bar/receive@2x.png\"\n                    activeIconUrl=\"/img/tab-bar/receive-active@2x.png\"\n                />\n                {\n                    isStakingAvailable() &&\n                    <TabBarItem\n                        title=\"Stakes\"\n                        href=\"/wallet/stakes\"\n                        normalIconUrl=\"/img/tab-bar/stakes@2x.png\"\n                        activeIconUrl=\"/img/tab-bar/stakes-active@2x.png\"\n                    />\n                }\n                {\n                    areSmartContractsAvailable() &&\n                    <TabBarItem\n                        title=\"Contract\"\n                        href=\"/wallet/contract\"\n                        normalIconUrl=\"/img/tab-bar/contract@2x.png\"\n                        activeIconUrl=\"/img/tab-bar/contract-active@2x.png\"\n                    />\n                }\n\n                <TabBarItem\n                    title=\"Settings\"\n                    href=\"/wallet/settings\"\n                    normalIconUrl=\"/img/tab-bar/settings@2x.png\"\n                    activeIconUrl=\"/img/tab-bar/settings-active@2x.png\"\n                />\n            </TabBar>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        isLoading: state.ui.isLoading,\n        loadingMessage: state.ui.loadingMessage,\n    };\n};\n\nexport class UnconnectedApp extends Component {\n    componentDidMount() {\n        Router.setHistory(this.props.history);\n    }\n\n    render() {\n        let {isLoading, loadingMessage} = this.props;\n        let address = Wallet.getWalletAddress();\n\n        return (\n            <div className=\"App\">\n                {isLoading && <LoadingOverlay loadingMessage={loadingMessage} />}\n                <NavBar centered={address === null}/>\n                <Pages/>\n                <Modals/>\n                <UnsupportedDevice/>\n            </div>\n        );\n    }\n}\nexport const App = connect(mapStateToProps, null)(UnconnectedApp);\n\n\nexport class UnconnectedWalletApp extends Component {\n    componentDidMount() {\n        Router.setHistory(this.props.history);\n    }\n\n    render() {\n        let {isLoading, loadingMessage} = this.props;\n\n        return (\n            <div className=\"App WalletApp\">\n                {isLoading && <LoadingOverlay loadingMessage={loadingMessage} />}\n                <NavBar/>\n                <WalletTabBar/>\n                <WalletPages/>\n                <Modals/>\n                <UnsupportedDevice/>\n            </div>\n        );\n    }\n}\nexport const WalletApp = connect(mapStateToProps, null)(UnconnectedWalletApp);\n\n","import Dnero from './services/Dnero';\nimport Networks, {canViewSmartContracts} from './constants/Networks';\nimport DneroJS from \"./libs/dnerojs.esm\";\n\nexport function isStakingAvailable(){\n    return true;\n}\n\nexport function canStakeFromHardwareWallet(){\n    return true;\n}\n\nexport function areSmartContractsAvailable(){\n    const network = Dnero.getChainID();\n\n    return canViewSmartContracts(network);\n}\n\nexport function getMinStakeAmount(purpose){\n    if(purpose === DneroJS.StakePurposes.StakeForValidator){\n        return 2000000.0;\n    }\n    else if(purpose === DneroJS.StakePurposes.StakeForSentry){\n        return 1000.0;\n    }\n    else if(purpose === DneroJS.StakePurposes.StakeForEliteEdge){\n        return 10000.0;\n    }\n\n    //Unknown\n    return 0.0;\n}\n\nexport function getMaxStakeAmount(purpose){\n    if(purpose === DneroJS.StakePurposes.StakeForEliteEdge){\n        return 500000.0;\n    }\n\n    //No max\n    return 100000000000.0;\n}\n\nexport function getMaxDelegatedStakeAmount(purpose){\n    if(purpose === DneroJS.StakePurposes.StakeForSentry){\n        return 10000.0;\n    }\n\n    //Unknown\n    return 0.0;\n}\n","import React from 'react';\nimport './Alert.css';\n\nconst classNames = require('classnames');\n\n// the style contains only the margin given as offset\n// options contains all alert given options\n// message is the alert message\n// close is a function that closes the alert\nconst Alert = ({ message, options, style, close }) => {\n    let type = options.type;\n    let typeModifierClass = `Alert--${type}`;\n    let className = classNames(\"Alert\", typeModifierClass);\n\n    return (\n        <div style={style} className={className}>\n            <img src={`/img/icons/alert-${type}@2x.png`}\n                 className=\"Alert__icon\"\n            />\n            <div className=\"Alert__message\">{message}</div>\n            {\n                close &&\n                <button className=\"Alert__close-button\" onClick={close}>\n                    <img src={'/img/icons/alert-x@2x.png'}/>\n                </button>\n            }\n        </div>\n    )\n};\n\nexport default Alert;\n","import React, {Component} from 'react';\nimport {BrowserRouter, Redirect, Route, Switch} from 'react-router-dom'\nimport {Provider} from 'react-redux'\nimport {store} from \"./state\";\nimport {App, WalletApp} from './App'\nimport {Provider as AlertProvider} from 'react-alert'\nimport Alerts from './services/Alerts'\nimport Alert from './components/Alert'\nimport { hot } from 'react-hot-loader/root'\nimport Wallet from \"./services/Wallet\";\nimport {UPDATE_DNERO_WALLET_STATE} from \"./state/types/DneroWallet\";\n\n// optional cofiguration\nconst options = {\n    // you can also just use 'bottom center'\n    position: 'top center',\n    timeout: 5000,\n    offset: '30px',\n    transition: 'scale'\n};\n\nclass AppWrapper extends Component {\n    componentDidMount() {\n        Wallet.controller.on('update', (data) => {\n            store.dispatch({\n                type: UPDATE_DNERO_WALLET_STATE,\n                data: data\n            });\n        });\n    }\n\n    render() {\n        let alertRef = Alerts.getRef();\n\n        return (\n            <BrowserRouter>\n                <Provider store={store}>\n                    <AlertProvider ref={alertRef}\n                                   template={Alert}\n                                   {...options}>\n                        <Switch>\n                            <Redirect from='/' to='/unlock' exact={true}/>\n                            <Route path=\"/wallet\" component={WalletApp}/>\n                            <Route path=\"/\" component={App}/>\n                        </Switch>\n                    </AlertProvider>\n                </Provider>\n            </BrowserRouter>\n        );\n    }\n}\n\n// export default AppWrapper;\nexport default process.env.NODE_ENV === \"development\" ? hot(AppWrapper) : AppWrapper;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport AppWrapper from './AppWrapper';\nimport {BigNumber} from 'bignumber.js';\n\nBigNumber.config({ EXPONENTIAL_AT: 1e+9 });\n\nReactDOM.render(<AppWrapper />, document.getElementById('root'));\n\nwindow.onerror = function(message, url, line, col, error) {\n    console.log('Caught error...skipping');\n};\n","import Networks from './constants/Networks'\n\nconst config = {\n    isDneroNetworkLive: true,\n\n    defaultDneroChainID: Networks.DNERO_MAINNET,\n\n    faucetAvailable: true\n};\n\nexport default config;\n"],"sourceRoot":""}