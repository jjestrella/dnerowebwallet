{"ast":null,"code":"import _objectDestructuringEmpty from\"/Users/jjestrella/DNERO_Protocol/dnerowebwallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty\";import _classCallCheck from\"/Users/jjestrella/DNERO_Protocol/dnerowebwallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jjestrella/DNERO_Protocol/dnerowebwallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jjestrella/DNERO_Protocol/dnerowebwallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jjestrella/DNERO_Protocol/dnerowebwallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _ from'lodash';import React from'react';import{connect}from'react-redux';import{ethers}from'ethers';import GradientButton from'../components/buttons/GradientButton';import{useForm}from'react-hook-form';import FormField from'../components/FormField';import{addToken}from\"../state/actions/Wallet\";function TrackTokenForm(props){var onSubmit=props.onSubmit,defaultValues=props.defaultValues,formRef=props.formRef,assets=props.assets;var _useForm=useForm({mode:'onChange',defaultValues:defaultValues||{address:'',symbol:'',decimals:''}}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.errors,watch=_useForm.watch,setValue=_useForm.setValue;return/*#__PURE__*/React.createElement(\"form\",{className:'TrackTokenForm',onSubmit:handleSubmit(onSubmit),ref:formRef},/*#__PURE__*/React.createElement(FormField,{title:'Token Contract Address',error:errors.address&&'A valid contract address is required'},/*#__PURE__*/React.createElement(\"input\",{name:\"address\",className:'RoundedInput',placeholder:'Enter contract address',ref:register({required:true,validate:function validate(s){return ethers.utils.isAddress(s);}})})),/*#__PURE__*/React.createElement(FormField,{title:'Token Symbol',error:errors.symbol&&'Token symbol is required'},/*#__PURE__*/React.createElement(\"input\",{name:\"symbol\",className:'RoundedInput',placeholder:'Enter token symbol',ref:register({required:true})})),/*#__PURE__*/React.createElement(FormField,{title:'Token Decimals',error:errors.decimals&&'Token decimals is required'},/*#__PURE__*/React.createElement(\"input\",{name:\"decimals\",type:'number',className:'RoundedInput',placeholder:'Enter token decimals',ref:register({required:true})})));}export var TrackTokenModal=/*#__PURE__*/function(_React$Component){_inherits(TrackTokenModal,_React$Component);var _super=_createSuper(TrackTokenModal);function TrackTokenModal(){var _this;_classCallCheck(this,TrackTokenModal);_this=_super.call(this);_this.onNextClick=function(){_this.formRef.current.dispatchEvent(new Event('submit',{cancelable:true,bubbles:true}));};_this.onSubmit=function(data){var address=data.address,symbol=data.symbol,decimals=data.decimals;address=_.trim(address);address=address.toLowerCase();if(!address.startsWith('0x')){address='0x'+address;}_this.props.dispatch(addToken({address:_.trim(address),symbol:_.trim(symbol),decimals:parseInt(decimals)}));};_this.formRef=React.createRef();return _this;}_createClass(TrackTokenModal,[{key:\"render\",value:function render(){_objectDestructuringEmpty(this.props);return/*#__PURE__*/React.createElement(\"div\",{className:'TrackTokenModal'},/*#__PURE__*/React.createElement(\"div\",{className:\"ModalTitle\"},\"Track Token\"),/*#__PURE__*/React.createElement(TrackTokenForm,{formRef:this.formRef,onSubmit:this.onSubmit}),/*#__PURE__*/React.createElement(\"div\",{className:'TrackTokenModal__footer'},/*#__PURE__*/React.createElement(GradientButton,{onClick:this.onNextClick,title:'Save'})));}}]);return TrackTokenModal;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{};};export default connect(mapStateToProps)(TrackTokenModal);","map":{"version":3,"names":["_","React","connect","ethers","GradientButton","useForm","FormField","addToken","TrackTokenForm","props","onSubmit","defaultValues","formRef","assets","mode","address","symbol","decimals","register","handleSubmit","errors","watch","setValue","required","validate","s","utils","isAddress","TrackTokenModal","onNextClick","current","dispatchEvent","Event","cancelable","bubbles","data","trim","toLowerCase","startsWith","dispatch","parseInt","createRef","Component","mapStateToProps","state"],"sources":["/Users/jjestrella/DNERO_Protocol/dnerowebwallet/src/modals/TrackTokenModal.js"],"sourcesContent":["import _ from 'lodash';\nimport React from 'react';\nimport {connect} from 'react-redux';\nimport {ethers} from 'ethers';\nimport GradientButton from '../components/buttons/GradientButton';\nimport {useForm} from 'react-hook-form';\nimport FormField from '../components/FormField';\nimport {addToken} from \"../state/actions/Wallet\";\n\nfunction TrackTokenForm(props){\n    const {onSubmit, defaultValues, formRef, assets} = props;\n    const {register, handleSubmit, errors, watch, setValue} = useForm({\n        mode: 'onChange',\n        defaultValues: defaultValues || {\n            address: '',\n            symbol: '',\n            decimals: ''\n        }\n    });\n\n    return (\n        <form className={'TrackTokenForm'}\n              onSubmit={handleSubmit(onSubmit)}\n              ref={formRef}\n        >\n            <FormField title={'Token Contract Address'}\n                       error={errors.address && 'A valid contract address is required'}\n            >\n                <input name=\"address\"\n                       className={'RoundedInput'}\n                       placeholder={'Enter contract address'}\n                       ref={register({\n                           required: true,\n                           validate: (s) => ethers.utils.isAddress(s)\n                       })} />\n            </FormField>\n\n            <FormField title={'Token Symbol'}\n                       error={errors.symbol && 'Token symbol is required'}\n            >\n                <input name=\"symbol\"\n                       className={'RoundedInput'}\n                       placeholder={'Enter token symbol'}\n                       ref={register({ required: true })} />\n            </FormField>\n\n            <FormField title={'Token Decimals'}\n                       error={errors.decimals && 'Token decimals is required'}\n            >\n                <input name=\"decimals\"\n                       type={'number'}\n                       className={'RoundedInput'}\n                       placeholder={'Enter token decimals'}\n                       ref={register({ required: true })} />\n            </FormField>\n        </form>\n    );\n}\n\n\nexport class TrackTokenModal extends React.Component {\n    constructor() {\n        super();\n\n        this.formRef = React.createRef();\n    }\n\n    onNextClick = () => {\n        this.formRef.current.dispatchEvent(new Event('submit', { cancelable: true, bubbles: true }));\n    }\n\n    onSubmit = (data) => {\n        let {address, symbol, decimals} = data;\n        address = _.trim(address);\n        address = address.toLowerCase();\n        if(!address.startsWith('0x')){\n            address = '0x' + address;\n        }\n\n        this.props.dispatch(addToken({\n            address: _.trim(address),\n            symbol: _.trim(symbol),\n            decimals: parseInt(decimals)\n        }));\n    }\n\n    render() {\n        const {} = this.props;\n        return (\n            <div className={'TrackTokenModal'}>\n                <div className=\"ModalTitle\">\n                    Track Token\n                </div>\n                <TrackTokenForm formRef={this.formRef}\n                                onSubmit={this.onSubmit}/>\n                <div className={'TrackTokenModal__footer'}>\n                    <GradientButton onClick={this.onNextClick}\n                                    title={'Save'}\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n\n    };\n};\n\nexport default connect(mapStateToProps)(TrackTokenModal);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}