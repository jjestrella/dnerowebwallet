{"ast":null,"code":"import _classCallCheck from\"/Users/jjestrella/DNERO_Protocol/dnerowebwallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jjestrella/DNERO_Protocol/dnerowebwallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jjestrella/DNERO_Protocol/dnerowebwallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jjestrella/DNERO_Protocol/dnerowebwallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _ from'lodash';import React from\"react\";import'./WalletTokenList.css';import WalletTokenListItem from'./WalletTokenListItem';import Dnero from'../services/Dnero';import moment from\"moment\";import{formatNativeTokenAmountToLargestUnit,formatDNC20TokenAmountToLargestUnit}from\"../utils/Utils\";import{showModal}from\"../state/actions/ui\";import ModalTypes from\"../constants/ModalTypes\";import{store}from\"../state\";var WalletTokenList=/*#__PURE__*/function(_React$Component){_inherits(WalletTokenList,_React$Component);var _super=_createSuper(WalletTokenList);function WalletTokenList(){var _this;_classCallCheck(this,WalletTokenList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.onAddTokenClick=function(){store.dispatch(showModal({type:ModalTypes.TRACK_TOKEN}));};return _this;}_createClass(WalletTokenList,[{key:\"render\",value:function render(){var _this$props=this.props,selectedAccount=_this$props.selectedAccount,tokens=_this$props.tokens,assets=_this$props.assets,balancesRefreshedAt=_this$props.balancesRefreshedAt;return/*#__PURE__*/React.createElement(\"div\",{className:\"WalletTokenList\"},selectedAccount&&selectedAccount.balances&&assets.map(function(asset){var decimals=asset.decimals;var balanceStr=_.get(selectedAccount.balances,[asset.balanceKey],'0');return/*#__PURE__*/React.createElement(WalletTokenListItem,{key:asset.id,token:asset,balance:formatDNC20TokenAmountToLargestUnit(balanceStr,decimals)});}),/*#__PURE__*/React.createElement(\"a\",{className:\"AddTokenCTA\",onClick:this.onAddTokenClick},/*#__PURE__*/React.createElement(\"img\",{className:'AddTokenCTA__icon',src:'/img/icons/add-token.svg'}),/*#__PURE__*/React.createElement(\"div\",{className:'AddTokenCTA__name'},\"Add Token\")),selectedAccount&&_.isEmpty(selectedAccount.balances)&&/*#__PURE__*/React.createElement(\"div\",{className:\"WalletTokenList__refreshed-message\"},\"Loading balances...\"),!_.isNil(balancesRefreshedAt)&&/*#__PURE__*/React.createElement(\"div\",{className:\"WalletTokenList__refreshed-message\"},\"Balances refreshed \".concat(moment(balancesRefreshedAt).fromNow())),selectedAccount&&/*#__PURE__*/React.createElement(\"a\",{className:\"WalletTokenList__explorer-link\",href:Dnero.getAccountExplorerUrl(selectedAccount.address),target:'_blank',rel:\"noopener noreferrer\"},\"View Account on Explorer\"));}}]);return WalletTokenList;}(React.Component);export default WalletTokenList;","map":{"version":3,"names":["_","React","WalletTokenListItem","Dnero","moment","formatNativeTokenAmountToLargestUnit","formatDNC20TokenAmountToLargestUnit","showModal","ModalTypes","store","WalletTokenList","onAddTokenClick","dispatch","type","TRACK_TOKEN","props","selectedAccount","tokens","assets","balancesRefreshedAt","balances","map","asset","decimals","balanceStr","get","balanceKey","id","isEmpty","isNil","fromNow","getAccountExplorerUrl","address","Component"],"sources":["/Users/jjestrella/DNERO_Protocol/dnerowebwallet/src/components/WalletTokenList.js"],"sourcesContent":["import _ from 'lodash';\nimport React from \"react\";\nimport './WalletTokenList.css';\nimport WalletTokenListItem from './WalletTokenListItem'\nimport Dnero from '../services/Dnero';\nimport moment from \"moment\";\nimport {formatNativeTokenAmountToLargestUnit, formatDNC20TokenAmountToLargestUnit} from \"../utils/Utils\";\nimport {showModal} from \"../state/actions/ui\";\nimport ModalTypes from \"../constants/ModalTypes\";\nimport {store} from \"../state\";\n\nclass WalletTokenList extends React.Component {\n    onAddTokenClick = () => {\n        store.dispatch(showModal({\n            type: ModalTypes.TRACK_TOKEN\n        }))\n    }\n\n    render() {\n        const {selectedAccount, tokens, assets, balancesRefreshedAt} = this.props;\n\n        return (\n            <div className=\"WalletTokenList\">\n                {\n                    selectedAccount && selectedAccount.balances &&\n                    assets.map((asset) => {\n                        const decimals = asset.decimals;\n                        const balanceStr = _.get(selectedAccount.balances, [asset.balanceKey], '0');\n\n                        return (\n                            <WalletTokenListItem key={asset.id}\n                                                 token={asset}\n                                                 balance={formatDNC20TokenAmountToLargestUnit(balanceStr, decimals)}\n                            />\n                        )\n                    })\n                }\n\n                <a className='AddTokenCTA'\n                   onClick={this.onAddTokenClick}\n                >\n                    <img className={'AddTokenCTA__icon'}\n                         src={'/img/icons/add-token.svg'}/>\n                    <div className={'AddTokenCTA__name'}>Add Token</div>\n                </a>\n\n                {\n                    selectedAccount && _.isEmpty(selectedAccount.balances) &&\n                    <div className=\"WalletTokenList__refreshed-message\">Loading balances...</div>\n                }\n\n                {\n                    !_.isNil(balancesRefreshedAt) &&\n                    <div\n                        className=\"WalletTokenList__refreshed-message\">{`Balances refreshed ${moment(balancesRefreshedAt).fromNow()}`}</div>\n                }\n\n                {\n                    selectedAccount &&\n                    <a className=\"WalletTokenList__explorer-link\"\n                       href={Dnero.getAccountExplorerUrl(selectedAccount.address)}\n                       target={'_blank'}\n                       rel='noopener noreferrer'\n                    >\n                        View Account on Explorer\n                    </a>\n                }\n            </div>\n        );\n    }\n}\n\nexport default WalletTokenList;\n"],"mappings":"woBAAA,MAAOA,EAAP,KAAc,QAAd,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAO,uBAAP,CACA,MAAOC,oBAAP,KAAgC,uBAAhC,CACA,MAAOC,MAAP,KAAkB,mBAAlB,CACA,MAAOC,OAAP,KAAmB,QAAnB,CACA,OAAQC,oCAAR,CAA8CC,mCAA9C,KAAwF,gBAAxF,CACA,OAAQC,SAAR,KAAwB,qBAAxB,CACA,MAAOC,WAAP,KAAuB,yBAAvB,CACA,OAAQC,KAAR,KAAoB,UAApB,C,GAEMC,gB,2WACFC,e,CAAkB,UAAM,CACpBF,KAAK,CAACG,QAAN,CAAeL,SAAS,CAAC,CACrBM,IAAI,CAAEL,UAAU,CAACM,WADI,CAAD,CAAxB,EAGH,C,iEAED,iBAAS,CACL,gBAA+D,KAAKC,KAApE,CAAOC,eAAP,aAAOA,eAAP,CAAwBC,MAAxB,aAAwBA,MAAxB,CAAgCC,MAAhC,aAAgCA,MAAhC,CAAwCC,mBAAxC,aAAwCA,mBAAxC,CAEA,mBACI,2BAAK,SAAS,CAAC,iBAAf,EAEQH,eAAe,EAAIA,eAAe,CAACI,QAAnC,EACAF,MAAM,CAACG,GAAP,CAAW,SAACC,KAAD,CAAW,CAClB,GAAMC,SAAQ,CAAGD,KAAK,CAACC,QAAvB,CACA,GAAMC,WAAU,CAAGxB,CAAC,CAACyB,GAAF,CAAMT,eAAe,CAACI,QAAtB,CAAgC,CAACE,KAAK,CAACI,UAAP,CAAhC,CAAoD,GAApD,CAAnB,CAEA,mBACI,oBAAC,mBAAD,EAAqB,GAAG,CAAEJ,KAAK,CAACK,EAAhC,CACqB,KAAK,CAAEL,KAD5B,CAEqB,OAAO,CAAEhB,mCAAmC,CAACkB,UAAD,CAAaD,QAAb,CAFjE,EADJ,CAMH,CAVD,CAHR,cAgBI,yBAAG,SAAS,CAAC,aAAb,CACG,OAAO,CAAE,KAAKZ,eADjB,eAGI,2BAAK,SAAS,CAAE,mBAAhB,CACK,GAAG,CAAE,0BADV,EAHJ,cAKI,2BAAK,SAAS,CAAE,mBAAhB,cALJ,CAhBJ,CAyBQK,eAAe,EAAIhB,CAAC,CAAC4B,OAAF,CAAUZ,eAAe,CAACI,QAA1B,CAAnB,eACA,2BAAK,SAAS,CAAC,oCAAf,wBA1BR,CA8BQ,CAACpB,CAAC,CAAC6B,KAAF,CAAQV,mBAAR,CAAD,eACA,2BACI,SAAS,CAAC,oCADd,+BAC0Ef,MAAM,CAACe,mBAAD,CAAN,CAA4BW,OAA5B,EAD1E,EA/BR,CAoCQd,eAAe,eACf,yBAAG,SAAS,CAAC,gCAAb,CACG,IAAI,CAAEb,KAAK,CAAC4B,qBAAN,CAA4Bf,eAAe,CAACgB,OAA5C,CADT,CAEG,MAAM,CAAE,QAFX,CAGG,GAAG,CAAC,qBAHP,6BArCR,CADJ,CAgDH,C,6BA1DyB/B,KAAK,CAACgC,S,EA6DpC,cAAevB,gBAAf"},"metadata":{},"sourceType":"module"}