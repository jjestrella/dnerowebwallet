{"ast":null,"code":"import _classCallCheck from\"/Users/jjestrella/DNERO_Protocol/dnerowebwallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jjestrella/DNERO_Protocol/dnerowebwallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jjestrella/DNERO_Protocol/dnerowebwallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jjestrella/DNERO_Protocol/dnerowebwallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";var _require=require('events'),EventEmitter=_require.EventEmitter;var ObservableStore=/*#__PURE__*/function(_EventEmitter){_inherits(ObservableStore,_EventEmitter);var _super=_createSuper(ObservableStore);function ObservableStore(){var _this;var initState=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,ObservableStore);_this=_super.call(this);// set init state\n_this._state=initState;return _this;}// wrapper around internal getState\n_createClass(ObservableStore,[{key:\"getState\",value:function getState(){return this._getState();}// wrapper around internal putState\n},{key:\"putState\",value:function putState(newState){this._putState(newState);this.emit('update',newState);}},{key:\"updateState\",value:function updateState(partialState){// if non-null object, merge\nif(partialState&&typeof partialState==='object'){var state=this.getState();var newState=Object.assign({},state,partialState);this.putState(newState);// if not object, use new value\n}else{this.putState(partialState);}}// subscribe to changes\n},{key:\"subscribe\",value:function subscribe(handler){this.on('update',handler);}// unsubscribe to changes\n},{key:\"unsubscribe\",value:function unsubscribe(handler){this.removeListener('update',handler);}//\n// private\n//\n// read from persistence\n},{key:\"_getState\",value:function _getState(){return this._state;}// write to persistence\n},{key:\"_putState\",value:function _putState(newState){this._state=newState;}}]);return ObservableStore;}(EventEmitter);export{ObservableStore as default};","map":{"version":3,"names":["require","EventEmitter","ObservableStore","initState","_state","_getState","newState","_putState","emit","partialState","state","getState","Object","assign","putState","handler","on","removeListener"],"sources":["/Users/jjestrella/DNERO_Protocol/dnerowebwallet/src/utils/ObservableStore.js"],"sourcesContent":["const { EventEmitter } = require('events');\n\nexport default class ObservableStore extends EventEmitter {\n\n    constructor (initState = {}) {\n        super();\n        // set init state\n        this._state = initState;\n    }\n\n    // wrapper around internal getState\n    getState () {\n        return this._getState();\n    }\n\n    // wrapper around internal putState\n    putState (newState) {\n        this._putState(newState);\n        this.emit('update', newState);\n    }\n\n    updateState (partialState) {\n        // if non-null object, merge\n        if (partialState && typeof partialState === 'object') {\n            const state = this.getState();\n            const newState = Object.assign({}, state, partialState);\n            this.putState(newState);\n            // if not object, use new value\n        } else {\n            this.putState(partialState);\n        }\n    }\n\n    // subscribe to changes\n    subscribe (handler) {\n        this.on('update', handler);\n    }\n\n    // unsubscribe to changes\n    unsubscribe (handler) {\n        this.removeListener('update', handler);\n    }\n\n    //\n    // private\n    //\n\n    // read from persistence\n    _getState () {\n        return this._state;\n    }\n\n    // write to persistence\n    _putState (newState) {\n        this._state = newState;\n    }\n}\n"],"mappings":"woBAAA,aAAyBA,OAAO,CAAC,QAAD,CAAhC,CAAQC,YAAR,UAAQA,YAAR,C,GAEqBC,gB,wHAEjB,0BAA6B,cAAhBC,UAAgB,2DAAJ,EAAI,uCACzB,wBACA;AACA,MAAKC,MAAL,CAAcD,SAAd,CAHyB,aAI5B,CAED;oDACA,mBAAY,CACR,MAAO,MAAKE,SAAL,EAAP,CACH,CAED;wBACA,kBAAUC,QAAV,CAAoB,CAChB,KAAKC,SAAL,CAAeD,QAAf,EACA,KAAKE,IAAL,CAAU,QAAV,CAAoBF,QAApB,EACH,C,2BAED,qBAAaG,YAAb,CAA2B,CACvB;AACA,GAAIA,YAAY,EAAI,MAAOA,aAAP,GAAwB,QAA5C,CAAsD,CAClD,GAAMC,MAAK,CAAG,KAAKC,QAAL,EAAd,CACA,GAAML,SAAQ,CAAGM,MAAM,CAACC,MAAP,CAAc,EAAd,CAAkBH,KAAlB,CAAyBD,YAAzB,CAAjB,CACA,KAAKK,QAAL,CAAcR,QAAd,EACA;AACH,CALD,IAKO,CACH,KAAKQ,QAAL,CAAcL,YAAd,EACH,CACJ,CAED;yBACA,mBAAWM,OAAX,CAAoB,CAChB,KAAKC,EAAL,CAAQ,QAAR,CAAkBD,OAAlB,EACH,CAED;2BACA,qBAAaA,OAAb,CAAsB,CAClB,KAAKE,cAAL,CAAoB,QAApB,CAA8BF,OAA9B,EACH,CAED;AACA;AACA;AAEA;yBACA,oBAAa,CACT,MAAO,MAAKX,MAAZ,CACH,CAED;yBACA,mBAAWE,QAAX,CAAqB,CACjB,KAAKF,MAAL,CAAcE,QAAd,CACH,C,6BArDwCL,Y,SAAxBC,e"},"metadata":{},"sourceType":"module"}