{"ast":null,"code":"import _classCallCheck from\"/Users/jjestrella/DNERO_Protocol/dnerowebwallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jjestrella/DNERO_Protocol/dnerowebwallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";//\n//const BASE_URL = \"https://api-wallet.dnerochain.org\";\nvar BASE_URL=\"http://143.198.132.249:7554/api\";//WebWallet_DEDICATED_ETH-RPC_API\nvar DEFAULT_HEADERS={'Accept':'application/json','Content-Type':'application/json'};//\n//Helpers\n//\nexport function isResponseSuccessful(response){var status=response.status;return status===200||status===201||status===202||status===204;}function objectToQueryString(object){if(!object){return\"\";}var queryString=Object.keys(object).map(function(key){var val=object[key];if(val){return encodeURIComponent(key)+'='+encodeURIComponent(object[key]);}}).join('&');if(queryString.length>0){return\"?\"+queryString;}else{return\"\";}}//\n//Builders\n//\nfunction buildHeaders(additionalHeaders){//TODO inject auth headers here...\nreturn Object.assign(DEFAULT_HEADERS,additionalHeaders);}function buildURL(path,queryParams){var url=null;if(path.startsWith(\"http://\")||path.startsWith(\"https://\")){url=path+objectToQueryString(queryParams);}else{url=BASE_URL+path+objectToQueryString(queryParams);}return url;}function sendRequest(path,method,additionalHeaders,queryParams,body){var url=buildURL(path,queryParams);var headers=buildHeaders(additionalHeaders);var opts={method:method,headers:headers};if(body){opts['body']=JSON.stringify(body);}return fetch(url,opts);}//\n//Convenience requests\n//\nfunction GET(path,headers,queryParams){return sendRequest(path,\"GET\",headers,queryParams);}function PUT(path,headers,queryParams,body){return sendRequest(path,\"PUT\",headers,queryParams,body);}function POST(path,headers,queryParams,body){return sendRequest(path,\"POST\",headers,queryParams,body);}function DELETE(path,headers,queryParams,body){return sendRequest(path,\"DELETE\",headers,queryParams,body);}var Api=/*#__PURE__*/function(){function Api(){_classCallCheck(this,Api);}_createClass(Api,null,[{key:\"fetchWallet\",value://\n//Wallet\n//\nfunction fetchWallet(address,queryParams){var path=\"/wallet/\".concat(address);return GET(path,null,queryParams);}//\n//Transactions\n//\n},{key:\"createTransaction\",value:function createTransaction(body,queryParams){var path=\"/tx\";return POST(path,null,queryParams,body);}},{key:\"fetchTransaction\",value:function fetchTransaction(transactionID,queryParams){var path=\"/tx/\".concat(transactionID);return GET(path,null,queryParams);}},{key:\"fetchTransactions\",value:function fetchTransactions(address,queryParams){var path=\"/tx/\".concat(address,\"/list\");return GET(path,null,queryParams);}//\n//Sequence\n//\n},{key:\"fetchSequence\",value:function fetchSequence(address,queryParams){var path=\"/sequence/\".concat(address);return GET(path,null,queryParams);}//\n//Stakes\n//\n},{key:\"fetchStakes\",value:function fetchStakes(address,queryParams){var path=\"/stake/\".concat(address,\"/list\");return GET(path,null,queryParams);}//\n//Smart Contract\n//\n},{key:\"callSmartContract\",value:function callSmartContract(body,queryParams){var path=\"/smart-contract/call\";return POST(path,null,queryParams,body);}},{key:\"executeSmartContract\",value:function executeSmartContract(body,queryParams){var path=\"/tx\";return POST(path,null,queryParams,body);}//\n//Faucet\n//\n},{key:\"callFaucet\",value:function callFaucet(address,faucetId){var url=\"https://public-faucet.dnerochain.org/dtoken_faucet\";return sendRequest(url,\"GET\",null,{address:address.toLowerCase(),chain:faucetId},null);}//\n//Sentry Node Delegates\n//\n},{key:\"fetchSentryNodeDelegates\",value:function fetchSentryNodeDelegates(){//let url = `https://api.dnerochain.org/v1/sentry/delegated-nodes`;\nvar url=\"http://143.198.132.249:7554/api/v1/sentry/delegated-nodes\";return sendRequest(url,\"GET\",null,null);}}]);return Api;}();export{Api as default};","map":{"version":3,"names":["BASE_URL","DEFAULT_HEADERS","isResponseSuccessful","response","status","objectToQueryString","object","queryString","Object","keys","map","key","val","encodeURIComponent","join","length","buildHeaders","additionalHeaders","assign","buildURL","path","queryParams","url","startsWith","sendRequest","method","body","headers","opts","JSON","stringify","fetch","GET","PUT","POST","DELETE","Api","address","transactionID","faucetId","toLowerCase","chain"],"sources":["/Users/jjestrella/DNERO_Protocol/dnerowebwallet/src/services/Api.js"],"sourcesContent":["//\n//const BASE_URL = \"https://api-wallet.dnerochain.org\";\nconst BASE_URL = \"http://143.198.132.249:7554/api\"; //WebWallet_DEDICATED_ETH-RPC_API\n\nconst DEFAULT_HEADERS = {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n};\n\n//\n//Helpers\n//\n\nexport function isResponseSuccessful(response){\n    let { status } = response;\n\n    return (status === 200 || status === 201 || status === 202 || status === 204);\n}\n\nfunction objectToQueryString(object) {\n    if(!object){\n        return \"\";\n    }\n\n    let queryString = Object.keys(object).map(function(key) {\n        let val = object[key];\n        if(val){\n            return encodeURIComponent(key) + '=' + encodeURIComponent(object[key]);\n        }\n    }).join('&');\n\n    if(queryString.length > 0){\n        return \"?\" + queryString;\n    }\n    else{\n        return \"\";\n    }\n}\n\n//\n//Builders\n//\n\nfunction buildHeaders(additionalHeaders) {\n    //TODO inject auth headers here...\n    return Object.assign(DEFAULT_HEADERS, additionalHeaders);\n}\n\nfunction buildURL(path, queryParams) {\n    let url = null;\n\n    if(path.startsWith(\"http://\") || path.startsWith(\"https://\")){\n        url = path + objectToQueryString(queryParams);\n    }\n    else{\n        url = BASE_URL + path + objectToQueryString(queryParams);\n    }\n\n    return url;\n}\n\nfunction sendRequest(path, method, additionalHeaders, queryParams, body) {\n    let url = buildURL(path, queryParams);\n    let headers = buildHeaders(additionalHeaders);\n\n    let opts = {\n        method: method,\n        headers: headers,\n    };\n\n    if (body) {\n        opts['body'] = JSON.stringify(body);\n    }\n\n    return fetch(url, opts);\n}\n\n\n//\n//Convenience requests\n//\n\nfunction GET(path, headers, queryParams) {\n    return sendRequest(path, \"GET\", headers, queryParams);\n}\n\nfunction PUT(path, headers, queryParams, body) {\n    return sendRequest(path, \"PUT\", headers, queryParams, body);\n}\n\nfunction POST(path, headers, queryParams, body) {\n    return sendRequest(path, \"POST\", headers, queryParams, body);\n}\n\nfunction DELETE(path, headers, queryParams, body) {\n    return sendRequest(path, \"DELETE\", headers, queryParams, body);\n}\n\nexport default class Api {\n\n    //\n    //Wallet\n    //\n\n    static fetchWallet(address, queryParams) {\n        let path = `/wallet/${ address }`;\n        return GET(path, null, queryParams);\n    }\n\n    //\n    //Transactions\n    //\n\n    static createTransaction(body, queryParams) {\n        let path = `/tx`;\n        return POST(path, null, queryParams, body);\n    }\n\n    static fetchTransaction(transactionID, queryParams) {\n        let path = `/tx/${ transactionID }`;\n        return GET(path, null, queryParams);\n    }\n\n    static fetchTransactions(address, queryParams) {\n        let path = `/tx/${ address }/list`;\n        return GET(path, null, queryParams);\n    }\n\n    //\n    //Sequence\n    //\n\n    static fetchSequence(address, queryParams) {\n        let path = `/sequence/${ address }`;\n        return GET(path, null, queryParams);\n    }\n\n    //\n    //Stakes\n    //\n\n    static fetchStakes(address, queryParams) {\n        let path = `/stake/${ address }/list`;\n        return GET(path, null, queryParams);\n    }\n\n    //\n    //Smart Contract\n    //\n\n    static callSmartContract(body, queryParams) {\n        let path = \"/smart-contract/call\";\n\n        return POST(path, null, queryParams, body);\n    }\n\n    static executeSmartContract(body, queryParams) {\n        let path = \"/tx\";\n\n        return POST(path, null, queryParams, body);\n    }\n\n    //\n    //Faucet\n    //\n\n    static callFaucet(address, faucetId) {\n        let url = `https://public-faucet.dnerochain.org/dtoken_faucet`;\n\n        return sendRequest(url, \"GET\", null, {\n            address: address.toLowerCase(),\n            chain: faucetId\n        }, null);\n    }\n\n    //\n    //Sentry Node Delegates\n    //\n\n    static fetchSentryNodeDelegates() {\n        //let url = `https://api.dnerochain.org/v1/sentry/delegated-nodes`;\n        let url = `http://143.198.132.249:7554/api/v1/sentry/delegated-nodes`;\n\n        return sendRequest(url, \"GET\", null, null);\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}